exports.id=281,exports.ids=[281],exports.modules={8412:(e,t,r)=>{"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return i}});let n=r(65888);function i(e){let{createServerReference:t}=r(72857);return t(e,n.callServer)}},70995:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>I,DiagLogLevel:()=>n,INVALID_SPANID:()=>ed,INVALID_SPAN_CONTEXT:()=>ef,INVALID_TRACEID:()=>ep,ProxyTracer:()=>eN,ProxyTracerProvider:()=>ej,ROOT_CONTEXT:()=>R,SamplingDecision:()=>s,SpanKind:()=>o,SpanStatusCode:()=>l,TraceFlags:()=>a,ValueType:()=>i,baggageEntryMetadataFromString:()=>C,context:()=>eB,createContextKey:()=>N,createNoopMeter:()=>ee,createTraceState:()=>eU,default:()=>e2,defaultTextMapGetter:()=>et,defaultTextMapSetter:()=>er,diag:()=>eF,isSpanContextValid:()=>eE,isValidSpanId:()=>ek,isValidTraceId:()=>ex,metrics:()=>ez,propagation:()=>eY,trace:()=>e1});var n,i,a,s,o,l,u="object"==typeof globalThis?globalThis:global,c="1.9.0",d=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,p=function(e){var t=new Set([e]),r=new Set,n=e.match(d);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=i.prerelease)return function(t){return t===e};function a(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(d);if(!n)return a(e);var s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=s.prerelease||i.major!==s.major?a(e):0===i.major?i.minor===s.minor&&i.patch<=s.patch?(t.add(e),!0):a(e):i.minor<=s.minor?(t.add(e),!0):a(e)}}(c),f=Symbol.for("opentelemetry.js.api."+c.split(".")[0]);function h(e,t,r,n){void 0===n&&(n=!1);var i,a=u[f]=null!==(i=u[f])&&void 0!==i?i:{version:c};if(!n&&a[e]){var s=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(a.version!==c){var s=Error("@opentelemetry/api: Registration of version v"+a.version+" for "+e+" does not match previously registered API v"+c);return r.error(s.stack||s.message),!1}return a[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+c+"."),!0}function g(e){var t,r,n=null===(t=u[f])||void 0===t?void 0:t.version;if(n&&p(n))return null===(r=u[f])||void 0===r?void 0:r[e]}function m(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+c+".");var r=u[f];r&&delete r[e]}var y=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},b=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},v=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return w("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return w("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return w("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return w("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return w("verbose",this._namespace,e)},e}();function w(e,t,r){var n=g("diag");if(n)return r.unshift(t),n[e].apply(n,b([],y(r),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}));var _=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},S=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},A=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=g("diag");if(n)return n[e].apply(n,S([],_(t),!1))}}var t=this;t.setLogger=function(e,r){if(void 0===r&&(r={logLevel:n.INFO}),e===t){var i,a,s,o=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(i=o.stack)&&void 0!==i?i:o.message),!1}"number"==typeof r&&(r={logLevel:r});var l=g("diag"),u=function(e,t){function r(r,n){var i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.NONE?e=n.NONE:e>n.ALL&&(e=n.ALL),t=t||{},{error:r("error",n.ERROR),warn:r("warn",n.WARN),info:r("info",n.INFO),debug:r("debug",n.DEBUG),verbose:r("verbose",n.VERBOSE)}}(null!==(a=r.logLevel)&&void 0!==a?a:n.INFO,e);if(l&&!r.suppressOverrideMessage){var c=null!==(s=Error().stack)&&void 0!==s?s:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+c),u.warn("Current logger will overwrite one already registered from "+c)}return h("diag",u,t,!0)},t.disable=function(){m("diag",t)},t.createComponentLogger=function(e){return new v(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),x=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},k=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=x(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=new e(this._entries);try{for(var s=k(n),o=s.next();!o.done;o=s.next()){var l=o.value;a._entries.delete(l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a},e.prototype.clear=function(){return new e},e}(),T=Symbol("BaggageEntryMetadata"),P=A.instance();function O(e){return void 0===e&&(e={}),new E(new Map(Object.entries(e)))}function C(e){return"string"!=typeof e&&(P.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:T,toString:function(){return e}}}function N(e){return Symbol.for(e)}var R=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var i=new e(r._currentContext);return i._currentContext.set(t,n),i},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}},j=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],I=function(){for(var e=0;e<j.length;e++)this[j[e].n]=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}(j[e].c)},$=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),L=function(){function e(){}return e.prototype.createGauge=function(e,t){return W},e.prototype.createHistogram=function(e,t){return G},e.prototype.createCounter=function(e,t){return K},e.prototype.createUpDownCounter=function(e,t){return J},e.prototype.createObservableGauge=function(e,t){return X},e.prototype.createObservableCounter=function(e,t){return Z},e.prototype.createObservableUpDownCounter=function(e,t){return Y},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),D=function(){},M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype.add=function(e,t){},t}(D),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype.add=function(e,t){},t}(D),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype.record=function(e,t){},t}(D),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype.record=function(e,t){},t}(D),q=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t}(q),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t}(q),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t}(q),V=new L,K=new M,W=new B,G=new F,J=new U,Z=new H,X=new z,Y=new Q;function ee(){return V}!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(i||(i={}));var et={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},er={set:function(e,t,r){null!=e&&(e[t]=r)}},en=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},ei=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},ea=function(){function e(){}return e.prototype.active=function(){return R},e.prototype.with=function(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];return t.call.apply(t,ei([r],en(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),es=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},eo=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},el="context",eu=new ea,ec=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return h(el,e,A.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return(n=this._getContextManager()).with.apply(n,eo([e,t,r],es(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return g(el)||eu},e.prototype.disable=function(){this._getContextManager().disable(),m(el,A.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(a||(a={}));var ed="0000000000000000",ep="00000000000000000000000000000000",ef={traceId:ep,spanId:ed,traceFlags:a.NONE},eh=function(){function e(e){void 0===e&&(e=ef),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),eg=N("OpenTelemetry Context Key SPAN");function em(e){return e.getValue(eg)||void 0}function ey(){return em(ec.getInstance().active())}function eb(e,t){return e.setValue(eg,t)}function ev(e){return e.deleteValue(eg)}function ew(e,t){return eb(e,new eh(t))}function e_(e){var t;return null===(t=em(e))||void 0===t?void 0:t.spanContext()}var eS=/^([0-9a-f]{32})$/i,eA=/^[0-9a-f]{16}$/i;function ex(e){return eS.test(e)&&e!==ep}function ek(e){return eA.test(e)&&e!==ed}function eE(e){return ex(e.traceId)&&ek(e.spanId)}function eT(e){return new eh(e)}var eP=ec.getInstance(),eO=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=eP.active()),null==t?void 0:t.root)return new eh;var n=r&&e_(r);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&eE(n)?new eh(n):new eh},e.prototype.startActiveSpan=function(e,t,r,n){if(!(arguments.length<2)){2==arguments.length?s=t:3==arguments.length?(i=t,s=r):(i=t,a=r,s=n);var i,a,s,o=null!=a?a:eP.active(),l=this.startSpan(e,i,o),u=eb(o,l);return eP.with(u,s,void 0,l)}},e}(),eC=new eO,eN=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):eC},e}(),eR=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new eO},e}()),ej=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var n;return null!==(n=this.getDelegateTracer(e,t,r))&&void 0!==n?n:new eN(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:eR},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)},e}();(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(s||(s={})),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(o||(o={})),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(l||(l={}));var eI="[_0-9a-z-*/]",e$=RegExp("^(?:[a-z]"+eI+"{0,255}|"+("[a-z0-9]"+eI)+"{0,240}@[a-z]"+eI+"{0,13})$"),eL=/^[ -~]{0,255}[!-~]$/,eD=/,|=/,eM=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,r){return t.push(r+"="+e.get(r)),t},[]).join(",")},e.prototype._parse=function(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce(function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var i=r.slice(0,n),a=r.slice(n+1,t.length);e$.test(i)&&eL.test(a)&&!eD.test(a)&&e.set(i,a)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function eU(e){return new eM(e)}var eB=ec.getInstance(),eF=A.instance(),eq=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return V},e}()),eH="metrics",ez=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return h(eH,e,A.instance())},e.prototype.getMeterProvider=function(){return g(eH)||eq},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){m(eH,A.instance())},e})().getInstance(),eQ=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),eV=N("OpenTelemetry Baggage Key");function eK(e){return e.getValue(eV)||void 0}function eW(){return eK(ec.getInstance().active())}function eG(e,t){return e.setValue(eV,t)}function eJ(e){return e.deleteValue(eV)}var eZ="propagation",eX=new eQ,eY=(function(){function e(){this.createBaggage=O,this.getBaggage=eK,this.getActiveBaggage=eW,this.setBaggage=eG,this.deleteBaggage=eJ}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return h(eZ,e,A.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=er),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=et),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){m(eZ,A.instance())},e.prototype._getGlobalPropagator=function(){return g(eZ)||eX},e})().getInstance(),e0="trace",e1=(function(){function e(){this._proxyTracerProvider=new ej,this.wrapSpanContext=eT,this.isSpanContextValid=eE,this.deleteSpan=ev,this.getSpan=em,this.getActiveSpan=ey,this.getSpanContext=e_,this.setSpan=eb,this.setSpanContext=ew}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=h(e0,this._proxyTracerProvider,A.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return g(e0)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){m(e0,A.instance()),this._proxyTracerProvider=new ej},e})().getInstance();let e2={context:eB,diag:eF,metrics:ez,propagation:eY,trace:e1}},15081:(e,t)=>{"use strict";t.Q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},n=(t||{}).decode||i,a=0;a<e.length;){var s=e.indexOf("=",a);if(-1===s)break;var o=e.indexOf(";",a);if(-1===o)o=e.length;else if(o<s){a=e.lastIndexOf(";",s-1)+1;continue}var l=e.slice(a,s).trim();if(void 0===r[l]){var u=e.slice(s+1,o).trim();34===u.charCodeAt(0)&&(u=u.slice(1,-1)),r[l]=function(e,t){try{return t(e)}catch(t){return e}}(u,n)}a=o+1}return r},t.q=function(e,t,i){var s=i||{},o=s.encode||a;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var l=o(t);if(l&&!n.test(l))throw TypeError("argument val is invalid");var u=e+"="+l;if(null!=s.maxAge){var c=s.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(s.domain){if(!n.test(s.domain))throw TypeError("option domain is invalid");u+="; Domain="+s.domain}if(s.path){if(!n.test(s.path))throw TypeError("option path is invalid");u+="; Path="+s.path}if(s.expires){var d=s.expires;if("[object Date]"!==r.call(d)&&!(d instanceof Date)||isNaN(d.valueOf()))throw TypeError("option expires is invalid");u+="; Expires="+d.toUTCString()}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.partitioned&&(u+="; Partitioned"),s.priority)switch("string"==typeof s.priority?s.priority.toLowerCase():s.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var r=Object.prototype.toString,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function a(e){return encodeURIComponent(e)}},47937:(e,t)=>{"use strict";function r(e){for(let t=0;t<e.length;t++){let r=e[t];if("function"!=typeof r)throw Error(`A "use server" file can only export async functions, found ${typeof r}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`)}}Object.defineProperty(t,"h",{enumerable:!0,get:function(){return r}})},81674:(e,t,r)=>{"use strict";Object.defineProperty(t,"j",{enumerable:!0,get:function(){return i}});let n=r(79241);function i(e,t){return(0,n.registerServerReference)(t,e,null)}},10430:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraftMode",{enumerable:!0,get:function(){return a}});let n=r(45869),i=r(63446);class a{get isEnabled(){return this._provider.isEnabled}enable(){let e=n.staticGenerationAsyncStorage.getStore();return e&&(0,i.trackDynamicDataAccessed)(e,"draftMode().enable()"),this._provider.enable()}disable(){let e=n.staticGenerationAsyncStorage.getStore();return e&&(0,i.trackDynamicDataAccessed)(e,"draftMode().disable()"),this._provider.disable()}constructor(e){this._provider=e}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},70574:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{cookies:function(){return p},draftMode:function(){return f},headers:function(){return d}});let n=r(36439),i=r(49400),a=r(57),s=r(72934),o=r(10430),l=r(63446),u=r(45869),c=r(54580);function d(){let e="headers",t=u.staticGenerationAsyncStorage.getStore();if(t){if(t.forceStatic)return i.HeadersAdapter.seal(new Headers({}));(0,l.trackDynamicDataAccessed)(t,e)}return(0,c.getExpectedRequestStore)(e).headers}function p(){let e="cookies",t=u.staticGenerationAsyncStorage.getStore();if(t){if(t.forceStatic)return n.RequestCookiesAdapter.seal(new a.RequestCookies(new Headers({})));(0,l.trackDynamicDataAccessed)(t,e)}let r=(0,c.getExpectedRequestStore)(e),i=s.actionAsyncStorage.getStore();return(null==i?void 0:i.isAction)||(null==i?void 0:i.isAppRoute)?r.mutableCookies:r.cookies}function f(){let e=(0,c.getExpectedRequestStore)("draftMode");return new o.DraftMode(e.draftMode)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return n},isDynamicServerError:function(){return i}});let r="DYNAMIC_SERVER_USAGE";class n extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},62025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return a}});let n=r(41258),i=r(65645);function a(e){return(0,i.isRedirectError)(e)||(0,n.isNotFoundError)(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9965:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return n.RedirectType},notFound:function(){return i.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unstable_rethrow:function(){return a.unstable_rethrow}});let n=r(65645),i=r(41258),a=r(37835);class s extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new s}delete(){throw new s}set(){throw new s}sort(){throw new s}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},41258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return i},notFound:function(){return n}});let r="NEXT_NOT_FOUND";function n(){let e=Error(r);throw e.digest=r,e}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3400:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},65645:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return n},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return h},getRedirectTypeFromError:function(){return f},getURLFromRedirectError:function(){return p},isRedirectError:function(){return d},permanentRedirect:function(){return c},redirect:function(){return u}});let i=r(54580),a=r(72934),s=r(3400),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=s.RedirectStatusCode.TemporaryRedirect);let n=Error(o);n.digest=o+";"+t+";"+e+";"+r+";";let a=i.requestAsyncStorage.getStore();return a&&(n.mutableCookies=a.mutableCookies),n}function u(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,n]=t,i=t.slice(2,-2).join(";"),a=Number(t.at(-2));return r===o&&("replace"===n||"push"===n)&&"string"==typeof i&&!isNaN(a)&&a in s.RedirectStatusCode}function p(e){return d(e)?e.digest.split(";").slice(2,-2).join(";"):null}function f(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function h(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";").at(-2))}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},60539:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{StaticGenBailoutError:function(){return n},isStaticGenBailoutError:function(){return i}});let r="NEXT_STATIC_GEN_BAILOUT";class n extends Error{constructor(...e){super(...e),this.code=r}}function i(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},37835:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,s.isNextRouterError)(t)||(0,a.isBailoutToCSRError)(t)||(0,n.isDynamicUsageError)(t)||(0,i.isPostpone)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(30026),i=r(80613),a=r(7523),s=r(62025);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},64169:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a={};function s(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function o(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[n,i],...a]=o(e),{domain:s,expires:l,httponly:d,maxage:p,path:f,samesite:h,secure:g,partitioned:m,priority:y}=Object.fromEntries(a.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:n,value:decodeURIComponent(i),domain:s,...l&&{expires:new Date(l)},...d&&{httpOnly:!0},..."string"==typeof p&&{maxAge:Number(p)},path:f,...h&&{sameSite:u.includes(t=(t=h).toLowerCase())?t:void 0},...g&&{secure:!0},...y&&{priority:c.includes(r=(r=y).toLowerCase())?r:void 0},...m&&{partitioned:!0}})}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(a,{RequestCookies:()=>d,ResponseCookies:()=>p,parseCookie:()=>o,parseSetCookie:()=>l,stringifyCookie:()=>s}),e.exports=((e,a,s,o)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let l of n(a))i.call(e,l)||l===s||t(e,l,{get:()=>a[l],enumerable:!(o=r(a,l))||o.enumerable});return e})(t({},"__esModule",{value:!0}),a);var u=["strict","lax","none"],c=["low","medium","high"],d=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of o(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>s(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>s(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},p=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=i,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}(i)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=s(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:n,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(s).join("; ")}}},14040:e=>{(()=>{"use strict";var t={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),a=r(930),s="context",o=new n.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(s,e,a.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(s)||o}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(s,a.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),a=r(957),s=r(172);class o{constructor(){function e(e){return function(...t){let r=(0,s.getGlobal)("diag");if(r)return r[e](...t)}}let t=this;t.setLogger=(e,r={logLevel:a.DiagLogLevel.INFO})=>{var n,o,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=e.stack)&&void 0!==n?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,s.getGlobal)("diag"),c=(0,i.createLogLevelDiagLogger)(null!==(o=r.logLevel)&&void 0!==o?o:a.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!==(l=Error().stack)&&void 0!==l?l:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),c.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,s.registerGlobal)("diag",c,t,!0)},t.disable=()=>{(0,s.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),a=r(930),s="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(s,e,a.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(s)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(s,a.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),a=r(194),s=r(277),o=r(369),l=r(930),u="propagation",c=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=s.getBaggage,this.getActiveBaggage=s.getActiveBaggage,this.setBaggage=s.setBaggage,this.deleteBaggage=s.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,l.DiagAPI.instance())}inject(e,t,r=a.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=a.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||c}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),a=r(139),s=r(607),o=r(930),l="trace";class u{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=a.wrapSpanContext,this.isSpanContextValid=a.isSpanContextValid,this.deleteSpan=s.deleteSpan,this.getSpan=s.getSpan,this.getActiveSpan=s.getActiveSpan,this.getSpanContext=s.getSpanContext,this.setSpan=s.setSpan,this.setSpanContext=s.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,o.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function a(e){return e.getValue(i)||void 0}t.getBaggage=a,t.getActiveBaggage=function(){return a(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),a=r(830),s=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(s.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:a.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;let n=r(491);t.context=n.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);class i{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=i},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;let n=r(930);t.diag=n.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);class i{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return a("debug",this._namespace,e)}error(...e){return a("error",this._namespace,e)}info(...e){return a("info",this._namespace,e)}warn(...e){return a("warn",this._namespace,e)}verbose(...e){return a("verbose",this._namespace,e)}}function a(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=i},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class n{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}t.DiagConsoleLogger=n},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),a=r(130),s=i.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${s}`),l=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var a;let s=l[o]=null!==(a=l[o])&&void 0!==a?a:{version:i.VERSION};if(!n&&s[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(s.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return s[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null===(t=l[o])||void 0===t?void 0:t.version;if(n&&(0,a.isCompatible)(n))return null===(r=l[o])||void 0===r?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=l[o];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function a(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function s(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return s(e);let o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=o.prerelease||a.major!==o.major?s(e):0===a.major?a.minor===o.minor&&a.patch<=o.patch?(t.add(e),!0):s(e):a.minor<=o.minor?(t.add(e),!0):s(e)}}t._makeCompatibilityCheck=a,t.isCompatible=a(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;let n=r(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class a extends n{add(e,t){}}t.NoopUpDownCounterMetric=a;class s extends n{record(e,t){}}t.NoopHistogramMetric=s;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class l extends o{}t.NoopObservableCounterMetric=l;class u extends o{}t.NoopObservableGaugeMetric=u;class c extends o{}t.NoopObservableUpDownCounterMetric=c,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new s,t.NOOP_UP_DOWN_COUNTER_METRIC=new a,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new c,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:global},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;let n=r(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;class r{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=r},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;let n=r(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);class i{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}t.NonRecordingSpan=i},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),a=r(403),s=r(139),o=n.ContextAPI.getInstance();class l{startSpan(e,t,r=o.active()){if(null==t?void 0:t.root)return new a.NonRecordingSpan;let n=r&&(0,i.getSpanContext)(r);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,s.isSpanContextValid)(n)?new a.NonRecordingSpan(n):new a.NonRecordingSpan}startActiveSpan(e,t,r,n){let a,s,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(a=t,l=r):(a=t,s=r,l=n);let u=null!=s?s:o.active(),c=this.startSpan(e,a,u),d=(0,i.setSpan)(u,c);return o.with(d,l,void 0,c)}}t.NoopTracer=l},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);class i{getTracer(e,t,r){return new n.NoopTracer}}t.NoopTracerProvider=i},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;class i{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}t.ProxyTracer=i},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;class a{getTracer(e,t,r){var i;return null!==(i=this.getDelegateTracer(e,t,r))&&void 0!==i?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)}}t.ProxyTracerProvider=a},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),a=r(491),s=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(s)||void 0}function l(e,t){return e.setValue(s,t)}t.getSpan=o,t.getActiveSpan=function(){return o(a.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(s)},t.setSpanContext=function(e,t){return l(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let a=r.slice(0,i),s=r.slice(i+1,t.length);(0,n.validateKey)(a)&&(0,n.validateValue)(s)&&e.set(a,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,a=RegExp(`^(?:${n}|${i})$`),s=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return a.test(e)},t.validateValue=function(e){return s.test(e)&&!o.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),a=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function o(e){return a.test(e)&&e!==n.INVALID_TRACEID}function l(e){return s.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=l,t.isSpanContextValid=function(e){return o(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var a=r[e]={exports:{}},s=!0;try{t[e].call(a.exports,a,a.exports,n),s=!1}finally{s&&delete r[e]}return a.exports}n.ab=__dirname+"/";var i={};(()=>{Object.defineProperty(i,"__esModule",{value:!0}),i.trace=i.propagation=i.metrics=i.diag=i.context=i.INVALID_SPAN_CONTEXT=i.INVALID_TRACEID=i.INVALID_SPANID=i.isValidSpanId=i.isValidTraceId=i.isSpanContextValid=i.createTraceState=i.TraceFlags=i.SpanStatusCode=i.SpanKind=i.SamplingDecision=i.ProxyTracerProvider=i.ProxyTracer=i.defaultTextMapSetter=i.defaultTextMapGetter=i.ValueType=i.createNoopMeter=i.DiagLogLevel=i.DiagConsoleLogger=i.ROOT_CONTEXT=i.createContextKey=i.baggageEntryMetadataFromString=void 0;var e=n(369);Object.defineProperty(i,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=n(780);Object.defineProperty(i,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(i,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var r=n(972);Object.defineProperty(i,"DiagConsoleLogger",{enumerable:!0,get:function(){return r.DiagConsoleLogger}});var a=n(957);Object.defineProperty(i,"DiagLogLevel",{enumerable:!0,get:function(){return a.DiagLogLevel}});var s=n(102);Object.defineProperty(i,"createNoopMeter",{enumerable:!0,get:function(){return s.createNoopMeter}});var o=n(901);Object.defineProperty(i,"ValueType",{enumerable:!0,get:function(){return o.ValueType}});var l=n(194);Object.defineProperty(i,"defaultTextMapGetter",{enumerable:!0,get:function(){return l.defaultTextMapGetter}}),Object.defineProperty(i,"defaultTextMapSetter",{enumerable:!0,get:function(){return l.defaultTextMapSetter}});var u=n(125);Object.defineProperty(i,"ProxyTracer",{enumerable:!0,get:function(){return u.ProxyTracer}});var c=n(846);Object.defineProperty(i,"ProxyTracerProvider",{enumerable:!0,get:function(){return c.ProxyTracerProvider}});var d=n(996);Object.defineProperty(i,"SamplingDecision",{enumerable:!0,get:function(){return d.SamplingDecision}});var p=n(357);Object.defineProperty(i,"SpanKind",{enumerable:!0,get:function(){return p.SpanKind}});var f=n(847);Object.defineProperty(i,"SpanStatusCode",{enumerable:!0,get:function(){return f.SpanStatusCode}});var h=n(475);Object.defineProperty(i,"TraceFlags",{enumerable:!0,get:function(){return h.TraceFlags}});var g=n(98);Object.defineProperty(i,"createTraceState",{enumerable:!0,get:function(){return g.createTraceState}});var m=n(139);Object.defineProperty(i,"isSpanContextValid",{enumerable:!0,get:function(){return m.isSpanContextValid}}),Object.defineProperty(i,"isValidTraceId",{enumerable:!0,get:function(){return m.isValidTraceId}}),Object.defineProperty(i,"isValidSpanId",{enumerable:!0,get:function(){return m.isValidSpanId}});var y=n(476);Object.defineProperty(i,"INVALID_SPANID",{enumerable:!0,get:function(){return y.INVALID_SPANID}}),Object.defineProperty(i,"INVALID_TRACEID",{enumerable:!0,get:function(){return y.INVALID_TRACEID}}),Object.defineProperty(i,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return y.INVALID_SPAN_CONTEXT}});let b=n(67);Object.defineProperty(i,"context",{enumerable:!0,get:function(){return b.context}});let v=n(506);Object.defineProperty(i,"diag",{enumerable:!0,get:function(){return v.diag}});let w=n(886);Object.defineProperty(i,"metrics",{enumerable:!0,get:function(){return w.metrics}});let _=n(939);Object.defineProperty(i,"propagation",{enumerable:!0,get:function(){return _.propagation}});let S=n(845);Object.defineProperty(i,"trace",{enumerable:!0,get:function(){return S.trace}}),i.default={context:b.context,diag:v.diag,metrics:w.metrics,propagation:_.propagation,trace:S.trace}})(),e.exports=i})()},73434:(e,t,r)=>{"use strict";var n=r(14569),i={stream:!0},a=new Map;function s(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function o(){}var l=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,u=Symbol.for("react.transitional.element"),c=Symbol.for("react.lazy"),d=Symbol.iterator,p=Symbol.asyncIterator,f=Array.isArray,h=Object.getPrototypeOf,g=Object.prototype,m=new WeakMap;function y(e,t,r,n,i){function a(e,r){r=new Blob([new Uint8Array(r.buffer,r.byteOffset,r.byteLength)]);var n=l++;return null===b&&(b=new FormData),b.append(t+n,r),"$"+e+n.toString(16)}function s(e,_){if(null===_)return null;if("object"==typeof _){switch(_.$$typeof){case u:if(void 0!==r&&-1===e.indexOf(":")){var S,A,x,k,E,T=v.get(this);if(void 0!==T)return r.set(T+":"+e,_),"$T"}throw Error("React Element cannot be passed to Server Functions from the Client without a temporary reference set. Pass a TemporaryReferenceSet to the options.");case c:T=_._payload;var P=_._init;null===b&&(b=new FormData),y++;try{var O=P(T),C=l++,N=o(O,C);return b.append(t+C,N),"$"+C.toString(16)}catch(e){if("object"==typeof e&&null!==e&&"function"==typeof e.then){y++;var R=l++;return T=function(){try{var e=o(_,R),r=b;r.append(t+R,e),y--,0===y&&n(r)}catch(e){i(e)}},e.then(T,T),"$"+R.toString(16)}return i(e),null}finally{y--}}if("function"==typeof _.then){null===b&&(b=new FormData),y++;var j=l++;return _.then(function(e){try{var r=o(e,j);(e=b).append(t+j,r),y--,0===y&&n(e)}catch(e){i(e)}},i),"$@"+j.toString(16)}if(void 0!==(T=v.get(_))){if(w!==_)return T;w=null}else -1===e.indexOf(":")&&void 0!==(T=v.get(this))&&(e=T+":"+e,v.set(_,e),void 0!==r&&r.set(e,_));if(f(_))return _;if(_ instanceof FormData){null===b&&(b=new FormData);var I=b,$=t+(e=l++)+"_";return _.forEach(function(e,t){I.append($+t,e)}),"$K"+e.toString(16)}if(_ instanceof Map)return e=l++,T=o(Array.from(_),e),null===b&&(b=new FormData),b.append(t+e,T),"$Q"+e.toString(16);if(_ instanceof Set)return e=l++,T=o(Array.from(_),e),null===b&&(b=new FormData),b.append(t+e,T),"$W"+e.toString(16);if(_ instanceof ArrayBuffer)return e=new Blob([_]),T=l++,null===b&&(b=new FormData),b.append(t+T,e),"$A"+T.toString(16);if(_ instanceof Int8Array)return a("O",_);if(_ instanceof Uint8Array)return a("o",_);if(_ instanceof Uint8ClampedArray)return a("U",_);if(_ instanceof Int16Array)return a("S",_);if(_ instanceof Uint16Array)return a("s",_);if(_ instanceof Int32Array)return a("L",_);if(_ instanceof Uint32Array)return a("l",_);if(_ instanceof Float32Array)return a("G",_);if(_ instanceof Float64Array)return a("g",_);if(_ instanceof BigInt64Array)return a("M",_);if(_ instanceof BigUint64Array)return a("m",_);if(_ instanceof DataView)return a("V",_);if("function"==typeof Blob&&_ instanceof Blob)return null===b&&(b=new FormData),e=l++,b.append(t+e,_),"$B"+e.toString(16);if(e=null===(S=_)||"object"!=typeof S?null:"function"==typeof(S=d&&S[d]||S["@@iterator"])?S:null)return(T=e.call(_))===_?(e=l++,T=o(Array.from(T),e),null===b&&(b=new FormData),b.append(t+e,T),"$i"+e.toString(16)):Array.from(T);if("function"==typeof ReadableStream&&_ instanceof ReadableStream)return function(e){try{var r,a,o,u,c,d,p,f=e.getReader({mode:"byob"})}catch(u){return r=e.getReader(),null===b&&(b=new FormData),a=b,y++,o=l++,r.read().then(function e(l){if(l.done)a.append(t+o,"C"),0==--y&&n(a);else try{var u=JSON.stringify(l.value,s);a.append(t+o,u),r.read().then(e,i)}catch(e){i(e)}},i),"$R"+o.toString(16)}return u=f,null===b&&(b=new FormData),c=b,y++,d=l++,p=[],u.read(new Uint8Array(1024)).then(function e(r){r.done?(r=l++,c.append(t+r,new Blob(p)),c.append(t+d,'"$o'+r.toString(16)+'"'),c.append(t+d,"C"),0==--y&&n(c)):(p.push(r.value),u.read(new Uint8Array(1024)).then(e,i))},i),"$r"+d.toString(16)}(_);if("function"==typeof(e=_[p]))return A=_,x=e.call(_),null===b&&(b=new FormData),k=b,y++,E=l++,A=A===x,x.next().then(function e(r){if(r.done){if(void 0===r.value)k.append(t+E,"C");else try{var a=JSON.stringify(r.value,s);k.append(t+E,"C"+a)}catch(e){i(e);return}0==--y&&n(k)}else try{var o=JSON.stringify(r.value,s);k.append(t+E,o),x.next().then(e,i)}catch(e){i(e)}},i),"$"+(A?"x":"X")+E.toString(16);if((e=h(_))!==g&&(null===e||null!==h(e))){if(void 0===r)throw Error("Only plain objects, and a few built-ins, can be passed to Server Actions. Classes or null prototypes are not supported.");return"$T"}return _}if("string"==typeof _)return"Z"===_[_.length-1]&&this[e]instanceof Date?"$D"+_:e="$"===_[0]?"$"+_:_;if("boolean"==typeof _)return _;if("number"==typeof _)return Number.isFinite(_)?0===_&&-1/0==1/_?"$-0":_:1/0===_?"$Infinity":-1/0===_?"$-Infinity":"$NaN";if(void 0===_)return"$undefined";if("function"==typeof _){if(void 0!==(T=m.get(_)))return e=JSON.stringify(T,s),null===b&&(b=new FormData),T=l++,b.set(t+T,e),"$F"+T.toString(16);if(void 0!==r&&-1===e.indexOf(":")&&void 0!==(T=v.get(this)))return r.set(T+":"+e,_),"$T";throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof _){if(void 0!==r&&-1===e.indexOf(":")&&void 0!==(T=v.get(this)))return r.set(T+":"+e,_),"$T";throw Error("Symbols cannot be passed to a Server Function without a temporary reference set. Pass a TemporaryReferenceSet to the options.")}if("bigint"==typeof _)return"$n"+_.toString(10);throw Error("Type "+typeof _+" is not supported as an argument to a Server Function.")}function o(e,t){return"object"==typeof e&&null!==e&&(t="$"+t.toString(16),v.set(e,t),void 0!==r&&r.set(t,e)),w=e,JSON.stringify(e,s)}var l=1,y=0,b=null,v=new WeakMap,w=e;e=o(e,0),null===b?n(e):(b.set(t+"0",e),0===y&&n(b))}var b=new WeakMap;function v(e){var t=m.get(this);if(!t)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var r=null;if(null!==t.bound){if((r=b.get(t))||(n=t,s=new Promise(function(e,t){i=e,a=t}),y(n,"",void 0,function(e){if("string"==typeof e){var t=new FormData;t.append("0",e),e=t}s.status="fulfilled",s.value=e,i(e)},function(e){s.status="rejected",s.reason=e,a(e)}),r=s,b.set(t,r)),"rejected"===r.status)throw r.reason;if("fulfilled"!==r.status)throw r;t=r.value;var n,i,a,s,o=new FormData;t.forEach(function(t,r){o.append("$ACTION_"+e+":"+r,t)}),r=o,t="$ACTION_REF_"+e}else t="$ACTION_ID_"+t.id;return{name:t,method:"POST",encType:"multipart/form-data",data:r}}function w(e,t){var r=m.get(this);if(!r)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(r.id!==e)return!1;var n=r.bound;if(null===n)return 0===t;switch(n.status){case"fulfilled":return n.value.length===t;case"pending":throw n;case"rejected":throw n.reason;default:throw"string"!=typeof n.status&&(n.status="pending",n.then(function(e){n.status="fulfilled",n.value=e},function(e){n.status="rejected",n.reason=e})),n}}function _(e,t,r){Object.defineProperties(e,{$$FORM_ACTION:{value:void 0===r?v:function(){var e=m.get(this);if(!e)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var t=e.bound;return null===t&&(t=Promise.resolve([])),r(e.id,t)}},$$IS_SIGNATURE_EQUAL:{value:w},bind:{value:x}}),m.set(e,t)}var S=Function.prototype.bind,A=Array.prototype.slice;function x(){var e=S.apply(this,arguments),t=m.get(this);if(t){var r=A.call(arguments,1),n=null;n=null!==t.bound?Promise.resolve(t.bound).then(function(e){return e.concat(r)}):Promise.resolve(r),Object.defineProperties(e,{$$FORM_ACTION:{value:this.$$FORM_ACTION},$$IS_SIGNATURE_EQUAL:{value:w},bind:{value:x}}),m.set(e,{id:t.id,bound:n})}return e}function k(e,t,r,n){this.status=e,this.value=t,this.reason=r,this._response=n}function E(e){switch(e.status){case"resolved_model":L(e);break;case"resolved_module":D(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":throw e;default:throw e.reason}}function T(e){return new k("pending",null,null,e)}function P(e,t){for(var r=0;r<e.length;r++)(0,e[r])(t)}function O(e,t,r){switch(e.status){case"fulfilled":P(t,e.value);break;case"pending":case"blocked":if(e.value)for(var n=0;n<t.length;n++)e.value.push(t[n]);else e.value=t;if(e.reason){if(r)for(t=0;t<r.length;t++)e.reason.push(r[t])}else e.reason=r;break;case"rejected":r&&P(r,e.reason)}}function C(e,t){if("pending"!==e.status&&"blocked"!==e.status)e.reason.error(t);else{var r=e.reason;e.status="rejected",e.reason=t,null!==r&&P(r,t)}}function N(e,t,r){return new k("resolved_model",(r?'{"done":true,"value":':'{"done":false,"value":')+t+"}",null,e)}function R(e,t,r){j(e,(r?'{"done":true,"value":':'{"done":false,"value":')+t+"}")}function j(e,t){if("pending"!==e.status)e.reason.enqueueModel(t);else{var r=e.value,n=e.reason;e.status="resolved_model",e.value=t,null!==r&&(L(e),O(e,r,n))}}function I(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.value,n=e.reason;e.status="resolved_module",e.value=t,null!==r&&(D(e),O(e,r,n))}}k.prototype=Object.create(Promise.prototype),k.prototype.then=function(e,t){switch(this.status){case"resolved_model":L(this);break;case"resolved_module":D(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t&&t(this.reason)}};var $=null;function L(e){var t=$;$=null;var r=e.value;e.status="blocked",e.value=null,e.reason=null;try{var n=JSON.parse(r,e._response._fromJSON),i=e.value;if(null!==i&&(e.value=null,e.reason=null,P(i,n)),null!==$){if($.errored)throw $.value;if(0<$.deps){$.value=n,$.chunk=e;return}}e.status="fulfilled",e.value=n}catch(t){e.status="rejected",e.reason=t}finally{$=t}}function D(e){try{var t=e.value,r=globalThis.__next_require__(t[0]);if(4===t.length&&"function"==typeof r.then){if("fulfilled"===r.status)r=r.value;else throw r.reason}var n="*"===t[2]?r:""===t[2]?r.__esModule?r.default:r:r[t[2]];e.status="fulfilled",e.value=n}catch(t){e.status="rejected",e.reason=t}}function M(e,t){e._chunks.forEach(function(e){"pending"===e.status&&C(e,t)})}function U(e){return{$$typeof:c,_payload:e,_init:E}}function B(e,t){var r=e._chunks,n=r.get(t);return n||(n=T(e),r.set(t,n)),n}function F(e,t,r,n,i,a){function s(e){if(!o.errored){o.errored=!0,o.value=e;var t=o.chunk;null!==t&&"blocked"===t.status&&C(t,e)}}if($){var o=$;o.deps++}else o=$={parent:null,chunk:null,value:null,deps:1,errored:!1};return e.then(function e(l){for(var d=1;d<a.length;d++){for(;l.$$typeof===c;)if((l=l._payload)===o.chunk)l=o.value;else if("fulfilled"===l.status)l=l.value;else{a.splice(0,d-1),l.then(e,s);return}l=l[a[d]]}t[r]=i(n,l),""===r&&null===o.value&&(o.value=t[r]),t[0]===u&&"3"===r&&"object"==typeof o.value&&null!==o.value&&o.value.$$typeof===u&&null===o.value.props&&(o.value.props=t[r]),o.deps--,0===o.deps&&null!==(d=o.chunk)&&"blocked"===d.status&&(l=d.value,d.status="fulfilled",d.value=o.value,null!==l&&P(l,o.value))},s),null}function q(e,t){return function(e,t,r){function n(){var e=Array.prototype.slice.call(arguments);return a?"fulfilled"===a.status?t(i,a.value.concat(e)):Promise.resolve(a).then(function(r){return t(i,r.concat(e))}):t(i,e)}var i=e.id,a=e.bound;return _(n,{id:i,bound:a},r),n}(t,e._callServer,e._encodeFormAction)}function H(e,t,r,n,i){var a=parseInt((t=t.split(":"))[0],16);switch((a=B(e,a)).status){case"resolved_model":L(a);break;case"resolved_module":D(a)}switch(a.status){case"fulfilled":var s=a.value;for(a=1;a<t.length;a++)if((s=s[t[a]]).$$typeof===c){if("fulfilled"!==(s=s._payload).status)return F(s,r,n,e,i,t.slice(a));s=s.value}return i(e,s);case"pending":case"blocked":return F(a,r,n,e,i,t);default:return $?($.errored=!0,$.value=a.reason):$={parent:null,chunk:null,value:a.reason,deps:0,errored:!0},null}}function z(e,t){return new Map(t)}function Q(e,t){return new Set(t)}function V(e,t){return new Blob(t.slice(1),{type:t[0]})}function K(e,t){e=new FormData;for(var r=0;r<t.length;r++)e.append(t[r][0],t[r][1]);return e}function W(e,t){return t[Symbol.iterator]()}function G(e,t){return t}function J(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function Z(e,t,r,n,i,a){var s,o=new Map;this._bundlerConfig=e,this._moduleLoading=t,this._callServer=void 0!==r?r:J,this._encodeFormAction=n,this._nonce=i,this._chunks=o,this._stringDecoder=new TextDecoder,this._fromJSON=null,this._rowLength=this._rowTag=this._rowID=this._rowState=0,this._buffer=[],this._tempRefs=a,this._fromJSON=(s=this,function(e,t){if("string"==typeof t)return function(e,t,r,n){if("$"===n[0]){if("$"===n)return null!==$&&"0"===r&&($={parent:$,chunk:null,value:null,deps:0,errored:!1}),u;switch(n[1]){case"$":return n.slice(1);case"L":return U(e=B(e,t=parseInt(n.slice(2),16)));case"@":if(2===n.length)return new Promise(function(){});return B(e,t=parseInt(n.slice(2),16));case"S":return Symbol.for(n.slice(2));case"F":return H(e,n=n.slice(2),t,r,q);case"T":if(t="$"+n.slice(2),null==(e=e._tempRefs))throw Error("Missing a temporary reference set but the RSC response returned a temporary reference. Pass a temporaryReference option with the set that was used with the reply.");return e.get(t);case"Q":return H(e,n=n.slice(2),t,r,z);case"W":return H(e,n=n.slice(2),t,r,Q);case"B":return H(e,n=n.slice(2),t,r,V);case"K":return H(e,n=n.slice(2),t,r,K);case"i":return H(e,n=n.slice(2),t,r,W);case"I":return 1/0;case"-":return"$-0"===n?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(n.slice(2)));case"n":return BigInt(n.slice(2));default:return H(e,n=n.slice(1),t,r,G)}}return n}(s,this,e,t);if("object"==typeof t&&null!==t){if(t[0]===u){if(e={$$typeof:u,type:t[1],key:t[2],ref:null,props:t[3]},null!==$){if($=(t=$).parent,t.errored)e=U(e=new k("rejected",null,t.value,s));else if(0<t.deps){var r=new k("blocked",null,null,s);t.value=e,t.chunk=r,e=U(r)}}}else e=t;return e}return t})}function X(e,t,r){var n=e._chunks,i=n.get(t);i&&"pending"!==i.status?i.reason.enqueueValue(r):n.set(t,new k("fulfilled",r,null,e))}function Y(e,t,r,n){var i=e._chunks,a=i.get(t);a?"pending"===a.status&&(e=a.value,a.status="fulfilled",a.value=r,a.reason=n,null!==e&&P(e,a.value)):i.set(t,new k("fulfilled",r,n,e))}function ee(e,t,r){var n=null;r=new ReadableStream({type:r,start:function(e){n=e}});var i=null;Y(e,t,r,{enqueueValue:function(e){null===i?n.enqueue(e):i.then(function(){n.enqueue(e)})},enqueueModel:function(t){if(null===i){var r=new k("resolved_model",t,null,e);L(r),"fulfilled"===r.status?n.enqueue(r.value):(r.then(function(e){return n.enqueue(e)},function(e){return n.error(e)}),i=r)}else{r=i;var a=T(e);a.then(function(e){return n.enqueue(e)},function(e){return n.error(e)}),i=a,r.then(function(){i===a&&(i=null),j(a,t)})}},close:function(){if(null===i)n.close();else{var e=i;i=null,e.then(function(){return n.close()})}},error:function(e){if(null===i)n.error(e);else{var t=i;i=null,t.then(function(){return n.error(e)})}}})}function et(){return this}function er(e,t,r){var n=[],i=!1,a=0,s={};s[p]=function(){var t,r=0;return(t={next:t=function(t){if(void 0!==t)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(r===n.length){if(i)return new k("fulfilled",{done:!0,value:void 0},null,e);n[r]=T(e)}return n[r++]}})[p]=et,t},Y(e,t,r?s[p]():s,{enqueueValue:function(t){if(a===n.length)n[a]=new k("fulfilled",{done:!1,value:t},null,e);else{var r=n[a],i=r.value,s=r.reason;r.status="fulfilled",r.value={done:!1,value:t},null!==i&&O(r,i,s)}a++},enqueueModel:function(t){a===n.length?n[a]=N(e,t,!1):R(n[a],t,!1),a++},close:function(t){for(i=!0,a===n.length?n[a]=N(e,t,!0):R(n[a],t,!0),a++;a<n.length;)R(n[a++],'"$undefined"',!0)},error:function(t){for(i=!0,a===n.length&&(n[a]=T(e));a<n.length;)C(n[a++],t)}})}function en(e,t){for(var r=e.length,n=t.length,i=0;i<r;i++)n+=e[i].byteLength;n=new Uint8Array(n);for(var a=i=0;a<r;a++){var s=e[a];n.set(s,i),i+=s.byteLength}return n.set(t,i),n}function ei(e,t,r,n,i,a){X(e,t,i=new i((r=0===r.length&&0==n.byteOffset%a?n:en(r,n)).buffer,r.byteOffset,r.byteLength/a))}function ea(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function es(e){return new Z(e.ssrManifest.moduleMap,e.ssrManifest.moduleLoading,ea,e.encodeFormAction,"string"==typeof e.nonce?e.nonce:void 0,e&&e.temporaryReferences?e.temporaryReferences:void 0)}function eo(e,t){function n(t){M(e,t)}var u=t.getReader();u.read().then(function t(c){var d=c.value;if(c.done)M(e,Error("Connection closed."));else{var p=0,f=e._rowState;c=e._rowID;for(var h=e._rowTag,g=e._rowLength,m=e._buffer,y=d.length;p<y;){var b=-1;switch(f){case 0:58===(b=d[p++])?f=1:c=c<<4|(96<b?b-87:b-48);continue;case 1:84===(f=d[p])||65===f||79===f||111===f||85===f||83===f||115===f||76===f||108===f||71===f||103===f||77===f||109===f||86===f?(h=f,f=2,p++):64<f&&91>f||35===f||114===f||120===f?(h=f,f=3,p++):(h=0,f=3);continue;case 2:44===(b=d[p++])?f=4:g=g<<4|(96<b?b-87:b-48);continue;case 3:b=d.indexOf(10,p);break;case 4:(b=p+g)>d.length&&(b=-1)}var v=d.byteOffset+p;if(-1<b)(function(e,t,n,u,c){switch(n){case 65:X(e,t,en(u,c).buffer);return;case 79:ei(e,t,u,c,Int8Array,1);return;case 111:X(e,t,0===u.length?c:en(u,c));return;case 85:ei(e,t,u,c,Uint8ClampedArray,1);return;case 83:ei(e,t,u,c,Int16Array,2);return;case 115:ei(e,t,u,c,Uint16Array,2);return;case 76:ei(e,t,u,c,Int32Array,4);return;case 108:ei(e,t,u,c,Uint32Array,4);return;case 71:ei(e,t,u,c,Float32Array,4);return;case 103:ei(e,t,u,c,Float64Array,8);return;case 77:ei(e,t,u,c,BigInt64Array,8);return;case 109:ei(e,t,u,c,BigUint64Array,8);return;case 86:ei(e,t,u,c,DataView,1);return}for(var d=e._stringDecoder,p="",f=0;f<u.length;f++)p+=d.decode(u[f],i);switch(u=p+=d.decode(c),n){case 73:!function(e,t,n){var i=e._chunks,u=i.get(t);n=JSON.parse(n,e._fromJSON);var c=function(e,t){if(e){var r=e[t[0]];if(e=r[t[2]])r=e.name;else{if(!(e=r["*"]))throw Error('Could not find the module "'+t[0]+'" in the React SSR Manifest. This is probably a bug in the React Server Components bundler.');r=t[2]}return 4===t.length?[e.id,e.chunks,r,1]:[e.id,e.chunks,r]}return t}(e._bundlerConfig,n);if(function(e,t,r){if(null!==e)for(var n=1;n<t.length;n+=2){var i=l.d,a=i.X,s=e.prefix+t[n],o=e.crossOrigin;o="string"==typeof o?"use-credentials"===o?o:"":void 0,a.call(i,s,{crossOrigin:o,nonce:r})}}(e._moduleLoading,n[1],e._nonce),n=function(e){for(var t=e[1],n=[],i=0;i<t.length;){var l=t[i++];t[i++];var u=a.get(l);if(void 0===u){u=r.e(l),n.push(u);var c=a.set.bind(a,l,null);u.then(c,o),a.set(l,u)}else null!==u&&n.push(u)}return 4===e.length?0===n.length?s(e[0]):Promise.all(n).then(function(){return s(e[0])}):0<n.length?Promise.all(n):null}(c)){if(u){var d=u;d.status="blocked"}else d=new k("blocked",null,null,e),i.set(t,d);n.then(function(){return I(d,c)},function(e){return C(d,e)})}else u?I(u,c):i.set(t,new k("resolved_module",c,null,e))}(e,t,u);break;case 72:switch(t=u[0],e=JSON.parse(u=u.slice(1),e._fromJSON),u=l.d,t){case"D":u.D(e);break;case"C":"string"==typeof e?u.C(e):u.C(e[0],e[1]);break;case"L":t=e[0],n=e[1],3===e.length?u.L(t,n,e[2]):u.L(t,n);break;case"m":"string"==typeof e?u.m(e):u.m(e[0],e[1]);break;case"X":"string"==typeof e?u.X(e):u.X(e[0],e[1]);break;case"S":"string"==typeof e?u.S(e):u.S(e[0],0===e[1]?void 0:e[1],3===e.length?e[2]:void 0);break;case"M":"string"==typeof e?u.M(e):u.M(e[0],e[1])}break;case 69:n=JSON.parse(u).digest,(u=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.")).stack="Error: "+u.message,u.digest=n,(c=(n=e._chunks).get(t))?C(c,u):n.set(t,new k("rejected",null,u,e));break;case 84:(c=(n=e._chunks).get(t))&&"pending"!==c.status?c.reason.enqueueValue(u):n.set(t,new k("fulfilled",u,null,e));break;case 68:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");case 82:ee(e,t,void 0);break;case 114:ee(e,t,"bytes");break;case 88:er(e,t,!1);break;case 120:er(e,t,!0);break;case 67:(e=e._chunks.get(t))&&"fulfilled"===e.status&&e.reason.close(""===u?'"$undefined"':u);break;default:(c=(n=e._chunks).get(t))?j(c,u):n.set(t,new k("resolved_model",u,null,e))}})(e,c,h,m,g=new Uint8Array(d.buffer,v,b-p)),p=b,3===f&&p++,g=c=h=f=0,m.length=0;else{d=new Uint8Array(d.buffer,v,d.byteLength-p),m.push(d),g-=d.byteLength;break}}return e._rowState=f,e._rowID=c,e._rowTag=h,e._rowLength=g,u.read().then(t).catch(n)}}).catch(n)}t.createFromFetch=function(e,t){var r=es(t);return e.then(function(e){eo(r,e.body)},function(e){M(r,e)}),B(r,0)},t.createFromReadableStream=function(e,t){return eo(t=es(t),e),B(t,0)},t.createServerReference=function(e){return function(e,t,r){function n(){var r=Array.prototype.slice.call(arguments);return t(e,r)}return _(n,{id:e,bound:null},r),n}(e,ea)},t.createTemporaryReferenceSet=function(){return new Map},t.encodeReply=function(e,t){return new Promise(function(r,n){y(e,"",t&&t.temporaryReferences?t.temporaryReferences:void 0,r,n)})}},44565:(e,t,r)=>{"use strict";e.exports=r(73434)},79563:()=>{},16413:(e,t,r)=>{var n;(()=>{var i={226:function(i,a){!function(s,o){"use strict";var l="function",u="undefined",c="object",d="string",p="major",f="model",h="name",g="type",m="vendor",y="version",b="architecture",v="console",w="mobile",_="tablet",S="smarttv",A="wearable",x="embedded",k="Amazon",E="Apple",T="ASUS",P="BlackBerry",O="Browser",C="Chrome",N="Firefox",R="Google",j="Huawei",I="Microsoft",$="Motorola",L="Opera",D="Samsung",M="Sharp",U="Sony",B="Xiaomi",F="Zebra",q="Facebook",H="Chromium OS",z="Mac OS",Q=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},V=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},K=function(e,t){return typeof e===d&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===u?e:e.substring(0,350)},J=function(e,t){for(var r,n,i,a,s,u,d=0;d<t.length&&!s;){var p=t[d],f=t[d+1];for(r=n=0;r<p.length&&!s&&p[r];)if(s=p[r++].exec(e))for(i=0;i<f.length;i++)u=s[++n],typeof(a=f[i])===c&&a.length>0?2===a.length?typeof a[1]==l?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==l||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):void 0):this[a]=u||o;d+=2}},Z=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(K(t[r][n],e))return"?"===r?o:r}else if(K(t[r],e))return"?"===r?o:r;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,y],[/opios[\/ ]+([\w\.]+)/i],[y,[h,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[h,L]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[h,"UC"+O]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[y,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[y,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+O],y],[/\bfocus\/([\w\.]+)/i],[y,[h,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[h,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[h,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[h,"MIUI "+O]],[/fxios\/([-\w\.]+)/i],[y,[h,N]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+O]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+O],y],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,y],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,q],y],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[h,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,C+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[h,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[y,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[h,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,y],[/(cobalt)\/([\w\.]+)/i],[h,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,W]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,D],[g,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,D],[g,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,E],[g,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,E],[g,_]],[/(macintosh);/i],[f,[m,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,M],[g,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[m,j],[g,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,j],[g,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[m,B],[g,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[m,B],[g,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,"OPPO"],[g,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[g,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[g,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,$],[g,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,$],[g,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,"LG"],[g,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,"LG"],[g,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[m,"Lenovo"],[g,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[m,"Nokia"],[g,w]],[/(pixel c)\b/i],[f,[m,R],[g,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,R],[g,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,U],[g,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,U],[g,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,"OnePlus"],[g,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,k],[g,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,k],[g,w]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[g,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,P],[g,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,T],[g,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,T],[g,w]],[/(nexus 9)/i],[f,[m,"HTC"],[g,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[g,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[g,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[g,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[g,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[g,_]],[/(surface duo)/i],[f,[m,I],[g,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[g,w]],[/(u304aa)/i],[f,[m,"AT&T"],[g,w]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[g,w]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[g,_]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[g,_]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[g,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[g,_]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[g,_]],[/\b(k88) b/i],[f,[m,"ZTE"],[g,_]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[g,w]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[g,w]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[g,_]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[g,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[g,_]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[g,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[g,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[g,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[g,w]],[/\b(ph-1) /i],[f,[m,"Essential"],[g,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[g,_]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[g,_]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[g,_]],[/(shield[\w ]+) b/i],[f,[m,"Nvidia"],[g,_]],[/(sprint) (\w+)/i],[m,f,[g,w]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,I],[g,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,F],[g,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,F],[g,w]],[/smart-tv.+(samsung)/i],[m,[g,S]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,D],[g,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,"LG"],[g,S]],[/(apple) ?tv/i],[m,[f,E+" TV"],[g,S]],[/crkey/i],[[f,C+"cast"],[m,R],[g,S]],[/droid.+aft(\w)( bui|\))/i],[f,[m,k],[g,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,M],[g,S]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,U],[g,S]],[/(mitv-\w{5}) bui/i],[f,[m,B],[g,S]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[g,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,G],[f,G],[g,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[g,v]],[/droid.+; (shield) bui/i],[f,[m,"Nvidia"],[g,v]],[/(playstation [345portablevi]+)/i],[f,[m,U],[g,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,I],[g,v]],[/((pebble))app/i],[m,f,[g,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,E],[g,A]],[/droid.+; (glass) \d/i],[f,[m,R],[g,A]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,F],[g,A]],[/(quest( 2| pro)?)/i],[f,[m,q],[g,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[g,x]],[/(aeobc)\b/i],[f,[m,k],[g,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[g,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,w]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,y],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[y,Z,X]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[y,Z,X]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,z],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,y],[/\(bb(10);/i],[y,[h,P]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[h,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[h,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,H],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,y],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,y]]},ee=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof s!==u&&s.navigator?s.navigator:o,n=e||(r&&r.userAgent?r.userAgent:""),i=r&&r.userAgentData?r.userAgentData:o,a=t?Q(Y,t):Y,v=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[h]=o,t[y]=o,J.call(t,n,a.browser),t[p]=typeof(e=t[y])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:o,v&&r&&r.brave&&typeof r.brave.isBrave==l&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[b]=o,J.call(e,n,a.cpu),e},this.getDevice=function(){var e={};return e[m]=o,e[f]=o,e[g]=o,J.call(e,n,a.device),v&&!e[g]&&i&&i.mobile&&(e[g]=w),v&&"Macintosh"==e[f]&&r&&typeof r.standalone!==u&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[f]="iPad",e[g]=_),e},this.getEngine=function(){var e={};return e[h]=o,e[y]=o,J.call(e,n,a.engine),e},this.getOS=function(){var e={};return e[h]=o,e[y]=o,J.call(e,n,a.os),v&&!e[h]&&i&&"Unknown"!=i.platform&&(e[h]=i.platform.replace(/chrome os/i,H).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>350?G(e,350):e,this},this.setUA(n),this};ee.VERSION="1.0.35",ee.BROWSER=V([h,y,p]),ee.CPU=V([b]),ee.DEVICE=V([f,m,g,v,w,S,_,A,x]),ee.ENGINE=ee.OS=V([h,y]),typeof a!==u?(i.exports&&(a=i.exports=ee),a.UAParser=ee):r.amdO?void 0!==(n=(function(){return ee}).call(t,r,t,e))&&(e.exports=n):typeof s!==u&&(s.UAParser=ee);var et=typeof s!==u&&(s.jQuery||s.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}},n=!0;try{i[e].call(r.exports,r,r.exports,s),n=!1}finally{n&&delete a[e]}return r.exports}s.ab=__dirname+"/";var o=s(226);e.exports=o})()},30026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicUsageError",{enumerable:!0,get:function(){return o}});let n=r(6616),i=r(7523),a=r(62025),s=r(63446),o=e=>(0,n.isDynamicServerError)(e)||(0,i.isBailoutToCSRError)(e)||(0,a.isNextRouterError)(e)||(0,s.isDynamicPostpone)(e)},81168:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_SUFFIX:function(){return l},APP_DIR_ALIAS:function(){return P},CACHE_ONE_YEAR:function(){return _},DOT_NEXT_ALIAS:function(){return E},ESLINT_DEFAULT_DIRS:function(){return V},GSP_NO_RETURNED_VALUE:function(){return B},GSSP_COMPONENT_MEMBER_ERROR:function(){return H},GSSP_NO_RETURNED_VALUE:function(){return F},INSTRUMENTATION_HOOK_FILENAME:function(){return x},MIDDLEWARE_FILENAME:function(){return S},MIDDLEWARE_LOCATION_REGEXP:function(){return A},NEXT_BODY_SUFFIX:function(){return d},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return w},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return h},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return g},NEXT_CACHE_SOFT_TAGS_HEADER:function(){return f},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return v},NEXT_CACHE_TAGS_HEADER:function(){return p},NEXT_CACHE_TAG_MAX_ITEMS:function(){return y},NEXT_CACHE_TAG_MAX_LENGTH:function(){return b},NEXT_DATA_SUFFIX:function(){return u},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return n},NEXT_META_SUFFIX:function(){return c},NEXT_QUERY_PARAM_PREFIX:function(){return r},NEXT_RESUME_HEADER:function(){return m},NON_STANDARD_NODE_ENV:function(){return z},PAGES_DIR_ALIAS:function(){return k},PRERENDER_REVALIDATE_HEADER:function(){return i},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return a},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return I},ROOT_DIR_ALIAS:function(){return T},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return j},RSC_ACTION_ENCRYPTION_ALIAS:function(){return R},RSC_ACTION_PROXY_ALIAS:function(){return N},RSC_ACTION_VALIDATE_ALIAS:function(){return C},RSC_MOD_REF_PROXY_ALIAS:function(){return O},RSC_PREFETCH_SUFFIX:function(){return s},RSC_SUFFIX:function(){return o},SERVER_PROPS_EXPORT_ERROR:function(){return U},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return L},SERVER_PROPS_SSG_CONFLICT:function(){return D},SERVER_RUNTIME:function(){return K},SSG_FALLBACK_EXPORT_ERROR:function(){return Q},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return $},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return M},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return q},WEBPACK_LAYERS:function(){return G},WEBPACK_RESOURCE_QUERIES:function(){return J}});let r="nxtP",n="nxtI",i="x-prerender-revalidate",a="x-prerender-revalidate-if-generated",s=".prefetch.rsc",o=".rsc",l=".action",u=".json",c=".meta",d=".body",p="x-next-cache-tags",f="x-next-cache-soft-tags",h="x-next-revalidated-tags",g="x-next-revalidate-tag-token",m="next-resume",y=64,b=256,v=1024,w="_N_T_",_=31536e3,S="middleware",A=`(?:src/)?${S}`,x="instrumentation",k="private-next-pages",E="private-dot-next",T="private-next-root-dir",P="private-next-app-dir",O="next/dist/build/webpack/loaders/next-flight-loader/module-proxy",C="private-next-rsc-action-validate",N="private-next-rsc-server-reference",R="private-next-rsc-action-encryption",j="private-next-rsc-action-client-wrapper",I="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",$="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",L="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",D="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",M="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",U="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",B="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",F="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",q="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",H="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",z='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',Q="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",V=["app","pages","components","lib","src"],K={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},W={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route"},G={...W,GROUP:{builtinReact:[W.reactServerComponents,W.actionBrowser,W.appMetadataRoute],serverOnly:[W.reactServerComponents,W.actionBrowser,W.appMetadataRoute,W.instrument,W.middleware],neutralTarget:[W.api],clientOnly:[W.serverSideRendering,W.appPagesBrowser],bundled:[W.reactServerComponents,W.actionBrowser,W.appMetadataRoute,W.serverSideRendering,W.appPagesBrowser,W.shared,W.instrument]}},J={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},17566:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DetachedPromise",{enumerable:!0,get:function(){return r}});class r{constructor(){let e,t;this.promise=new Promise((r,n)=>{e=r,t=n}),this.resolve=e,this.reject=t}}},99943:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{atLeastOneTask:function(){return i},scheduleImmediate:function(){return n},scheduleOnNextTick:function(){return r},waitAtLeastOneReactRenderTask:function(){return a}});let r=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},n=e=>{setImmediate(e)};function i(){return new Promise(e=>n(e))}function a(){return new Promise(e=>setImmediate(e))}},56770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_after",{enumerable:!0,get:function(){return o}});let n=r(54580),i=r(45869),a=r(60539),s=r(63446);function o(e){let t="unstable_after",{afterContext:r}=(0,n.getExpectedRequestStore)(t);if(!r)throw Error("`unstable_after()` must be explicitly enabled by setting `experimental.after: true` in your next.config.js.");let o=i.staticGenerationAsyncStorage.getStore();if(o){if(o.forceStatic)throw new a.StaticGenBailoutError(`Route ${o.route} with \`dynamic = "force-static"\` couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);(0,s.markCurrentScopeAsDynamic)(o,t)}return r.after(e)}},68874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){Object.keys(e).forEach(function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})}(r(56770),t)},63446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{Postpone:function(){return f},accessedDynamicData:function(){return x},createDynamicTrackingState:function(){return l},createPostponedAbortSignal:function(){return T},formatDynamicAPIAccesses:function(){return k},getFirstDynamicReason:function(){return u},isDynamicPostpone:function(){return y},isPrerenderInterruptedError:function(){return _},isRenderInterruptedReason:function(){return A},markCurrentScopeAsDynamic:function(){return c},trackDynamicDataAccessed:function(){return p},trackFallbackParamAccessed:function(){return d}});let n=function(e){return e&&e.__esModule?e:{default:e}}(r(28638)),i=r(6616),a=r(60539),s=r(32307),o="function"==typeof n.default.unstable_postpone;function l(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[]}}function u(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function c(e,t){if(e.isUnstableCacheCallback||e.forceDynamic||e.forceStatic)return;if(e.dynamicShouldError)throw new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);let r=s.prerenderAsyncStorage.getStore();if(r)r.controller?(S(r.controller,e.route,t),h(r.dynamicTracking,e.route,t)):r.cacheSignal?h(r.dynamicTracking,e.route,t):g(r.dynamicTracking,e.route,t);else if(e.revalidate=0,e.isStaticGeneration){let r=new i.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=t,e.dynamicUsageStack=r.stack,r}}function d(e,t){let r=s.prerenderAsyncStorage.getStore();r&&g(r.dynamicTracking,e.route,t)}function p(e,t){if(e.isUnstableCacheCallback)throw Error(`Route ${e.route} used "${t}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${t}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if(e.dynamicShouldError)throw new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);let r=s.prerenderAsyncStorage.getStore();if(r)r.controller?(S(r.controller,e.route,t),h(r.dynamicTracking,e.route,t)):r.cacheSignal?h(r.dynamicTracking,e.route,t):g(r.dynamicTracking,e.route,t);else if(e.revalidate=0,e.isStaticGeneration){let r=new i.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=t,e.dynamicUsageStack=r.stack,r}}function f({reason:e,route:t}){let r=s.prerenderAsyncStorage.getStore();g((null==r?void 0:r.dynamicTracking)||null,t,e)}function h(e,t,r){throw e&&e.dynamicAccesses.push({stack:e.isDebugDynamicAccesses?Error().stack:void 0,expression:r}),w(`Route ${t} needs to bail out of prerendering at this point because it used ${r}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`)}function g(e,t,r){E(),e&&e.dynamicAccesses.push({stack:e.isDebugDynamicAccesses?Error().stack:void 0,expression:r}),n.default.unstable_postpone(m(t,r))}function m(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function y(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&b(e.message)}function b(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===b(m("%%%","^^^")))throw Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js");let v="NEXT_PRERENDER_INTERRUPTED";function w(e){let t=Error(e);return t.digest=v,t}function _(e){return"object"==typeof e&&null!==e&&e.digest===v}function S(e,t,r){let n=`Route ${t} needs to bail out of prerendering at this point because it used ${r}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`;e.abort(w(n))}function A(e){return e===v}function x(e){return e.dynamicAccesses.length>0}function k(e){return e.dynamicAccesses.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function E(){if(!o)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")}function T(e){E();let t=new AbortController;try{n.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}},42290:(e,t)=>{"use strict";let r,n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{arrayBufferToString:function(){return a},decrypt:function(){return l},encrypt:function(){return o},generateEncryptionKeyBase64:function(){return u},getActionEncryptionKey:function(){return h},getClientReferenceManifestSingleton:function(){return f},getServerModuleMap:function(){return p},setReferenceManifestsSingleton:function(){return d},stringToUint8Array:function(){return s}});let i=null;function a(e){let t=new Uint8Array(e),r=t.byteLength;if(r<65535)return String.fromCharCode.apply(null,t);let n="";for(let e=0;e<r;e++)n+=String.fromCharCode(t[e]);return n}function s(e){let t=e.length,r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r}function o(e,t,r){return crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,r)}function l(e,t,r){return crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r)}async function u(e){if(e&&void 0!==n)return n;i||(i=new Promise(async(e,t)=>{try{let t=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),r=await crypto.subtle.exportKey("raw",t),n=btoa(a(r));e([t,n])}catch(e){t(e)}}));let[t,s]=await i;return r=t,e&&(n=s),s}let c=Symbol.for("next.server.action-manifests");function d({clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:r}){globalThis[c]={clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:r}}function p(){let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");return e.serverModuleMap}function f(){let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");return e.clientReferenceManifest}async function h(){if(r)return r;let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");let t=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||e.serverActionsManifest.encryptionKey;if(void 0===t)throw Error("Missing encryption key for Server Actions");return r=await crypto.subtle.importKey("raw",s(atob(t)),"AES-GCM",!0,["encrypt","decrypt"])}},47770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{decryptActionBoundArgs:function(){return p},encryptActionBoundArgs:function(){return d}}),r(79563);let n=r(79241),i=r(44565),a=r(91023),s=r(42290),o=new TextEncoder,l=new TextDecoder;async function u(e,t){let r=await (0,s.getActionEncryptionKey)();if(void 0===r)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let n=atob(t),i=n.slice(0,16),a=n.slice(16),o=l.decode(await (0,s.decrypt)(r,(0,s.stringToUint8Array)(i),(0,s.stringToUint8Array)(a)));if(!o.startsWith(e))throw Error("Invalid Server Action payload: failed to decrypt.");return o.slice(e.length)}async function c(e,t){let r=await (0,s.getActionEncryptionKey)();if(void 0===r)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let n=new Uint8Array(16);crypto.getRandomValues(n);let i=(0,s.arrayBufferToString)(n.buffer),a=await (0,s.encrypt)(r,n,o.encode(e+t));return btoa(i+(0,s.arrayBufferToString)(a))}async function d(e,t){let r=(0,s.getClientReferenceManifestSingleton)(),i=await (0,a.streamToString)((0,n.renderToReadableStream)(t,r.clientModules));return await c(e,i)}async function p(e,t){let r=await u(e,await t),a=await (0,i.createFromReadableStream)(new ReadableStream({start(e){e.enqueue(o.encode(r)),e.close()}}),{ssrManifest:{moduleLoading:{},moduleMap:{}}}),l=(0,s.getServerModuleMap)();return await (0,n.decodeReply)(await (0,i.encodeReply)(a),l)}},80613:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isPostpone",{enumerable:!0,get:function(){return n}});let r=Symbol.for("react.postpone");function n(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}},73651:(e,t)=>{"use strict";var r,n,i,a,s,o,l,u,c,d,p,f;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{AppRenderSpan:function(){return l},AppRouteRouteHandlersSpan:function(){return d},BaseServerSpan:function(){return r},LoadComponentsSpan:function(){return n},LogSpanAllowList:function(){return g},MiddlewareSpan:function(){return f},NextNodeServerSpan:function(){return a},NextServerSpan:function(){return i},NextVanillaSpanAllowlist:function(){return h},NodeSpan:function(){return c},RenderSpan:function(){return o},ResolveMetadataSpan:function(){return p},RouterSpan:function(){return u},StartServerSpan:function(){return s}}),function(e){e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404"}(r||(r={})),function(e){e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents"}(n||(n={})),function(e){e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer"}(i||(i={})),function(e){e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch"}(a||(a={})),(s||(s={})).startServer="startServer.startServer",function(e){e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult"}(o||(o={})),function(e){e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch"}(l||(l={})),(u||(u={})).executeRoute="Router.executeRoute",(c||(c={})).runHandler="Node.runHandler",(d||(d={})).runHandler="AppRouteRouteHandlers.runHandler",function(e){e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport"}(p||(p={})),(f||(f={})).execute="Middleware.execute";let h=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],g=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},30535:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BubbledError:function(){return p},SpanKind:function(){return u},SpanStatusCode:function(){return l},getTracer:function(){return _},isBubbledError:function(){return f}});let i=r(73651);try{n=r(70995)}catch(e){n=r(14040)}let{context:a,propagation:s,trace:o,SpanStatusCode:l,SpanKind:u,ROOT_CONTEXT:c}=n,d=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then;class p extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}function f(e){return"object"==typeof e&&null!==e&&e instanceof p}let h=(e,t)=>{f(t)&&t.bubble?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:l.ERROR,message:null==t?void 0:t.message})),e.end()},g=new Map,m=n.createContextKey("next.rootSpanId"),y=0,b=()=>y++,v={set(e,t,r){e.push({key:t,value:r})}};class w{getTracerInstance(){return o.getTracer("next.js","0.0.1")}getContext(){return a}getTracePropagationData(){let e=a.active(),t=[];return s.inject(e,t,v),t}getActiveScopeSpan(){return o.getSpan(null==a?void 0:a.active())}withPropagatedContext(e,t,r){let n=a.active();if(o.getSpanContext(n))return t();let i=s.extract(n,e,r);return a.with(i,t)}trace(...e){var t;let[r,n,s]=e,{fn:l,options:u}="function"==typeof n?{fn:n,options:{}}:{fn:s,options:{...n}},p=u.spanName??r;if(!i.NextVanillaSpanAllowlist.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||u.hideSpan)return l();let f=this.getSpanContext((null==u?void 0:u.parentSpan)??this.getActiveScopeSpan()),y=!1;f?(null==(t=o.getSpanContext(f))?void 0:t.isRemote)&&(y=!0):(f=(null==a?void 0:a.active())??c,y=!0);let v=b();return u.attributes={"next.span_name":p,"next.span_type":r,...u.attributes},a.with(f.setValue(m,v),()=>this.getTracerInstance().startActiveSpan(p,u,e=>{let t="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,n=()=>{g.delete(v),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&i.LogSpanAllowList.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};y&&g.set(v,new Map(Object.entries(u.attributes??{})));try{if(l.length>1)return l(e,t=>h(e,t));let t=l(e);if(d(t))return t.then(t=>(e.end(),t)).catch(t=>{throw h(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw h(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,s]=3===e.length?e:[e[0],{},e[1]];return i.NextVanillaSpanAllowlist.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof s&&(e=e.apply(this,arguments));let i=arguments.length-1,o=arguments[i];if("function"!=typeof o)return t.trace(r,e,()=>s.apply(this,arguments));{let n=t.getContext().bind(a.active(),o);return t.trace(r,e,(e,t)=>(arguments[i]=function(e){return null==t||t(e),n.apply(this,arguments)},s.apply(this,arguments)))}}:s}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?o.setSpan(a.active(),e):void 0}getRootSpanAttributes(){let e=a.active().getValue(m);return g.get(e)}}let _=(()=>{let e=new w;return()=>e})()},14569:(e,t,r)=>{"use strict";e.exports=r(40568).vendored["react-rsc"].ReactDOM},79241:(e,t,r)=>{"use strict";e.exports=r(40568).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},28638:(e,t,r)=>{"use strict";e.exports=r(40568).vendored["react-rsc"].React},56259:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ENCODED_TAGS",{enumerable:!0,get:function(){return r}});let r={OPENING:{HTML:new Uint8Array([60,104,116,109,108]),BODY:new Uint8Array([60,98,111,100,121])},CLOSED:{HEAD:new Uint8Array([60,47,104,101,97,100,62]),BODY:new Uint8Array([60,47,98,111,100,121,62]),HTML:new Uint8Array([60,47,104,116,109,108,62]),BODY_AND_HTML:new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])}}},91023:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{chainStreams:function(){return d},continueDynamicHTMLResume:function(){return E},continueDynamicPrerender:function(){return x},continueFizzStream:function(){return A},continueStaticPrerender:function(){return k},createBufferedTransformStream:function(){return m},createDocumentClosingStream:function(){return T},createRootLayoutValidatorStream:function(){return S},renderToInitialFizzStream:function(){return y},streamFromBuffer:function(){return f},streamFromString:function(){return p},streamToBuffer:function(){return h},streamToString:function(){return g}});let n=r(30535),i=r(73651),a=r(17566),s=r(99943),o=r(56259),l=r(57038);function u(){}let c=new TextEncoder;function d(...e){if(0===e.length)throw Error("Invariant: chainStreams requires at least one stream");if(1===e.length)return e[0];let{readable:t,writable:r}=new TransformStream,n=e[0].pipeTo(r,{preventClose:!0}),i=1;for(;i<e.length-1;i++){let t=e[i];n=n.then(()=>t.pipeTo(r,{preventClose:!0}))}let a=e[i];return(n=n.then(()=>a.pipeTo(r))).catch(u),t}function p(e){return new ReadableStream({start(t){t.enqueue(c.encode(e)),t.close()}})}function f(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}async function h(e){let t=e.getReader(),r=[];for(;;){let{done:e,value:n}=await t.read();if(e)break;r.push(n)}return Buffer.concat(r)}async function g(e){let t=new TextDecoder("utf-8",{fatal:!0}),r="";for await(let n of e)r+=t.decode(n,{stream:!0});return r+t.decode()}function m(){let e,t=[],r=0,n=n=>{if(e)return;let i=new a.DetachedPromise;e=i,(0,s.scheduleImmediate)(()=>{try{let e=new Uint8Array(r),i=0;for(let r=0;r<t.length;r++){let n=t[r];e.set(n,i),i+=n.byteLength}t.length=0,r=0,n.enqueue(e)}catch{}finally{e=void 0,i.resolve()}})};return new TransformStream({transform(e,i){t.push(e),r+=e.byteLength,n(i)},flush(){if(e)return e.promise}})}function y({ReactDOMServer:e,element:t,streamOptions:r}){return(0,n.getTracer)().trace(i.AppRenderSpan.renderToReadableStream,async()=>e.renderToReadableStream(t,r))}function b(e){let t=!1,r=!1,n=!1;return new TransformStream({async transform(i,a){if(n=!0,r){a.enqueue(i);return}let u=await e();if(t){if(u){let e=c.encode(u);a.enqueue(e)}a.enqueue(i),r=!0}else{let e=(0,l.indexOfUint8Array)(i,o.ENCODED_TAGS.CLOSED.HEAD);if(-1!==e){if(u){let t=c.encode(u),r=new Uint8Array(i.length+t.length);r.set(i.slice(0,e)),r.set(t,e),r.set(i.slice(e),e+t.length),a.enqueue(r)}else a.enqueue(i);r=!0,t=!0}}t?(0,s.scheduleImmediate)(()=>{r=!1}):a.enqueue(i)},async flush(t){if(n){let r=await e();r&&t.enqueue(c.encode(r))}}})}function v(e){let t=null,r=!1;async function n(n){if(t)return;let i=e.getReader();await (0,s.atLeastOneTask)();try{for(;;){let{done:e,value:t}=await i.read();if(e){r=!0;return}n.enqueue(t)}}catch(e){n.error(e)}}return new TransformStream({transform(e,r){r.enqueue(e),t||(t=n(r))},flush(e){if(!r)return t||n(e)}})}let w="</body></html>";function _(){let e=!1;return new TransformStream({transform(t,r){if(e)return r.enqueue(t);let n=(0,l.indexOfUint8Array)(t,o.ENCODED_TAGS.CLOSED.BODY_AND_HTML);if(n>-1){if(e=!0,t.length===o.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length)return;let i=t.slice(0,n);if(r.enqueue(i),t.length>o.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length+n){let e=t.slice(n+o.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length);r.enqueue(e)}}else r.enqueue(t)},flush(e){e.enqueue(o.ENCODED_TAGS.CLOSED.BODY_AND_HTML)}})}function S(){let e=!1,t=!1;return new TransformStream({async transform(r,n){!e&&(0,l.indexOfUint8Array)(r,o.ENCODED_TAGS.OPENING.HTML)>-1&&(e=!0),!t&&(0,l.indexOfUint8Array)(r,o.ENCODED_TAGS.OPENING.BODY)>-1&&(t=!0),n.enqueue(r)},flush(r){let n=[];e||n.push("html"),t||n.push("body"),n.length&&r.enqueue(c.encode(`<script>self.__next_root_layout_missing_tags=${JSON.stringify(n)}</script>`))}})}async function A(e,{suffix:t,inlinedDataStream:r,isStaticGeneration:n,getServerInsertedHTML:i,serverInsertedHTMLToHead:o,validateRootLayout:l}){let u=t?t.split(w,1)[0]:null;return n&&"allReady"in e&&await e.allReady,function(e,t){let r=e;for(let e of t)e&&(r=r.pipeThrough(e));return r}(e,[m(),i&&!o?new TransformStream({transform:async(e,t)=>{let r=await i();r&&t.enqueue(c.encode(r)),t.enqueue(e)}}):null,null!=u&&u.length>0?function(e){let t,r=!1,n=r=>{let n=new a.DetachedPromise;t=n,(0,s.scheduleImmediate)(()=>{try{r.enqueue(c.encode(e))}catch{}finally{t=void 0,n.resolve()}})};return new TransformStream({transform(e,t){t.enqueue(e),r||(r=!0,n(t))},flush(n){if(t)return t.promise;r||n.enqueue(c.encode(e))}})}(u):null,r?v(r):null,l?S():null,_(),i&&o?b(i):null])}async function x(e,{getServerInsertedHTML:t}){return e.pipeThrough(m()).pipeThrough(new TransformStream({transform(e,t){(0,l.isEquivalentUint8Arrays)(e,o.ENCODED_TAGS.CLOSED.BODY_AND_HTML)||(0,l.isEquivalentUint8Arrays)(e,o.ENCODED_TAGS.CLOSED.BODY)||(0,l.isEquivalentUint8Arrays)(e,o.ENCODED_TAGS.CLOSED.HTML)||(e=(0,l.removeFromUint8Array)(e,o.ENCODED_TAGS.CLOSED.BODY),e=(0,l.removeFromUint8Array)(e,o.ENCODED_TAGS.CLOSED.HTML),t.enqueue(e))}})).pipeThrough(b(t))}async function k(e,{inlinedDataStream:t,getServerInsertedHTML:r}){return e.pipeThrough(m()).pipeThrough(b(r)).pipeThrough(v(t)).pipeThrough(_())}async function E(e,{inlinedDataStream:t,getServerInsertedHTML:r}){return e.pipeThrough(m()).pipeThrough(b(r)).pipeThrough(v(t)).pipeThrough(_())}function T(){return p(w)}},57038:(e,t)=>{"use strict";function r(e,t){if(0===t.length)return 0;if(0===e.length||t.length>e.length)return -1;for(let r=0;r<=e.length-t.length;r++){let n=!0;for(let i=0;i<t.length;i++)if(e[r+i]!==t[i]){n=!1;break}if(n)return r}return -1}function n(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function i(e,t){let n=r(e,t);if(0===n)return e.subarray(t.length);if(!(n>-1))return e;{let r=new Uint8Array(e.length-t.length);return r.set(e.slice(0,n)),r.set(e.slice(n+t.length),n),r}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{indexOfUint8Array:function(){return r},isEquivalentUint8Arrays:function(){return n},removeFromUint8Array:function(){return i}})},85175:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return n},RemovedUAError:function(){return i}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class n extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class i extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},33573:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return n.ImageResponse},NextRequest:function(){return i.NextRequest},NextResponse:function(){return a.NextResponse},URLPattern:function(){return o.URLPattern},unstable_after:function(){return l.unstable_after},userAgent:function(){return s.userAgent},userAgentFromString:function(){return s.userAgentFromString}});let n=r(1732),i=r(38455),a=r(31648),s=r(58494),o=r(66185),l=r(68874)},55317:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return c}});let n=r(74495),i=r(94411),a=r(31025),s=r(98634),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let u=Symbol("NextURLInternal");class c{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[u]={url:l(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,i,o;let l=(0,s.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),c=(0,a.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(c):(0,n.detectDomainLocale)(null==(t=this[u].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,c);let d=(null==(r=this[u].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[u].options.nextConfig)?void 0:null==(i=o.i18n)?void 0:i.defaultLocale);this[u].url.pathname=l.pathname,this[u].defaultLocale=d,this[u].basePath=l.basePath??"",this[u].buildId=l.buildId,this[u].locale=l.locale??d,this[u].trailingSlash=l.trailingSlash}formatPathname(){return(0,i.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,r;if(!this[u].locale||!(null==(r=this[u].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=l(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new c(String(this),this[u].options)}}},49400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HeadersAdapter:function(){return a},ReadonlyHeadersError:function(){return i}});let n=r(86684);class i extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new i}}class a extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,i){if("symbol"==typeof r)return n.ReflectAdapter.get(t,r,i);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);if(void 0!==s)return n.ReflectAdapter.get(t,s,i)},set(t,r,i,a){if("symbol"==typeof r)return n.ReflectAdapter.set(t,r,i,a);let s=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);return n.ReflectAdapter.set(t,o??r,i,a)},has(t,r){if("symbol"==typeof r)return n.ReflectAdapter.has(t,r);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==a&&n.ReflectAdapter.has(t,a)},deleteProperty(t,r){if("symbol"==typeof r)return n.ReflectAdapter.deleteProperty(t,r);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===a||n.ReflectAdapter.deleteProperty(t,a)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return i.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new a(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},86684:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},36439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{MutableRequestCookiesAdapter:function(){return d},ReadonlyRequestCookiesError:function(){return s},RequestCookiesAdapter:function(){return o},appendMutableCookies:function(){return c},getModifiedCookieValues:function(){return u}});let n=r(57),i=r(86684),a=r(45869);class s extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new s}}class o{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return s.callable;default:return i.ReflectAdapter.get(e,t,r)}}})}}let l=Symbol.for("next.mutated.cookies");function u(e){let t=e[l];return t&&Array.isArray(t)&&0!==t.length?t:[]}function c(e,t){let r=u(t);if(0===r.length)return!1;let i=new n.ResponseCookies(e),a=i.getAll();for(let e of r)i.set(e);for(let e of a)i.set(e);return!0}class d{static wrap(e,t){let r=new n.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let s=[],o=new Set,u=()=>{let e=a.staticGenerationAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),s=r.getAll().filter(e=>o.has(e.name)),t){let e=[];for(let t of s){let r=new n.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}};return new Proxy(r,{get(e,t,r){switch(t){case l:return s;case"delete":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{e.delete(...t)}finally{u()}};case"set":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t)}finally{u()}};default:return i.ReflectAdapter.get(e,t,r)}}})}}},57:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies},stringifyCookie:function(){return n.stringifyCookie}});let n=r(64169)},1732:(e,t)=>{"use strict";function r(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},38455:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return l}});let n=r(55317),i=r(14101),a=r(85175),s=r(57),o=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,i.validateURL)(r),e instanceof Request?super(e,t):super(r,t);let a=new n.NextURL(r,{headers:(0,i.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new s.RequestCookies(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get geo(){return this[o].geo}get ip(){return this[o].ip}get nextUrl(){return this[o].nextUrl}get page(){throw new a.RemovedPageError}get ua(){throw new a.RemovedUAError}get url(){return this[o].url}}},31648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return d}});let n=r(57),i=r(55317),a=r(14101),s=r(86684),o=r(57),l=Symbol("internal response"),u=new Set([301,302,303,307,308]);function c(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);let r=this.headers,u=new Proxy(new o.ResponseCookies(r),{get(e,i,a){switch(i){case"delete":case"set":return(...a)=>{let s=Reflect.apply(e[i],e,a),l=new Headers(r);return s instanceof o.ResponseCookies&&r.set("x-middleware-set-cookie",s.getAll().map(e=>(0,n.stringifyCookie)(e)).join(",")),c(t,l),s};default:return s.ReflectAdapter.get(e,i,a)}}});this[l]={cookies:u,url:t.url?new i.NextURL(t.url,{headers:(0,a.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let r=Response.json(e,t);return new d(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!u.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",(0,a.validateURL)(e)),new d(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,a.validateURL)(e)),c(t,r),new d(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),c(e,t),new d(null,{...e,headers:t})}}},66185:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},58494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return i},userAgent:function(){return s},userAgentFromString:function(){return a}});let n=function(e){return e&&e.__esModule?e:{default:e}}(r(16413));function i(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function a(e){return{...(0,n.default)(e),isBot:void 0!==e&&i(e)}}function s({headers:e}){return a(e.get("user-agent")||void 0)}},14101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return i},normalizeNextQueryParam:function(){return l},splitCookiesString:function(){return a},toNodeOutgoingHttpHeaders:function(){return s},validateURL:function(){return o}});let n=r(81168);function i(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function a(e){var t,r,n,i,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=i,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function s(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...a(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function o(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}function l(e,t){for(let r of[n.NEXT_QUERY_PARAM_PREFIX,n.NEXT_INTERCEPTION_MARKER_PREFIX])e!==r&&e.startsWith(r)&&t(e.substring(r.length))}},31025:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},74495:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let a of(r&&(r=r.toLowerCase()),e)){var n,i;if(t===(null==(n=a.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===a.defaultLocale.toLowerCase()||(null==(i=a.locales)?void 0:i.some(e=>e.toLowerCase()===r)))return a}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},99137:(e,t)=>{"use strict";function r(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},7523:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return n},isBailoutToCSRError:function(){return i}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class n extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},45958:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return a}});let n=r(84647),i=r(97947);function a(e,t,r,a){if(!t||t===r)return e;let s=e.toLowerCase();return!a&&((0,i.pathHasPrefix)(s,"/api")||(0,i.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},84647:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return i}});let n=r(88590);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:a}=(0,n.parsePath)(e);return""+t+r+i+a}},59620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return i}});let n=r(88590);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:a}=(0,n.parsePath)(e);return""+r+t+i+a}},94411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=r(22610),i=r(84647),a=r(59620),s=r(45958);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,a.addPathSuffix)((0,i.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,a.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},98634:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=r(99137),i=r(81330),a=r(97947);function s(e,t){var r,s;let{basePath:o,i18n:l,trailingSlash:u}=null!=(r=t.nextConfig)?r:{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};o&&(0,a.pathHasPrefix)(c.pathname,o)&&(c.pathname=(0,i.removePathPrefix)(c.pathname,o),c.basePath=o);let d=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];c.buildId=r,d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(c.pathname=d)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,n.normalizeLocalePath)(c.pathname,l.locales);c.locale=e.detectedLocale,c.pathname=null!=(s=e.pathname)?s:c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,n.normalizeLocalePath)(d,l.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},88590:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},97947:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return i}});let n=r(88590);function i(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},81330:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return i}});let n=r(97947);function i(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},22610:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},18486:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var n=r(63606),i=r(32043),a=r(20149),s=n.forwardRef((e,t)=>(0,a.jsx)(i.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var o=s},64911:(e,t,r)=>{"use strict";function n(e){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:e}}r.d(t,{Z:()=>n})},33816:(e,t,r)=>{"use strict";r.d(t,{St:()=>P,W0:()=>k,qu:()=>O});var n=r(6005);let i=10,a="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=Array.from({length:64},(e,t)=>t),o=e=>Array(e).fill(-1),l=[...o(46),0,1,...s.slice(54,64),...o(7),...s.slice(2,28),...o(6),...s.slice(28,54),...o(5)],u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],d=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892],p=(e,t)=>{if(t<=0||t>e.length)throw Error(`Illegal len: ${t}`);let r=0,n,i,s=[];for(;r<t;){if(n=255&e[r++],s.push(a[n>>2&63]),n=(3&n)<<4,r>=t||(n|=(i=255&e[r++])>>4&15,s.push(a[63&n]),n=(15&i)<<2,r>=t)){s.push(a[63&n]);break}n|=(i=255&e[r++])>>6&3,s.push(a[63&n]),s.push(a[63&i])}return s.join("")},f=(e,t)=>{let r=e.length,n=0,i=0,a,s,o,u,c=[];for(;n<r-1&&i<t&&(a=(u=e.charCodeAt(n++))<l.length?l[u]:-1,s=(u=e.charCodeAt(n++))<l.length?l[u]:-1,!(-1==a||-1==s||(c.push(String.fromCharCode(a<<2>>>0|(48&s)>>4)),++i>=t||n>=r)||-1==(o=(u=e.charCodeAt(n++))<l.length?l[u]:-1)||(c.push(String.fromCharCode((15&s)<<4>>>0|(60&o)>>2)),++i>=t||n>=r)));)c.push(String.fromCharCode((3&o)<<6>>>0|((u=e.charCodeAt(n++))<l.length?l[u]:-1))),++i;return c.map(e=>e.charCodeAt(0))},h=(e,t)=>{let r=null;for("number"==typeof e&&(r=e,e=()=>null);null!==r||null!==(r=e());)r<128?t(127&r):(r<2048?t(r>>6&31|192):(r<65536?t(r>>12&15|224):(t(r>>18&7|240),t(r>>12&63|128)),t(r>>6&63|128)),t(63&r|128)),r=null},g=(e,t)=>{let r,n=null;for(;null!==(r=null!==n?n:e());){if(r>=55296&&r<=57343&&null!==(n=e())&&n>=56320&&n<=57343){t((r-55296)*1024+n-56320+65536),n=null;continue}t(r)}null!==n&&t(n)},m=(e,t)=>g(e,e=>{h(e,t)}),y="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:setTimeout,b=e=>{let t=0,r=[];return m(()=>t<e.length?e.charCodeAt(t++):null,e=>{r.push(e)}),r},v=(e,t,r,n)=>{let i=e[t],a=e[t+1];return i^=r[0],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[1],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[2],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[3],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[4],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[5],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[6],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[7],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[8],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[9],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[10],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[11],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[12],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[13],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[14],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[15],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[16],e[t]=a^r[17],e[t+1]=i,e},w=(e,t)=>{let r=0;for(let n=0;n<4;++n)r=r<<8|255&e[t],t=(t+1)%e.length;return{key:r,offp:t}},_=(e,t,r)=>{let n=t.length,i=r.length,a=0,s=[0,0],o;for(let r=0;r<n;r++)a=(o=w(e,a)).offp,t[r]=t[r]^o.key;for(let e=0;e<n;e+=2)s=v(s,0,t,r),t[e]=s[0],t[e+1]=s[1];for(let e=0;e<i;e+=2)s=v(s,0,t,r),r[e]=s[0],r[e+1]=s[1]},S=(e,t,r,n)=>{let i=r.length,a=n.length,s=0,o=[0,0],l;for(let e=0;e<i;e++)s=(l=w(t,s)).offp,r[e]=r[e]^l.key;s=0;for(let t=0;t<i;t+=2)s=(l=w(e,s)).offp,o[0]^=l.key,s=(l=w(e,s)).offp,o[1]^=l.key,o=v(o,0,r,n),r[t]=o[0],r[t+1]=o[1];for(let t=0;t<a;t+=2)s=(l=w(e,s)).offp,o[0]^=l.key,s=(l=w(e,s)).offp,o[1]^=l.key,o=v(o,0,r,n),n[t]=o[0],n[t+1]=o[1]},A=(e,t,r,n,i)=>{let a=d.slice(),s=a.length;if(r<4||r>31){let e=Error(`Illegal number of rounds (4-31): ${r}`);if(!1===n)return Promise.reject(e);throw e}if(16!==t.length){let e=Error(`Illegal salt length: ${t.length} != 16`);if(!1===n)return Promise.reject(e);throw e}r=1<<r>>>0;let o,l,p=0,f;Int32Array?(o=new Int32Array(u),l=new Int32Array(c)):(o=u.slice(),l=c.slice()),S(t,e,o,l);let h=()=>{if(i&&i(p/r),p<r){let n=Date.now();for(;p<r&&(p+=1,_(e,o,l),_(t,o,l),!(Date.now()-n>100)););}else{for(p=0;p<64;p++)for(f=0;f<s>>1;f++)v(a,f<<1,o,l);let e=[];for(p=0;p<s;p++)e.push((a[p]>>24&255)>>>0),e.push((a[p]>>16&255)>>>0),e.push((a[p]>>8&255)>>>0),e.push((255&a[p])>>>0);return!1===n?Promise.resolve(e):e}if(!1===n)return new Promise(e=>y(()=>{h().then(e)}))};if(!1===n)return h();{let e;for(;;)if("u">typeof(e=h()))return e||[]}},x=e=>(0,n.randomBytes)(e),k=(e=i)=>{if("number"!=typeof e)throw Error("Illegal arguments: "+typeof e);e<4?e=4:e>31&&(e=31);let t=[];return t.push("$2a$"),e<10&&t.push("0"),t.push(e.toString()),t.push("$"),t.push(p(x(16),16)),t.join("")},E=(e=i)=>{if("number"!=typeof e)throw Error("illegal arguments: "+typeof e);return new Promise((t,r)=>y(()=>{try{t(k(e))}catch(e){r(e)}}))};function T(e,t,r,n){let i,a;if("string"!=typeof e||"string"!=typeof t){let e=Error("Invalid string / salt: Not a string");if(!1===r)return Promise.reject(e);throw e}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){let e=Error("Invalid salt version: "+t.substring(0,2));if(!1===r)return Promise.reject(e);throw e}if("$"===t.charAt(2))i="\0",a=3;else{if("a"!==(i=t.charAt(2))&&"b"!==i&&"y"!==i||"$"!==t.charAt(3)){let e=Error("Invalid salt revision: "+t.substring(2,4));if(!1===r)return Promise.reject(e);throw e}a=4}if(t.charAt(a+2)>"$"){let e=Error("Missing salt rounds");if(!1===r)return Promise.reject(e);throw e}let s=10*parseInt(t.substring(a,a+1),10)+parseInt(t.substring(a+1,a+2),10),o=t.substring(a+3,a+25),l=b(e+=i>="a"?"\0":""),u=f(o,16),c=e=>{let t=[];return t.push("$2"),i>="a"&&t.push(i),t.push("$"),s<10&&t.push("0"),t.push(s.toString()),t.push("$"),t.push(p(u,u.length)),t.push(p(e,4*d.length-1)),t.join("")};return!1===r?A(l,u,s,!1,n).then(e=>c(e)):c(A(l,u,s,!0,n))}let P=(e,t=i)=>{if("number"==typeof t&&(t=k(t)),"string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return T(e,t,!0)},O=(e,t,r)=>new Promise((n,i)=>{if("string"!=typeof e||"string"!=typeof t){y(()=>i(Error(`Illegal arguments: ${typeof e}, ${typeof t}`)));return}if(60!==t.length){y(()=>i(Error("Illegal hash: hash length should be 60")));return}(function(e,t,r){return"string"==typeof e&&"number"==typeof t?E(t).then(t=>T(e,t,!1,r)):"string"==typeof e&&"string"==typeof t?T(e,t,!1,r):Promise.reject(Error(`Illegal arguments: ${typeof e}, ${typeof t}`))})(e,t.substring(0,29),r).then(e=>n(e===t)).catch(e=>i(e))})},60048:(e,t,r)=>{"use strict";r.d(t,{s:()=>i});var n=r(2370);class i{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [n.Q]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}},2370:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n,is:()=>i});let n=Symbol.for("drizzle:entityKind");function i(e,t){if(!e||"object"!=typeof e)return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,n))throw Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=e.constructor;if(r)for(;r;){if(n in r&&r[n]===t[n])return!0;r=Object.getPrototypeOf(r)}return!1}Symbol.for("drizzle:hasOwnEntityKind")},98727:(e,t,r)=>{"use strict";r.d(t,{O7:()=>o});var n=r(2370),i=r(38079);class a extends i.b1{static [n.Q]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new s(e,this.config)}}class s extends i.df{static [n.Q]="PgBoolean";getSQLType(){return"boolean"}}function o(e){return new a(e??"")}},38079:(e,t,r)=>{"use strict";r.d(t,{df:()=>f,b1:()=>p});var n=r(2370);class i{static [n.Q]="ColumnBuilder";config;constructor(e,t,r){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}var a=r(60048),s=r(57101);class o{static [n.Q]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:r,foreignColumns:n}=e();return{name:t,columns:r,foreignTable:n[0].table,foreignColumns:n}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new l(e,this)}}class l{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [n.Q]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:r}=this.reference(),n=t.map(e=>e.name),i=r.map(e=>e.name),a=[this.table[s.m],...n,r[0].table[s.m],...i];return e??`${a.join("_")}_fk`}}var u=r(68700),c=r(249);function d(e,t,r){for(let n=t;n<e.length;n++){let i=e[n];if("\\"===i){n++;continue}if('"'===i)return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(","===i||"}"===i))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}class p extends i{foreignKeyConfigs=[];static [n.Q]="PgColumnBuilder";array(e){return new m(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:r,actions:n})=>(0,u.t)((r,n)=>{let i=new o(()=>({columns:[e],foreignColumns:[r()]}));return n.onUpdate&&i.onUpdate(n.onUpdate),n.onDelete&&i.onDelete(n.onDelete),i.build(t)},r,n))}buildExtraConfigColumn(e){return new h(e,this.config)}}class f extends a.s{constructor(e,t){t.uniqueName||(t.uniqueName=(0,c.C$)(e,[t.name])),super(e,t),this.table=e}static [n.Q]="PgColumn"}class h extends f{static [n.Q]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class g{static [n.Q]=null;constructor(e,t,r,n){this.name=e,this.keyAsName=t,this.type=r,this.indexConfig=n}name;keyAsName;type;indexConfig}class m extends p{static [n.Q]="PgArrayBuilder";constructor(e,t,r){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=r}build(e){let t=this.config.baseBuilder.build(e);return new y(e,this.config,t)}}class y extends f{constructor(e,t,r,n){super(e,t),this.baseColumn=r,this.range=n,this.size=t.size}size;static [n.Q]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,r=0){let n=[],i=r,a=!1;for(;i<t.length;){let s=t[i];if(","===s){(a||i===r)&&n.push(""),a=!0,i++;continue}if(a=!1,"\\"===s){i+=2;continue}if('"'===s){let[e,r]=d(t,i+1,!0);n.push(e),i=r;continue}if("}"===s)return[n,i+1];if("{"===s){let[r,a]=e(t,i+1);n.push(r),i=a;continue}let[o,l]=d(t,i,!1);n.push(o),i=l}return[n,i]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let r=e.map(e=>null===e?null:(0,n.is)(this.baseColumn,y)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?r:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(r)}}},736:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(2370),i=r(78824),a=r(38079);class s extends a.b1{static [n.Q]="PgDateColumnBaseBuilder";defaultNow(){return this.default((0,i.i6)`now()`)}}},76582:(e,t,r)=>{"use strict";r.d(t,{Ec:()=>c,ch:()=>l,hT:()=>d});var n=r(2370),i=r(52715),a=r(38079),s=r(736);class o extends s.M{static [n.Q]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new l(e,this.config)}}class l extends a.df{static [n.Q]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class u extends s.M{static [n.Q]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new c(e,this.config)}}class c extends a.df{static [n.Q]="PgDateString";getSQLType(){return"date"}}function d(e,t){let{name:r,config:n}=(0,i.An)(e,t);return n?.mode==="date"?new o(r):new u(r)}},34404:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var n=r(2370),i=r(38079);class a extends i.b1{static [n.Q]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}},34223:(e,t,r)=>{"use strict";r.d(t,{_L:()=>l});var n=r(2370),i=r(38079),a=r(34404);class s extends a.O{static [n.Q]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new o(e,this.config)}}class o extends i.df{static [n.Q]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function l(e){return new s(e??"")}},10020:(e,t,r)=>{"use strict";r.d(t,{AV:()=>o,y2:()=>s});var n=r(2370),i=r(38079);class a extends i.b1{static [n.Q]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new s(e,this.config)}}class s extends i.df{static [n.Q]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function o(e){return new a(e??"")}},59862:(e,t,r)=>{"use strict";r.d(t,{B2:()=>s,JB:()=>o});var n=r(2370),i=r(38079);class a extends i.b1{static [n.Q]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new s(e,this.config)}}class s extends i.df{static [n.Q]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function o(e){return new a(e??"")}},7106:(e,t,r)=>{"use strict";r.d(t,{OJ:()=>o,uR:()=>l});var n=r(2370),i=r(52715),a=r(38079);class s extends a.b1{static [n.Q]="PgNumericBuilder";constructor(e,t,r){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=r}build(e){return new o(e,this.config)}}class o extends a.df{static [n.Q]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function l(e,t){let{name:r,config:n}=(0,i.An)(e,t);return new s(r,n?.precision,n?.scale)}},14649:(e,t,r)=>{"use strict";r.d(t,{fL:()=>l});var n=r(2370),i=r(52715),a=r(38079);class s extends a.b1{static [n.Q]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new o(e,this.config)}}class o extends a.df{static [n.Q]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function l(e,t={}){let{name:r,config:n}=(0,i.An)(e,t);return new s(r,n)}},6808:(e,t,r)=>{"use strict";r.d(t,{XV:()=>u,vu:()=>l});var n=r(2370),i=r(52715),a=r(38079),s=r(736);class o extends s.M{constructor(e,t,r){super(e,"string","PgTime"),this.withTimezone=t,this.precision=r,this.config.withTimezone=t,this.config.precision=r}static [n.Q]="PgTimeBuilder";build(e){return new l(e,this.config)}}class l extends a.df{static [n.Q]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function u(e,t={}){let{name:r,config:n}=(0,i.An)(e,t);return new o(r,n.withTimezone??!1,n.precision)}},39873:(e,t,r)=>{"use strict";r.d(t,{AB:()=>d,bf:()=>c,sC:()=>l});var n=r(2370),i=r(52715),a=r(38079),s=r(736);class o extends s.M{static [n.Q]="PgTimestampBuilder";constructor(e,t,r){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=r}build(e){return new l(e,this.config)}}class l extends a.df{static [n.Q]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class u extends s.M{static [n.Q]="PgTimestampStringBuilder";constructor(e,t,r){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=r}build(e){return new c(e,this.config)}}class c extends a.df{static [n.Q]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function d(e,t={}){let{name:r,config:n}=(0,i.An)(e,t);return n?.mode==="string"?new u(r,n.withTimezone??!1,n.precision):new o(r,n?.withTimezone??!1,n?.precision)}},67462:(e,t,r)=>{"use strict";r.d(t,{RX:()=>o,Vj:()=>l});var n=r(2370),i=r(78824),a=r(38079);class s extends a.b1{static [n.Q]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default((0,i.i6)`gen_random_uuid()`)}build(e){return new o(e,this.config)}}class o extends a.df{static [n.Q]="PgUUID";getSQLType(){return"uuid"}}function l(e){return new s(e??"")}},49720:(e,t,r)=>{"use strict";r.d(t,{L7:()=>l});var n=r(2370),i=r(52715),a=r(38079);class s extends a.b1{static [n.Q]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new o(e,this.config)}}class o extends a.df{static [n.Q]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function l(e,t={}){let{name:r,config:n}=(0,i.An)(e,t);return new s(r,n)}},76399:(e,t,r)=>{"use strict";r.d(t,{YA:()=>eF,af:()=>eq});var n=r(2370),i=r(27702),a=r(52715),s=r(38079),o=r(34404);class l extends o.O{static [n.Q]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new u(e,this.config)}}class u extends s.df{static [n.Q]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class c extends o.O{static [n.Q]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new d(e,this.config)}}class d extends s.df{static [n.Q]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function p(e,t){let{name:r,config:n}=(0,a.An)(e,t);return"number"===n.mode?new l(r):new c(r)}class f extends s.b1{static [n.Q]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new h(e,this.config)}}class h extends s.df{static [n.Q]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class g extends s.b1{static [n.Q]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new m(e,this.config)}}class m extends s.df{static [n.Q]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function y(e,t){let{name:r,config:n}=(0,a.An)(e,t);return"number"===n.mode?new f(r):new g(r)}var b=r(98727);class v extends s.b1{static [n.Q]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new w(e,this.config)}}class w extends s.df{static [n.Q]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function _(e,t={}){let{name:r,config:n}=(0,a.An)(e,t);return new v(r,n)}class S extends s.b1{static [n.Q]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new A(e,this.config)}}class A extends s.df{static [n.Q]="PgCidr";getSQLType(){return"cidr"}}function x(e){return new S(e??"")}class k extends s.b1{static [n.Q]="PgCustomColumnBuilder";constructor(e,t,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new E(e,this.config)}}class E extends s.df{static [n.Q]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function T(e){return(t,r)=>{let{name:n,config:i}=(0,a.An)(t,r);return new k(n,i,e)}}var P=r(76582);class O extends s.b1{static [n.Q]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new C(e,this.config)}}class C extends s.df{static [n.Q]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function N(e){return new O(e??"")}class R extends s.b1{static [n.Q]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new j(e,this.config)}}class j extends s.df{static [n.Q]="PgInet";getSQLType(){return"inet"}}function I(e){return new R(e??"")}var $=r(34223);class L extends s.b1{static [n.Q]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new D(e,this.config)}}class D extends s.df{static [n.Q]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function M(e,t={}){let{name:r,config:n}=(0,a.An)(e,t);return new L(r,n)}var U=r(10020),B=r(59862);class F extends s.b1{static [n.Q]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new q(e,this.config)}}class q extends s.df{static [n.Q]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r),Number.parseFloat(n)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class H extends s.b1{static [n.Q]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new z(e,this.config)}}class z extends s.df{static [n.Q]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,n]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(r),c:Number.parseFloat(n)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function Q(e,t){let{name:r,config:n}=(0,a.An)(e,t);return n?.mode&&"tuple"!==n.mode?new H(r):new F(r)}class V extends s.b1{static [n.Q]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new K(e,this.config)}}class K extends s.df{static [n.Q]="PgMacaddr";getSQLType(){return"macaddr"}}function W(e){return new V(e??"")}class G extends s.b1{static [n.Q]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new J(e,this.config)}}class J extends s.df{static [n.Q]="PgMacaddr8";getSQLType(){return"macaddr8"}}function Z(e){return new G(e??"")}var X=r(7106);class Y extends s.b1{static [n.Q]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new ee(e,this.config)}}class ee extends s.df{static [n.Q]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class et extends s.b1{static [n.Q]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new er(e,this.config)}}class er extends s.df{static [n.Q]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function en(e,t){let{name:r,config:n}=(0,a.An)(e,t);return n?.mode&&"tuple"!==n.mode?new et(r):new Y(r)}function ei(e,t){let r=new DataView(new ArrayBuffer(8));for(let n=0;n<8;n++)r.setUint8(n,e[t+n]);return r.getFloat64(0,!0)}function ea(e){let t=function(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}(e),r=0,n=t[0];r+=1;let i=new DataView(t.buffer),a=i.getUint32(r,1===n);if(r+=4,536870912&a&&(i.getUint32(r,1===n),r+=4),(65535&a)==1){let e=ei(t,r),n=ei(t,r+=8);return r+=8,[e,n]}throw Error("Unsupported geometry type")}class es extends s.b1{static [n.Q]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new eo(e,this.config)}}class eo extends s.df{static [n.Q]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return ea(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class el extends s.b1{static [n.Q]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new eu(e,this.config)}}class eu extends s.df{static [n.Q]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=ea(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function ec(e,t){let{name:r,config:n}=(0,a.An)(e,t);return n?.mode&&"tuple"!==n.mode?new el(r):new es(r)}class ed extends s.b1{static [n.Q]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new ep(e,this.config)}}class ep extends s.df{static [n.Q]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function ef(e){return new ed(e??"")}class eh extends s.b1{static [n.Q]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new eg(e,this.config)}}class eg extends s.df{static [n.Q]="PgSerial";getSQLType(){return"serial"}}function em(e){return new eh(e??"")}class ey extends o.O{static [n.Q]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new eb(e,this.config)}}class eb extends s.df{static [n.Q]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function ev(e){return new ey(e??"")}class ew extends s.b1{static [n.Q]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new e_(e,this.config)}}class e_ extends s.df{static [n.Q]="PgSmallSerial";getSQLType(){return"smallserial"}}function eS(e){return new ew(e??"")}var eA=r(14649),ex=r(6808),ek=r(39873),eE=r(67462),eT=r(49720);class eP extends s.b1{static [n.Q]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new eO(e,this.config)}}class eO extends s.df{static [n.Q]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function eC(e,t){let{name:r,config:n}=(0,a.An)(e,t);return new eP(r,n)}class eN extends s.b1{static [n.Q]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new eR(e,this.config)}}class eR extends s.df{static [n.Q]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function ej(e,t){let{name:r,config:n}=(0,a.An)(e,t);return new eN(r,n)}class eI extends s.b1{static [n.Q]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new e$(e,this.config)}}class e$ extends s.df{static [n.Q]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function eL(e,t){let{name:r,config:n}=(0,a.An)(e,t);return new eI(r,n)}class eD extends s.b1{static [n.Q]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new eM(e,this.config)}}class eM extends s.df{static [n.Q]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function eU(e,t){let{name:r,config:n}=(0,a.An)(e,t);return new eD(r,n)}let eB=Symbol.for("drizzle:PgInlineForeignKeys");class eF extends i.iA{static [n.Q]="PgTable";static Symbol=Object.assign({},i.iA.Symbol,{InlineForeignKeys:eB});[eB]=[];[i.iA.Symbol.ExtraConfigBuilder]=void 0}let eq=(e,t,r)=>(function(e,t,r,n,a=e){let s=new eF(e,n,a),o="function"==typeof t?t({bigint:p,bigserial:y,boolean:b.O7,char:_,cidr:x,customType:T,date:P.hT,doublePrecision:N,inet:I,integer:$._L,interval:M,json:U.AV,jsonb:B.JB,line:Q,macaddr:W,macaddr8:Z,numeric:X.uR,point:en,geometry:ec,real:ef,serial:em,smallint:ev,smallserial:eS,text:eA.fL,time:ex.XV,timestamp:ek.AB,uuid:eE.Vj,varchar:eT.L7,bit:eC,halfvec:ej,sparsevec:eL,vector:eU}):t,l=Object.fromEntries(Object.entries(o).map(([e,t])=>{t.setName(e);let r=t.build(s);return s[eB].push(...t.buildForeignKeys(r,s)),[e,r]})),u=Object.fromEntries(Object.entries(o).map(([e,t])=>(t.setName(e),[e,t.buildExtraConfigColumn(s)]))),c=Object.assign(s,l);return c[i.iA.Symbol.Columns]=l,c[i.iA.Symbol.ExtraConfigColumns]=u,r&&(c[eF.Symbol.ExtraConfigBuilder]=r),c})(e,t,r,void 0)},249:(e,t,r)=>{"use strict";r.d(t,{C$:()=>s,Tw:()=>a});var n=r(2370),i=r(57101);function a(e){return new l(e)}function s(e,t){return`${e[i.m]}_${t.join("_")}_unique`}class o{constructor(e,t){this.name=t,this.columns=e}static [n.Q]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new u(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class l{static [n.Q]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new o(e,this.name)}}class u{constructor(e,t,r,n){this.table=e,this.columns=t,this.name=n??s(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=r}static [n.Q]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}},89519:(e,t,r)=>{"use strict";r.d(t,{t:()=>eT});var n=r(2370);class i{static [n.Q]="ConsoleLogWriter";write(e){console.log(e)}}class a{static [n.Q]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new i}logQuery(e,t){let r=t.map(e=>{try{return JSON.stringify(e)}catch{return String(e)}}),n=r.length?` -- params: [${r.join(", ")}]`:"";this.writer.write(`Query: ${e}${n}`)}}class s{static [n.Q]="NoopLogger";logQuery(){}}var o=r(60048),l=r(78824),u=r(27702),c=r(59304);class d{constructor(e){this.table=e}static [n.Q]="ColumnAliasProxyHandler";get(e,t){return"table"===t?this.table:e[t]}}class p{constructor(e,t){this.alias=e,this.replaceOriginalName=t}static [n.Q]="TableAliasProxyHandler";get(e,t){if(t===u.iA.Symbol.IsAlias)return!0;if(t===u.iA.Symbol.Name||this.replaceOriginalName&&t===u.iA.Symbol.OriginalName)return this.alias;if(t===c.d)return{...e[c.d],name:this.alias,isAlias:!0};if(t===u.iA.Symbol.Columns){let t=e[u.iA.Symbol.Columns];if(!t)return t;let r={};return Object.keys(t).map(n=>{r[n]=new Proxy(t[n],new d(new Proxy(e,this)))}),r}let r=e[t];return(0,n.is)(r,o.s)?new Proxy(r,new d(new Proxy(e,this))):r}}class f{constructor(e){this.alias=e}static [n.Q]=null;get(e,t){return"sourceTable"===t?h(e.sourceTable,this.alias):e[t]}}function h(e,t){return new Proxy(e,new p(t,!1))}function g(e,t){return new Proxy(e,new d(new Proxy(e.table,new p(t,!1))))}function m(e,t){return new l.$s.Aliased(y(e.sql,t),e.fieldAlias)}function y(e,t){return l.i6.join(e.queryChunks.map(e=>(0,n.is)(e,o.s)?g(e,t):(0,n.is)(e,l.$s)?y(e,t):(0,n.is)(e,l.$s.Aliased)?m(e,t):e))}function b(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(e=>e.toLowerCase()).join("_")}function v(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((e,t,r)=>e+(0===r?t.toLowerCase():`${t[0].toUpperCase()}${t.slice(1)}`),"")}function w(e){return e}class _{static [n.Q]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert="snake_case"===e?b:"camelCase"===e?v:w}getColumnCasing(e){if(!e.keyAsName)return e.name;let t=e.table[u.iA.Symbol.Schema]??"public",r=e.table[u.iA.Symbol.OriginalName],n=`${t}.${r}.${e.name}`;return this.cache[n]||this.cacheTable(e.table),this.cache[n]}cacheTable(e){let t=e[u.iA.Symbol.Schema]??"public",r=e[u.iA.Symbol.OriginalName],n=`${t}.${r}`;if(!this.cachedTables[n]){for(let t of Object.values(e[u.iA.Symbol.Columns])){let e=`${n}.${t.name}`;this.cache[e]=this.convert(t.name)}this.cachedTables[n]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class S extends Error{static [n.Q]="DrizzleError";constructor({message:e,cause:t}){super(e),this.name="DrizzleError",this.cause=t}}class A extends S{static [n.Q]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}var x=r(38079),k=r(59862),E=r(10020),T=r(7106),P=r(6808),O=r(39873),C=r(76582),N=r(67462),R=r(76399);class j{static [n.Q]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new I(e,this.columns,this.name)}}class I{constructor(e,t,r){this.table=e,this.columns=t,this.name=r}static [n.Q]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[R.YA.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}var $=r(88581);function L(e){return(0,l.i6)`${e} asc`}function D(e){return(0,l.i6)`${e} desc`}class M{constructor(e,t,r){this.sourceTable=e,this.referencedTable=t,this.relationName=r,this.referencedTableName=t[u.iA.Symbol.Name]}static [n.Q]="Relation";referencedTableName;fieldName}class U{constructor(e,t){this.table=e,this.config=t}static [n.Q]="Relations"}class B extends M{constructor(e,t,r,n){super(e,t,r?.relationName),this.config=r,this.isNullable=n}static [n.Q]="One";withFieldName(e){let t=new B(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class F extends M{constructor(e,t,r){super(e,t,r?.relationName),this.config=r}static [n.Q]="Many";withFieldName(e){let t=new F(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function q(e){return{one:function(t,r){return new B(e,t,r,r?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)},many:function(t,r){return new F(e,t,r)}}}var H=r(88840),z=r(52715);class Q extends l.G7{static [n.Q]="PgViewBase"}class V{static [n.Q]="PgDialect";casing;constructor(e){this.casing=new _(e?.casing)}async migrate(e,t,r){let n="string"==typeof r?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",i="string"==typeof r?"drizzle":r.migrationsSchema??"drizzle",a=(0,l.i6)`
			CREATE TABLE IF NOT EXISTS ${l.i6.identifier(i)}.${l.i6.identifier(n)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await t.execute((0,l.i6)`CREATE SCHEMA IF NOT EXISTS ${l.i6.identifier(i)}`),await t.execute(a);let s=(await t.all((0,l.i6)`select id, hash, created_at from ${l.i6.identifier(i)}.${l.i6.identifier(n)} order by created_at desc limit 1`))[0];await t.transaction(async t=>{for await(let r of e)if(!s||Number(s.created_at)<r.folderMillis){for(let e of r.sql)await t.execute(l.i6.raw(e));await t.execute((0,l.i6)`insert into ${l.i6.identifier(i)}.${l.i6.identifier(n)} ("hash", "created_at") values(${r.hash}, ${r.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[(0,l.i6)`with `];for(let[r,n]of e.entries())t.push((0,l.i6)`${l.i6.identifier(n._.alias)} as (${n._.sql})`),r<e.length-1&&t.push((0,l.i6)`, `);return t.push((0,l.i6)` `),l.i6.join(t)}buildDeleteQuery({table:e,where:t,returning:r,withList:n}){let i=this.buildWithCTE(n),a=r?(0,l.i6)` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,s=t?(0,l.i6)` where ${t}`:void 0;return(0,l.i6)`${i}delete from ${e}${s}${a}`}buildUpdateSet(e,t){let r=e[u.iA.Symbol.Columns],n=Object.keys(r).filter(e=>void 0!==t[e]||r[e]?.onUpdateFn!==void 0),i=n.length;return l.i6.join(n.flatMap((e,n)=>{let a=r[e],s=t[e]??l.i6.param(a.onUpdateFn(),a),o=(0,l.i6)`${l.i6.identifier(this.casing.getColumnCasing(a))} = ${s}`;return n<i-1?[o,l.i6.raw(", ")]:[o]}))}buildUpdateQuery({table:e,set:t,where:r,returning:n,withList:i}){let a=this.buildWithCTE(i),s=this.buildUpdateSet(e,t),o=n?(0,l.i6)` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,u=r?(0,l.i6)` where ${r}`:void 0;return(0,l.i6)`${a}update ${e} set ${s}${u}${o}`}buildSelection(e,{isSingleTable:t=!1}={}){let r=e.length,i=e.flatMap(({field:e},i)=>{let a=[];if((0,n.is)(e,l.$s.Aliased)&&e.isSelectionField)a.push(l.i6.identifier(e.fieldAlias));else if((0,n.is)(e,l.$s.Aliased)||(0,n.is)(e,l.$s)){let r=(0,n.is)(e,l.$s.Aliased)?e.sql:e;t?a.push(new l.$s(r.queryChunks.map(e=>(0,n.is)(e,x.df)?l.i6.identifier(this.casing.getColumnCasing(e)):e))):a.push(r),(0,n.is)(e,l.$s.Aliased)&&a.push((0,l.i6)` as ${l.i6.identifier(e.fieldAlias)}`)}else(0,n.is)(e,o.s)&&(t?a.push(l.i6.identifier(this.casing.getColumnCasing(e))):a.push(e));return i<r-1&&a.push((0,l.i6)`, `),a});return l.i6.join(i)}buildSelectQuery({withList:e,fields:t,fieldsFlat:r,where:i,having:a,table:s,joins:d,orderBy:p,groupBy:f,limit:h,offset:g,lockingClause:m,distinct:y,setOperators:b}){let v,w,_;let S=r??(0,z.ZS)(t);for(let e of S){let t;if((0,n.is)(e.field,o.s)&&(0,u.SP)(e.field.table)!==((0,n.is)(s,H.k)?s._.alias:(0,n.is)(s,Q)?s[c.d].name:(0,n.is)(s,l.$s)?void 0:(0,u.SP)(s))&&(t=e.field.table,!d?.some(({alias:e})=>e===(t[u.iA.Symbol.IsAlias]?u.SP(t):t[u.iA.Symbol.BaseName])))){let t=(0,u.SP)(e.field.table);throw Error(`Your "${e.path.join("->")}" field references a column "${t}"."${e.field.name}", but the table "${t}" is not part of the query! Did you forget to join it?`)}}let A=!d||0===d.length,x=this.buildWithCTE(e);y&&(v=!0===y?(0,l.i6)` distinct`:(0,l.i6)` distinct on (${l.i6.join(y.on,(0,l.i6)`, `)})`);let k=this.buildSelection(S,{isSingleTable:A}),E=(()=>{if((0,n.is)(s,u.iA)&&s[u.iA.Symbol.OriginalName]!==s[u.iA.Symbol.Name]){let e=(0,l.i6)`${l.i6.identifier(s[u.iA.Symbol.OriginalName])}`;return s[u.iA.Symbol.Schema]&&(e=(0,l.i6)`${l.i6.identifier(s[u.iA.Symbol.Schema])}.${e}`),(0,l.i6)`${e} ${l.i6.identifier(s[u.iA.Symbol.Name])}`}return s})(),T=[];if(d)for(let[e,t]of d.entries()){0===e&&T.push((0,l.i6)` `);let r=t.table,i=t.lateral?(0,l.i6)` lateral`:void 0;if((0,n.is)(r,R.YA)){let e=r[R.YA.Symbol.Name],n=r[R.YA.Symbol.Schema],a=r[R.YA.Symbol.OriginalName],s=e===a?void 0:t.alias;T.push((0,l.i6)`${l.i6.raw(t.joinType)} join${i} ${n?(0,l.i6)`${l.i6.identifier(n)}.`:void 0}${l.i6.identifier(a)}${s&&(0,l.i6)` ${l.i6.identifier(s)}`} on ${t.on}`)}else if((0,n.is)(r,l.G7)){let e=r[c.d].name,n=r[c.d].schema,a=r[c.d].originalName,s=e===a?void 0:t.alias;T.push((0,l.i6)`${l.i6.raw(t.joinType)} join${i} ${n?(0,l.i6)`${l.i6.identifier(n)}.`:void 0}${l.i6.identifier(a)}${s&&(0,l.i6)` ${l.i6.identifier(s)}`} on ${t.on}`)}else T.push((0,l.i6)`${l.i6.raw(t.joinType)} join${i} ${r} on ${t.on}`);e<d.length-1&&T.push((0,l.i6)` `)}let P=l.i6.join(T),O=i?(0,l.i6)` where ${i}`:void 0,C=a?(0,l.i6)` having ${a}`:void 0;p&&p.length>0&&(w=(0,l.i6)` order by ${l.i6.join(p,(0,l.i6)`, `)}`),f&&f.length>0&&(_=(0,l.i6)` group by ${l.i6.join(f,(0,l.i6)`, `)}`);let N="object"==typeof h||"number"==typeof h&&h>=0?(0,l.i6)` limit ${h}`:void 0,j=g?(0,l.i6)` offset ${g}`:void 0,I=l.i6.empty();if(m){let e=(0,l.i6)` for ${l.i6.raw(m.strength)}`;m.config.of&&e.append((0,l.i6)` of ${l.i6.join(Array.isArray(m.config.of)?m.config.of:[m.config.of],(0,l.i6)`, `)}`),m.config.noWait?e.append((0,l.i6)` no wait`):m.config.skipLocked&&e.append((0,l.i6)` skip locked`),I.append(e)}let $=(0,l.i6)`${x}select${v} ${k} from ${E}${P}${O}${_}${C}${w}${N}${j}${I}`;return b.length>0?this.buildSetOperations($,b):$}buildSetOperations(e,t){let[r,...n]=t;if(!r)throw Error("Cannot pass undefined values to any set operator");return 0===n.length?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),n)}buildSetOperationQuery({leftSelect:e,setOperator:{type:t,isAll:r,rightSelect:i,limit:a,orderBy:s,offset:o}}){let u;let c=(0,l.i6)`(${e.getSQL()}) `,d=(0,l.i6)`(${i.getSQL()})`;if(s&&s.length>0){let e=[];for(let t of s)if((0,n.is)(t,x.df))e.push(l.i6.identifier(t.name));else if((0,n.is)(t,l.$s)){for(let e=0;e<t.queryChunks.length;e++){let r=t.queryChunks[e];(0,n.is)(r,x.df)&&(t.queryChunks[e]=l.i6.identifier(r.name))}e.push((0,l.i6)`${t}`)}else e.push((0,l.i6)`${t}`);u=(0,l.i6)` order by ${l.i6.join(e,(0,l.i6)`, `)} `}let p="object"==typeof a||"number"==typeof a&&a>=0?(0,l.i6)` limit ${a}`:void 0,f=l.i6.raw(`${t} ${r?"all ":""}`),h=o?(0,l.i6)` offset ${o}`:void 0;return(0,l.i6)`${c}${f}${d}${u}${p}${h}`}buildInsertQuery({table:e,values:t,onConflict:r,returning:i,withList:a}){let s=[],o=Object.entries(e[u.iA.Symbol.Columns]).filter(([e,t])=>!t.shouldDisableInsert()),c=o.map(([,e])=>l.i6.identifier(this.casing.getColumnCasing(e)));for(let[e,r]of t.entries()){let i=[];for(let[e,t]of o){let a=r[e];if(void 0===a||(0,n.is)(a,l.dO)&&void 0===a.value){if(void 0!==t.defaultFn){let e=t.defaultFn(),r=(0,n.is)(e,l.$s)?e:l.i6.param(e,t);i.push(r)}else if(t.default||void 0===t.onUpdateFn)i.push((0,l.i6)`default`);else{let e=t.onUpdateFn(),r=(0,n.is)(e,l.$s)?e:l.i6.param(e,t);i.push(r)}}else i.push(a)}s.push(i),e<t.length-1&&s.push((0,l.i6)`, `)}let d=this.buildWithCTE(a),p=l.i6.join(s),f=i?(0,l.i6)` returning ${this.buildSelection(i,{isSingleTable:!0})}`:void 0,h=r?(0,l.i6)` on conflict ${r}`:void 0;return(0,l.i6)`${d}insert into ${e} ${c} values ${p}${h}${f}`}buildRefreshMaterializedViewQuery({view:e,concurrently:t,withNoData:r}){let n=t?(0,l.i6)` concurrently`:void 0,i=r?(0,l.i6)` with no data`:void 0;return(0,l.i6)`refresh materialized view${n} ${e}${i}`}prepareTyping(e){return(0,n.is)(e,k.B2)||(0,n.is)(e,E.y2)?"json":(0,n.is)(e,T.OJ)?"decimal":(0,n.is)(e,P.vu)?"time":(0,n.is)(e,O.sC)||(0,n.is)(e,O.bf)?"timestamp":(0,n.is)(e,C.ch)||(0,n.is)(e,C.Ec)?"date":(0,n.is)(e,N.RX)?"uuid":"none"}sqlToQuery(e,t){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:t})}buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:r,table:i,tableConfig:a,queryConfig:s,tableAlias:c,nestedQueryRelation:d,joinOn:p}){let f,b=[],v,w,_=[],A,x=[];if(!0===s)b=Object.entries(a.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:g(t,c),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let i=Object.fromEntries(Object.entries(a.columns).map(([e,t])=>[e,g(t,c)]));if(s.where){let e="function"==typeof s.where?s.where(i,{and:$.xD,between:$.vX,eq:$.eq,exists:$.Gg,gt:$.gt,gte:$.eg,ilike:$.o$,inArray:$.d3,isNull:$.Ft,isNotNull:$.K0,like:$.vL,lt:$.lt,lte:$.G,ne:$.ne,not:$.ff,notBetween:$.OL,notExists:$.UN,notLike:$.Qg,notIlike:$.mM,notInArray:$.Nl,or:$.or,sql:l.i6}):s.where;A=e&&y(e,c)}let d=[],p=[];if(s.columns){let e=!1;for(let[t,r]of Object.entries(s.columns))void 0!==r&&t in a.columns&&(e||!0!==r||(e=!0),p.push(t));p.length>0&&(p=e?p.filter(e=>s.columns?.[e]===!0):Object.keys(a.columns).filter(e=>!p.includes(e)))}else p=Object.keys(a.columns);for(let e of p){let t=a.columns[e];d.push({tsKey:e,value:t})}let f=[];if(s.with&&(f=Object.entries(s.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:a.relations[e]}))),s.extras)for(let[e,t]of Object.entries("function"==typeof s.extras?s.extras(i,{sql:l.i6}):s.extras))d.push({tsKey:e,value:m(t,c)});for(let{tsKey:e,value:t}of d)b.push({dbKey:(0,n.is)(t,l.$s.Aliased)?t.fieldAlias:a.columns[e].name,tsKey:e,field:(0,n.is)(t,o.s)?g(t,c):t,relationTableTsKey:void 0,isJson:!1,selection:[]});let h="function"==typeof s.orderBy?s.orderBy(i,{sql:l.i6,asc:L,desc:D}):s.orderBy??[];for(let{tsKey:i,queryConfig:a,relation:d}of(Array.isArray(h)||(h=[h]),_=h.map(e=>(0,n.is)(e,o.s)?g(e,c):y(e,c)),v=s.limit,w=s.offset,f)){let s=function(e,t,r){if((0,n.is)(r,B)&&r.config)return{fields:r.config.fields,references:r.config.references};let i=t[(0,u.Q0)(r.referencedTable)];if(!i)throw Error(`Table "${r.referencedTable[u.iA.Symbol.Name]}" not found in schema`);let a=e[i];if(!a)throw Error(`Table "${i}" not found in schema`);let s=r.sourceTable,o=t[(0,u.Q0)(s)];if(!o)throw Error(`Table "${s[u.iA.Symbol.Name]}" not found in schema`);let l=[];for(let e of Object.values(a.relations))(r.relationName&&r!==e&&e.relationName===r.relationName||!r.relationName&&e.referencedTable===r.sourceTable)&&l.push(e);if(l.length>1)throw r.relationName?Error(`There are multiple relations with name "${r.relationName}" in table "${i}"`):Error(`There are multiple relations between "${i}" and "${r.sourceTable[u.iA.Symbol.Name]}". Please specify relation name`);if(l[0]&&(0,n.is)(l[0],B)&&l[0].config)return{fields:l[0].config.references,references:l[0].config.fields};throw Error(`There is not enough information to infer relation "${o}.${r.fieldName}"`)}(t,r,d),o=r[(0,u.Q0)(d.referencedTable)],p=`${c}_${i}`,f=(0,$.xD)(...s.fields.map((e,t)=>(0,$.eq)(g(s.references[t],p),g(e,c)))),h=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:r,table:e[o],tableConfig:t[o],queryConfig:(0,n.is)(d,B)?!0===a?{limit:1}:{...a,limit:1}:a,tableAlias:p,joinOn:f,nestedQueryRelation:d}),m=(0,l.i6)`${l.i6.identifier(p)}.${l.i6.identifier("data")}`.as(i);x.push({on:(0,l.i6)`true`,table:new H.k(h.sql,{},p),alias:p,joinType:"left",lateral:!0}),b.push({dbKey:i,tsKey:i,field:m,relationTableTsKey:o,isJson:!0,selection:h.selection})}}if(0===b.length)throw new S({message:`No fields selected for table "${a.tsName}" ("${c}")`});if(A=(0,$.xD)(p,A),d){let e=(0,l.i6)`json_build_array(${l.i6.join(b.map(({field:e,tsKey:t,isJson:r})=>r?(0,l.i6)`${l.i6.identifier(`${c}_${t}`)}.${l.i6.identifier("data")}`:(0,n.is)(e,l.$s.Aliased)?e.sql:e),(0,l.i6)`, `)})`;(0,n.is)(d,F)&&(e=(0,l.i6)`coalesce(json_agg(${e}${_.length>0?(0,l.i6)` order by ${l.i6.join(_,(0,l.i6)`, `)}`:void 0}), '[]'::json)`);let t=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:a.tsName,selection:b}];void 0!==v||void 0!==w||_.length>0?(f=this.buildSelectQuery({table:h(i,c),fields:{},fieldsFlat:[{path:[],field:l.i6.raw("*")}],where:A,limit:v,offset:w,orderBy:_,setOperators:[]}),A=void 0,v=void 0,w=void 0,_=[]):f=h(i,c),f=this.buildSelectQuery({table:(0,n.is)(f,R.YA)?f:new H.k(f,{},c),fields:{},fieldsFlat:t.map(({field:e})=>({path:[],field:(0,n.is)(e,o.s)?g(e,c):e})),joins:x,where:A,limit:v,offset:w,orderBy:_,setOperators:[]})}else f=this.buildSelectQuery({table:h(i,c),fields:{},fieldsFlat:b.map(({field:e})=>({path:[],field:(0,n.is)(e,o.s)?g(e,c):e})),joins:x,where:A,limit:v,offset:w,orderBy:_,setOperators:[]});return{tableTsKey:a.tsName,sql:f,selection:b}}}class K{static [n.Q]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,t){if("_"===t)return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(t===c.d)return{...e[c.d],selectedFields:new Proxy(e[c.d].selectedFields,this)};if("symbol"==typeof t)return e[t];let r=((0,n.is)(e,H.k)?e._.selectedFields:(0,n.is)(e,l.G7)?e[c.d].selectedFields:e)[t];if((0,n.is)(r,l.$s.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!r.isSelectionField)return r.sql;let e=r.clone();return e.isSelectionField=!0,e}if((0,n.is)(r,l.$s)){if("sql"===this.config.sqlBehavior)return r;throw Error(`You tried to reference "${t}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return(0,n.is)(r,o.s)?this.config.alias?new Proxy(r,new d(new Proxy(r.table,new p(this.config.alias,this.config.replaceOriginalName??!1)))):r:"object"!=typeof r||null===r?r:new Proxy(r,new K(this.config))}}class W{static [n.Q]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class G{static [n.Q]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}then(e,t){return this.execute().then(e,t)}}var J=r(29653);class Z{static [n.Q]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}from(e){let t;let r=!!this.fields;return t=this.fields?this.fields:(0,n.is)(e,H.k)?Object.fromEntries(Object.keys(e._.selectedFields).map(t=>[t,e[t]])):(0,n.is)(e,Q)?e[c.d].selectedFields:(0,n.is)(e,l.$s)?{}:(0,z.SS)(e),new Y({table:e,fields:t,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}class X extends W{static [n.Q]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;constructor({table:e,fields:t,isPartialSelect:r,session:n,dialect:i,withList:a,distinct:s}){super(),this.config={withList:a,table:e,fields:{...t},distinct:s,setOperators:[]},this.isPartialSelect=r,this.session=n,this.dialect=i,this._={selectedFields:t},this.tableName=(0,z.dP)(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}createJoin(e){return(t,r)=>{let i=this.tableName,a=(0,z.dP)(t);if("string"==typeof a&&this.config.joins?.some(e=>e.alias===a))throw Error(`Alias "${a}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof i&&(this.config.fields={[i]:this.config.fields}),"string"==typeof a&&!(0,n.is)(t,l.$s))){let e=(0,n.is)(t,H.k)?t._.selectedFields:(0,n.is)(t,l.G7)?t[c.d].selectedFields:t[u.iA.Symbol.Columns];this.config.fields[a]=e}if("function"==typeof r&&(r=r(new Proxy(this.config.fields,new K({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:r,table:t,joinType:e,alias:a}),"string"==typeof a)switch(e){case"left":this.joinsNotNullableMap[a]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[a]=!0;break;case"inner":this.joinsNotNullableMap[a]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[a]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");createSetOperator(e,t){return r=>{let n="function"==typeof r?r(et()):r;if(!(0,z.ux)(this.getSelectedFields(),n.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:n}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new K({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new K({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new K({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new K({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=e:this.config.orderBy=e;return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,t={}){return this.config.lockingClause={strength:e,config:t},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){return new Proxy(new H.k(this.getSQL(),this.config.fields,e),new K({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new K({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class Y extends X{static [n.Q]="PgSelect";_prepare(e){let{session:t,config:r,dialect:n,joinsNotNullableMap:i}=this;if(!t)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");return J.Z.startActiveSpan("drizzle.prepareQuery",()=>{let a=(0,z.ZS)(r.fields),s=t.prepareQuery(n.sqlToQuery(this.getSQL()),a,e,!0);return s.joinsNotNullableMap=i,s})}prepare(e){return this._prepare(e)}execute=e=>J.Z.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e))}function ee(e,t){return(r,n,...i)=>{let a=[n,...i].map(r=>({type:e,isAll:t,rightSelect:r}));for(let e of a)if(!(0,z.ux)(r.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(a)}}(0,z.ef)(Y,[G]);let et=()=>({union:er,unionAll:en,intersect:ei,intersectAll:ea,except:es,exceptAll:eo}),er=ee("union",!1),en=ee("union",!0),ei=ee("intersect",!1),ea=ee("intersect",!0),es=ee("except",!1),eo=ee("except",!0);class el{static [n.Q]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=(0,n.is)(e,V)?e:void 0,this.dialectConfig=(0,n.is)(e,V)?void 0:e}$with(e){let t=this;return{as:r=>("function"==typeof r&&(r=r(t)),new Proxy(new H.S(r.getSQL(),r.getSelectedFields(),e,!0),new K({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}}with(...e){let t=this;return{select:function(r){return new Z({fields:r??void 0,session:void 0,dialect:t.getDialect(),withList:e})},selectDistinct:function(e){return new Z({fields:e??void 0,session:void 0,dialect:t.getDialect(),distinct:!0})},selectDistinctOn:function(e,r){return new Z({fields:r??void 0,session:void 0,dialect:t.getDialect(),distinct:{on:e}})}}}select(e){return new Z({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new Z({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,t){return new Z({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new V(this.dialectConfig)),this.dialect}}class eu{constructor(e,t,r,n){this.table=e,this.session=t,this.dialect=r,this.withList=n}static [n.Q]="PgUpdateBuilder";set(e){return new ec(this.table,(0,z.M6)(this.table,e),this.session,this.dialect,this.withList)}}class ec extends G{constructor(e,t,r,n,i){super(),this.session=r,this.dialect=n,this.config={set:t,table:e,withList:i}}static [n.Q]="PgUpdate";config;where(e){return this.config.where=e,this}returning(e=this.config.table[u.iA.Symbol.Columns]){return this.config.returning=(0,z.ZS)(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0)}prepare(e){return this._prepare(e)}execute=e=>this._prepare().execute(e);$dynamic(){return this}}class ed{constructor(e,t,r,n){this.table=e,this.session=t,this.dialect=r,this.withList=n}static [n.Q]="PgInsertBuilder";values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let t=e.map(e=>{let t={},r=this.table[u.iA.Symbol.Columns];for(let i of Object.keys(e)){let a=e[i];t[i]=(0,n.is)(a,l.$s)?a:new l.dO(a,r[i])}return t});return new ep(this.table,t,this.session,this.dialect,this.withList)}}class ep extends G{constructor(e,t,r,n,i){super(),this.session=r,this.dialect=n,this.config={table:e,values:t,withList:i}}static [n.Q]="PgInsert";config;returning(e=this.config.table[u.iA.Symbol.Columns]){return this.config.returning=(0,z.ZS)(e),this}onConflictDoNothing(e={}){if(void 0===e.target)this.config.onConflict=(0,l.i6)`do nothing`;else{let t="";t=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let r=e.where?(0,l.i6)` where ${e.where}`:void 0;this.config.onConflict=(0,l.i6)`(${l.i6.raw(t)})${r} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let t=e.where?(0,l.i6)` where ${e.where}`:void 0,r=e.targetWhere?(0,l.i6)` where ${e.targetWhere}`:void 0,n=e.setWhere?(0,l.i6)` where ${e.setWhere}`:void 0,i=this.dialect.buildUpdateSet(this.config.table,(0,z.M6)(this.config.table,e.set)),a="";return a=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=(0,l.i6)`(${l.i6.raw(a)})${r} do update set ${i}${t}${n}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return J.Z.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}execute=e=>J.Z.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e));$dynamic(){return this}}class ef extends G{constructor(e,t,r,n){super(),this.session=t,this.dialect=r,this.config={table:e,withList:n}}static [n.Q]="PgDelete";config;where(e){return this.config.where=e,this}returning(e=this.config.table[u.iA.Symbol.Columns]){return this.config.returning=(0,z.ZS)(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return J.Z.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}execute=e=>J.Z.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e));$dynamic(){return this}}class eh extends l.$s{constructor(e){super(eh.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=eh.buildCount(e.source,e.filters)}sql;static [n.Q]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,t){return(0,l.i6)`(select count(*) from ${e}${l.i6.raw(" where ").if(t)}${t})`}static buildCount(e,t){return(0,l.i6)`select count(*) as count from ${e}${l.i6.raw(" where ").if(t)}${t};`}then(e,t){return Promise.resolve(this.session.count(this.sql)).then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}}class eg{constructor(e,t,r,n,i,a,s){this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=n,this.tableConfig=i,this.dialect=a,this.session=s}static [n.Q]="PgRelationalQueryBuilder";findMany(e){return new em(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new em(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class em extends G{constructor(e,t,r,n,i,a,s,o,l){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=n,this.tableConfig=i,this.dialect=a,this.session=s,this.config=o,this.mode=l}static [n.Q]="PgRelationalQuery";_prepare(e){return J.Z.startActiveSpan("drizzle.prepareQuery",()=>{let{query:t,builtQuery:r}=this._toSQL();return this.session.prepareQuery(r,void 0,e,!0,(e,r)=>{let i=e.map(e=>(function e(t,r,i,a,s=e=>e){let u={};for(let[c,d]of a.entries())if(d.isJson){let a=r.relations[d.tsKey],o=i[c],l="string"==typeof o?JSON.parse(o):o;u[d.tsKey]=(0,n.is)(a,B)?l&&e(t,t[d.relationTableTsKey],l,d.selection,s):l.map(r=>e(t,t[d.relationTableTsKey],r,d.selection,s))}else{let e;let t=s(i[c]),r=d.field;e=(0,n.is)(r,o.s)?r:(0,n.is)(r,l.$s)?r.decoder:r.sql.decoder,u[d.tsKey]=null===t?null:e.mapFromDriverValue(t)}return u})(this.schema,this.tableConfig,e,t.selection,r));return"first"===this.mode?i[0]:i})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),t=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:t}}toSQL(){return this._toSQL().builtQuery}execute(){return J.Z.startActiveSpan("drizzle.operation",()=>this._prepare().execute())}}class ey extends G{constructor(e,t,r,n){super(),this.execute=e,this.sql=t,this.query=r,this.mapBatchResult=n}static [n.Q]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,t){return t?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}class eb extends G{constructor(e,t,r){super(),this.session=t,this.dialect=r,this.config={view:e}}static [n.Q]="PgRefreshMaterializedView";config;concurrently(){if(void 0!==this.config.withNoData)throw Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(void 0!==this.config.concurrently)throw Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return J.Z.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}execute=e=>J.Z.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e))}class ev{constructor(e,t,r){if(this.dialect=e,this.session=t,this._=r?{schema:r.schema,fullSchema:r.fullSchema,tableNamesMap:r.tableNamesMap,session:t}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:t},this.query={},this._.schema)for(let[n,i]of Object.entries(this._.schema))this.query[n]=new eg(r.fullSchema,this._.schema,this._.tableNamesMap,r.fullSchema[n],i,e,t)}static [n.Q]="PgDatabase";query;$with(e){let t=this;return{as:r=>("function"==typeof r&&(r=r(new el(t.dialect))),new Proxy(new H.S(r.getSQL(),r.getSelectedFields(),e,!0),new K({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}}$count(e,t){return new eh({source:e,filters:t,session:this.session})}with(...e){let t=this;return{select:function(r){return new Z({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e})},selectDistinct:function(r){return new Z({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})},selectDistinctOn:function(r,n){return new Z({fields:n??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:{on:r}})},update:function(r){return new eu(r,t.session,t.dialect,e)},insert:function(r){return new ed(r,t.session,t.dialect,e)},delete:function(r){return new ef(r,t.session,t.dialect,e)}}}select(e){return new Z({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new Z({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,t){return new Z({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new eu(e,this.session,this.dialect)}insert(e){return new ed(e,this.session,this.dialect)}delete(e){return new ef(e,this.session,this.dialect)}refreshMaterializedView(e){return new eb(e,this.session,this.dialect)}execute(e){let t="string"==typeof e?l.i6.raw(e):e.getSQL(),r=this.dialect.sqlToQuery(t),n=this.session.prepareQuery(r,void 0,void 0,!1);return new ey(()=>n.execute(),t,r,e=>n.mapResult(e,!0))}transaction(e,t){return this.session.transaction(e,t)}}class ew{constructor(e){this.query=e}getQuery(){return this.query}mapResult(e,t){return e}static [n.Q]="PgPreparedQuery";joinsNotNullableMap}class e_{constructor(e){this.dialect=e}static [n.Q]="PgSession";execute(e){return J.Z.startActiveSpan("drizzle.operation",()=>J.Z.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).execute())}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e){return Number((await this.execute(e))[0].count)}}class eS extends ev{constructor(e,t,r,n=0){super(e,t,r),this.schema=r,this.nestedIndex=n}static [n.Q]="PgTransaction";rollback(){throw new A}getTransactionConfigSQL(e){let t=[];return e.isolationLevel&&t.push(`isolation level ${e.isolationLevel}`),e.accessMode&&t.push(e.accessMode),"boolean"==typeof e.deferrable&&t.push(e.deferrable?"deferrable":"not deferrable"),l.i6.raw(t.join(" "))}setTransaction(e){return this.session.execute((0,l.i6)`set transaction ${this.getTransactionConfigSQL(e)}`)}}class eA extends ew{constructor(e,t,r,n,i,a,s){super({sql:t,params:r}),this.client=e,this.queryString=t,this.params=r,this.logger=n,this.fields=i,this._isResponseInArrayMode=a,this.customResultMapper=s}static [n.Q]="PostgresJsPreparedQuery";async execute(e={}){return J.Z.startActiveSpan("drizzle.execute",async t=>{let r=(0,l.Pr)(this.params,e);t?.setAttributes({"drizzle.query.text":this.queryString,"drizzle.query.params":JSON.stringify(r)}),this.logger.logQuery(this.queryString,r);let{fields:n,queryString:i,client:a,joinsNotNullableMap:s,customResultMapper:o}=this;if(!n&&!o)return J.Z.startActiveSpan("drizzle.driver.execute",()=>a.unsafe(i,r));let u=await J.Z.startActiveSpan("drizzle.driver.execute",()=>(t?.setAttributes({"drizzle.query.text":i,"drizzle.query.params":JSON.stringify(r)}),a.unsafe(i,r).values()));return J.Z.startActiveSpan("drizzle.mapResponse",()=>o?o(u):u.map(e=>(0,z.M4)(n,e,s)))})}all(e={}){return J.Z.startActiveSpan("drizzle.execute",async t=>{let r=(0,l.Pr)(this.params,e);return t?.setAttributes({"drizzle.query.text":this.queryString,"drizzle.query.params":JSON.stringify(r)}),this.logger.logQuery(this.queryString,r),J.Z.startActiveSpan("drizzle.driver.execute",()=>(t?.setAttributes({"drizzle.query.text":this.queryString,"drizzle.query.params":JSON.stringify(r)}),this.client.unsafe(this.queryString,r)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}}class ex extends e_{constructor(e,t,r,n={}){super(t),this.client=e,this.schema=r,this.options=n,this.logger=n.logger??new s}static [n.Q]="PostgresJsSession";logger;prepareQuery(e,t,r,n,i){return new eA(this.client,e.sql,e.params,this.logger,t,n,i)}query(e,t){return this.logger.logQuery(e,t),this.client.unsafe(e,t).values()}queryObjects(e,t){return this.client.unsafe(e,t)}transaction(e,t){return this.client.begin(async r=>{let n=new ex(r,this.dialect,this.schema,this.options),i=new ek(this.dialect,n,this.schema);return t&&await i.setTransaction(t),e(i)})}}class ek extends eS{constructor(e,t,r,n=0){super(e,t,r,n),this.session=t}static [n.Q]="PostgresJsTransaction";transaction(e){return this.session.client.savepoint(t=>{let r=new ex(t,this.dialect,this.schema,this.session.options);return e(new ek(this.dialect,r,this.schema))})}}class eE extends ev{static [n.Q]="PostgresJsDatabase"}function eT(e,t={}){let r,i;let s=e=>e;for(let t of["1184","1082","1083","1114"])e.options.parsers[t]=s,e.options.serializers[t]=s;e.options.serializers["114"]=s,e.options.serializers["3802"]=s;let o=new V({casing:t.casing});if(!0===t.logger?r=new a:!1!==t.logger&&(r=t.logger),t.schema){let e=function(e,t){1===Object.keys(e).length&&"default"in e&&!(0,n.is)(e.default,u.iA)&&(e=e.default);let r={},i={},a={};for(let[s,o]of Object.entries(e))if((0,n.is)(o,u.iA)){let e=(0,u.Q0)(o),t=i[e];for(let n of(r[e]=s,a[s]={tsName:s,dbName:o[u.iA.Symbol.Name],schema:o[u.iA.Symbol.Schema],columns:o[u.iA.Symbol.Columns],relations:t?.relations??{},primaryKey:t?.primaryKey??[]},Object.values(o[u.iA.Symbol.Columns])))n.primary&&a[s].primaryKey.push(n);let l=o[u.iA.Symbol.ExtraConfigBuilder]?.(o[u.iA.Symbol.ExtraConfigColumns]);if(l)for(let e of Object.values(l))(0,n.is)(e,j)&&a[s].primaryKey.push(...e.columns)}else if((0,n.is)(o,U)){let e;let n=(0,u.Q0)(o.table),s=r[n];for(let[r,l]of Object.entries(o.config(t(o.table))))if(s){let t=a[s];t.relations[r]=l,e&&t.primaryKey.push(...e)}else n in i||(i[n]={relations:{},primaryKey:e}),i[n].relations[r]=l}return{tables:a,tableNamesMap:r}}(t.schema,q);i={fullSchema:t.schema,schema:e.tables,tableNamesMap:e.tableNamesMap}}let l=new ex(e,o,i,{logger:r}),c=new eE(o,l,i);return c.$client=e,c}},88581:(e,t,r)=>{"use strict";r.d(t,{Ft:()=>v,G:()=>m,Gg:()=>_,K0:()=>w,Nl:()=>b,OL:()=>x,Qg:()=>E,UN:()=>S,d3:()=>y,eg:()=>h,eq:()=>l,ff:()=>p,gt:()=>f,lt:()=>g,mM:()=>P,ne:()=>u,o$:()=>T,or:()=>d,vL:()=>k,vX:()=>A,xD:()=>c});var n=r(60048),i=r(2370),a=r(27702),s=r(78824);function o(e,t){return!(0,s._B)(t)||(0,s.zl)(e)||(0,i.is)(e,s.dO)||(0,i.is)(e,s.Vm)||(0,i.is)(e,n.s)||(0,i.is)(e,a.iA)||(0,i.is)(e,s.G7)?e:new s.dO(e,t)}let l=(e,t)=>(0,s.i6)`${e} = ${o(t,e)}`,u=(e,t)=>(0,s.i6)`${e} <> ${o(t,e)}`;function c(...e){let t=e.filter(e=>void 0!==e);return 0===t.length?void 0:new s.$s(1===t.length?t:[new s.Zm("("),s.i6.join(t,new s.Zm(" and ")),new s.Zm(")")])}function d(...e){let t=e.filter(e=>void 0!==e);return 0===t.length?void 0:new s.$s(1===t.length?t:[new s.Zm("("),s.i6.join(t,new s.Zm(" or ")),new s.Zm(")")])}function p(e){return(0,s.i6)`not ${e}`}let f=(e,t)=>(0,s.i6)`${e} > ${o(t,e)}`,h=(e,t)=>(0,s.i6)`${e} >= ${o(t,e)}`,g=(e,t)=>(0,s.i6)`${e} < ${o(t,e)}`,m=(e,t)=>(0,s.i6)`${e} <= ${o(t,e)}`;function y(e,t){return Array.isArray(t)?0===t.length?(0,s.i6)`false`:(0,s.i6)`${e} in ${t.map(t=>o(t,e))}`:(0,s.i6)`${e} in ${o(t,e)}`}function b(e,t){return Array.isArray(t)?0===t.length?(0,s.i6)`true`:(0,s.i6)`${e} not in ${t.map(t=>o(t,e))}`:(0,s.i6)`${e} not in ${o(t,e)}`}function v(e){return(0,s.i6)`${e} is null`}function w(e){return(0,s.i6)`${e} is not null`}function _(e){return(0,s.i6)`exists ${e}`}function S(e){return(0,s.i6)`not exists ${e}`}function A(e,t,r){return(0,s.i6)`${e} between ${o(t,e)} and ${o(r,e)}`}function x(e,t,r){return(0,s.i6)`${e} not between ${o(t,e)} and ${o(r,e)}`}function k(e,t){return(0,s.i6)`${e} like ${t}`}function E(e,t){return(0,s.i6)`${e} not like ${t}`}function T(e,t){return(0,s.i6)`${e} ilike ${t}`}function P(e,t){return(0,s.i6)`${e} not ilike ${t}`}},78824:(e,t,r)=>{"use strict";r.d(t,{dO:()=>_,Vm:()=>A,$s:()=>m,Zm:()=>g,G7:()=>k,Pr:()=>x,_B:()=>b,zl:()=>h,i6:()=>S});var n=r(2370),i=r(38079);let a=Symbol.for("drizzle:isPgEnum");class s extends i.b1{static [n.Q]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new o(e,this.config)}}class o extends i.df{static [n.Q]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}var l=r(88840),u=r(29653),c=r(59304),d=r(60048),p=r(27702);class f{static [n.Q]=null}function h(e){return null!=e&&"function"==typeof e.getSQL}class g{static [n.Q]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new m([this])}}class m{constructor(e){this.queryChunks=e}static [n.Q]="SQL";decoder=v;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return u.Z.startActiveSpan("drizzle.buildSQL",t=>{let r=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,t){let r=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:i,escapeName:s,escapeParam:o,prepareTyping:u,inlineParams:f,paramStartIndex:b}=r;return function(e){let t={sql:"",params:[]};for(let r of e)t.sql+=r.sql,t.params.push(...r.params),r.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}(e.map(e=>{if((0,n.is)(e,g))return{sql:e.value.join(""),params:[]};if((0,n.is)(e,y))return{sql:s(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new g("(")];for(let[r,n]of e.entries())t.push(n),r<e.length-1&&t.push(new g(", "));return t.push(new g(")")),this.buildQueryFromSourceParams(t,r)}if((0,n.is)(e,m))return this.buildQueryFromSourceParams(e.queryChunks,{...r,inlineParams:f||e.shouldInlineParams});if((0,n.is)(e,p.iA)){let t=e[p.iA.Symbol.Schema],r=e[p.iA.Symbol.Name];return{sql:void 0===t?s(r):s(t)+"."+s(r),params:[]}}if((0,n.is)(e,d.s)){let r=i.getColumnCasing(e);return"indexes"===t.invokeSource?{sql:s(r),params:[]}:{sql:s(e.table[p.iA.Symbol.Name])+"."+s(r),params:[]}}if((0,n.is)(e,k)){let t=e[c.d].schema,r=e[c.d].name;return{sql:void 0===t?s(r):s(t)+"."+s(r),params:[]}}if((0,n.is)(e,_)){if((0,n.is)(e.value,A))return{sql:o(b.value++,e),params:[e],typings:["none"]};let t=null===e.value?null:e.encoder.mapToDriverValue(e.value);if((0,n.is)(t,m))return this.buildQueryFromSourceParams([t],r);if(f)return{sql:this.mapInlineParam(t,r),params:[]};let i=["none"];return u&&(i=[u(e.encoder)]),{sql:o(b.value++,t),params:[t],typings:i}}return(0,n.is)(e,A)?{sql:o(b.value++,e),params:[e],typings:["none"]}:(0,n.is)(e,m.Aliased)&&void 0!==e.fieldAlias?{sql:s(e.fieldAlias),params:[]}:(0,n.is)(e,l.k)?e._.isWith?{sql:s(e._.alias),params:[]}:this.buildQueryFromSourceParams([new g("("),e._.sql,new g(") "),new y(e._.alias)],r):e&&"function"==typeof e&&a in e&&!0===e[a]?e.schema?{sql:s(e.schema)+"."+s(e.enumName),params:[]}:{sql:s(e.enumName),params:[]}:h(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],r):this.buildQueryFromSourceParams([new g("("),e.getSQL(),new g(")")],r):f?{sql:this.mapInlineParam(e,r),params:[]}:{sql:o(b.value++,e),params:[e],typings:["none"]}}))}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let r=e.toString();return"[object Object]"===r?t(JSON.stringify(e)):t(r)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new m.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class y{constructor(e){this.value=e}static [n.Q]="Name";brand;getSQL(){return new m([this])}}function b(e){return"object"==typeof e&&null!==e&&"mapToDriverValue"in e&&"function"==typeof e.mapToDriverValue}let v={mapFromDriverValue:e=>e},w={mapToDriverValue:e=>e};({...v,...w});class _{constructor(e,t=w){this.value=e,this.encoder=t}static [n.Q]="Param";brand;getSQL(){return new m([this])}}function S(e,...t){let r=[];for(let[n,i]of((t.length>0||e.length>0&&""!==e[0])&&r.push(new g(e[0])),t.entries()))r.push(i,new g(e[n+1]));return new m(r)}(e=>{e.empty=function(){return new m([])},e.fromList=function(e){return new m(e)},e.raw=function(e){return new m([new g(e)])},e.join=function(e,t){let r=[];for(let[n,i]of e.entries())n>0&&void 0!==t&&r.push(t),r.push(i);return new m(r)},e.identifier=function(e){return new y(e)},e.placeholder=function(e){return new A(e)},e.param=function(e,t){return new _(e,t)}})(S||(S={})),(e=>{class t{constructor(e,t){this.sql=e,this.fieldAlias=t}static [n.Q]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(m||(m={}));class A{constructor(e){this.name=e}static [n.Q]="Placeholder";getSQL(){return new m([this])}}function x(e,t){return e.map(e=>{if((0,n.is)(e,A)){if(!(e.name in t))throw Error(`No value for placeholder "${e.name}" was provided`);return t[e.name]}if((0,n.is)(e,_)&&(0,n.is)(e.value,A)){if(!(e.value.name in t))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(t[e.value.name])}return e})}class k{static [n.Q]="View";[c.d];constructor({name:e,schema:t,selectedFields:r,query:n}){this[c.d]={name:e,originalName:e,schema:t,selectedFields:r,query:n,isExisting:!n,isAlias:!1}}getSQL(){return new m([this])}}d.s.prototype.getSQL=function(){return new m([this])},p.iA.prototype.getSQL=function(){return new m([this])},l.k.prototype.getSQL=function(){return new m([this])}},88840:(e,t,r)=>{"use strict";r.d(t,{S:()=>a,k:()=>i});var n=r(2370);class i{static [n.Q]="Subquery";constructor(e,t,r,n=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:r,isWith:n}}}class a extends i{static [n.Q]="WithSubquery"}},27702:(e,t,r)=>{"use strict";r.d(t,{Q0:()=>g,SP:()=>h,iA:()=>f});var n=r(2370),i=r(57101);let a=Symbol.for("drizzle:Schema"),s=Symbol.for("drizzle:Columns"),o=Symbol.for("drizzle:ExtraConfigColumns"),l=Symbol.for("drizzle:OriginalName"),u=Symbol.for("drizzle:BaseName"),c=Symbol.for("drizzle:IsAlias"),d=Symbol.for("drizzle:ExtraConfigBuilder"),p=Symbol.for("drizzle:IsDrizzleTable");class f{static [n.Q]="Table";static Symbol={Name:i.m,Schema:a,OriginalName:l,Columns:s,ExtraConfigColumns:o,BaseName:u,IsAlias:c,ExtraConfigBuilder:d};[i.m];[l];[a];[s];[o];[u];[c]=!1;[p]=!0;[d]=void 0;constructor(e,t,r){this[i.m]=this[l]=e,this[a]=t,this[u]=r}}function h(e){return e[i.m]}function g(e){return`${e[a]??"public"}.${e[i.m]}`}},57101:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});let n=Symbol.for("drizzle:Name")},68700:(e,t,r)=>{"use strict";function n(e,...t){return e(...t)}r.d(t,{t:()=>n})},29653:(e,t,r)=>{"use strict";let n,i;r.d(t,{Z:()=>s});var a=r(68700);let s={startActiveSpan:(e,t)=>n?(i||(i=n.trace.getTracer("drizzle-orm","0.34.1")),(0,a.t)((r,n)=>n.startActiveSpan(e,e=>{try{return t(e)}catch(t){throw e.setStatus({code:r.SpanStatusCode.ERROR,message:t instanceof Error?t.message:"Unknown error"}),t}finally{e.end()}}),n,i)):t()}},52715:(e,t,r)=>{"use strict";r.d(t,{An:()=>g,M4:()=>u,M6:()=>d,SS:()=>f,ZS:()=>function e(t,r){return Object.entries(t).reduce((t,[s,l])=>{if("string"!=typeof s)return t;let u=r?[...r,s]:[s];return(0,i.is)(l,n.s)||(0,i.is)(l,a.$s)||(0,i.is)(l,a.$s.Aliased)?t.push({path:u,field:l}):(0,i.is)(l,o.iA)?t.push(...e(l[o.iA.Symbol.Columns],u)):t.push(...e(l,u)),t},[])},dP:()=>h,ef:()=>p,ux:()=>c});var n=r(60048),i=r(2370),a=r(78824),s=r(88840),o=r(27702),l=r(59304);function u(e,t,r){let s={},l=e.reduce((e,{path:l,field:u},c)=>{let d;d=(0,i.is)(u,n.s)?u:(0,i.is)(u,a.$s)?u.decoder:u.sql.decoder;let p=e;for(let[e,a]of l.entries())if(e<l.length-1)a in p||(p[a]={}),p=p[a];else{let e=t[c],f=p[a]=null===e?null:d.mapFromDriverValue(e);if(r&&(0,i.is)(u,n.s)&&2===l.length){let e=l[0];e in s?"string"==typeof s[e]&&s[e]!==(0,o.SP)(u.table)&&(s[e]=!1):s[e]=null===f&&(0,o.SP)(u.table)}}return e},{});if(r&&Object.keys(s).length>0)for(let[e,t]of Object.entries(s))"string"!=typeof t||r[t]||(l[e]=null);return l}function c(e,t){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let[e,t]of r.entries())if(t!==n[e])return!1;return!0}function d(e,t){let r=Object.entries(t).filter(([,e])=>void 0!==e).map(([t,r])=>(0,i.is)(r,a.$s)?[t,r]:[t,new a.dO(r,e[o.iA.Symbol.Columns][t])]);if(0===r.length)throw Error("No values to set");return Object.fromEntries(r)}function p(e,t){for(let r of t)for(let t of Object.getOwnPropertyNames(r.prototype))"constructor"!==t&&Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(r.prototype,t)||Object.create(null))}function f(e){return e[o.iA.Symbol.Columns]}function h(e){return(0,i.is)(e,s.k)?e._.alias:(0,i.is)(e,a.G7)?e[l.d].name:(0,i.is)(e,a.$s)?void 0:e[o.iA.Symbol.IsAlias]?e[o.iA.Symbol.Name]:e[o.iA.Symbol.BaseName]}function g(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}},59304:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});let n=Symbol.for("drizzle:ViewBaseConfig")},18245:(e,t,r)=>{"use strict";let n,i,a,s,o;r.d(t,{ZP:()=>a_});var l=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},u=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};function c(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class d{constructor(e,t,r){if(rd.add(this),rp.set(this,{}),rf.set(this,void 0),rh.set(this,void 0),l(this,rh,r,"f"),l(this,rf,e,"f"),!t)return;let{name:n}=e;for(let[e,r]of Object.entries(t))e.startsWith(n)&&r&&(u(this,rp,"f")[e]=r)}get value(){return Object.keys(u(this,rp,"f")).sort((e,t)=>parseInt(e.split(".").pop()||"0")-parseInt(t.split(".").pop()||"0")).map(e=>u(this,rp,"f")[e]).join("")}chunk(e,t){let r=u(this,rd,"m",rm).call(this);for(let n of u(this,rd,"m",rg).call(this,{name:u(this,rf,"f").name,value:e,options:{...u(this,rf,"f").options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(u(this,rd,"m",rm).call(this))}}rp=new WeakMap,rf=new WeakMap,rh=new WeakMap,rd=new WeakSet,rg=function(e){let t=Math.ceil(e.value.length/3936);if(1===t)return u(this,rp,"f")[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,i=e.value.substr(3936*n,3936);r.push({...e,name:t,value:i}),u(this,rp,"f")[t]=i}return u(this,rh,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:e.value.length,chunks:r.map(e=>e.value.length+160)}),r},rm=function(){let e={};for(let t in u(this,rp,"f"))delete u(this,rp,"f")?.[t],e[t]={name:t,value:"",options:{...u(this,rf,"f").options,maxAge:0}};return e};class p extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let r=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${r}`}}class f extends p{}f.kind="signIn";class h extends p{}h.type="AdapterError";class g extends p{}g.type="AccessDenied";class m extends p{}m.type="CallbackRouteError";class y extends p{}y.type="ErrorPageLoop";class b extends p{}b.type="EventError";class v extends p{}v.type="InvalidCallbackUrl";class w extends f{constructor(){super(...arguments),this.code="credentials"}}w.type="CredentialsSignin";class _ extends p{}_.type="InvalidEndpoints";class S extends p{}S.type="InvalidCheck";class A extends p{}A.type="JWTSessionError";class x extends p{}x.type="MissingAdapter";class k extends p{}k.type="MissingAdapterMethods";class E extends p{}E.type="MissingAuthorize";class T extends p{}T.type="MissingSecret";class P extends f{}P.type="OAuthAccountNotLinked";class O extends f{}O.type="OAuthCallbackError";class C extends p{}C.type="OAuthProfileParseError";class N extends p{}N.type="SessionTokenError";class R extends f{}R.type="OAuthSignInError";class j extends f{}j.type="EmailSignInError";class I extends p{}I.type="SignOutError";class $ extends p{}$.type="UnknownAction";class L extends p{}L.type="UnsupportedStrategy";class D extends p{}D.type="InvalidProvider";class M extends p{}M.type="UntrustedHost";class U extends p{}U.type="Verification";class B extends f{}B.type="MissingCSRF";let F=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class q extends p{}q.type="DuplicateConditionalUI";class H extends p{}H.type="MissingWebAuthnAutocomplete";class z extends p{}z.type="WebAuthnVerificationError";class Q extends f{}Q.type="AccountNotLinked";class V extends p{}V.type="ExperimentalFeatureNotEnabled";let K=!1;function W(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let G=!1,J=!1,Z=!1,X=["createVerificationToken","useVerificationToken","getUserByEmail"],Y=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],ee=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];var et=r(6113);let er=(e,t,r,n,i)=>{let a=parseInt(e.substr(3),10)>>3||20,s=(0,et.createHmac)(e,r.byteLength?r:new Uint8Array(a)).update(t).digest(),o=Math.ceil(i/a),l=new Uint8Array(a*o+n.byteLength+1),u=0,c=0;for(let t=1;t<=o;t++)l.set(n,c),l[c+n.byteLength]=t,l.set((0,et.createHmac)(e,s).update(l.subarray(u,c+n.byteLength+1)).digest(),c),u=c,c+=a;return l.slice(0,i)};"function"!=typeof et.hkdf||process.versions.electron||(n=async(...e)=>new Promise((t,r)=>{et.hkdf(...e,(e,n)=>{e?r(e):t(new Uint8Array(n))})}));let en=async(e,t,r,i,a)=>(n||er)(e,t,r,i,a);function ei(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function ea(e,t,r,n,i){return en(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=ei(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),ei(r,"salt"),function(e){let t=ei(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(n),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(i,e))}var es=r(6005);let eo=(e,t)=>(0,es.createHash)(e).update(t).digest();var el=r(72254);let eu=new TextEncoder,ec=new TextDecoder;function ed(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function ep(e,t){return ed(eu.encode(e),new Uint8Array([0]),t)}function ef(e,t,r){if(t<0||t>=4294967296)throw RangeError(`value must be >= 0 and <= ${4294967296-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function eh(e){let t=new Uint8Array(4);return ef(t,e),t}function eg(e){return ed(eh(e.length),e)}async function em(e,t,r){let n=Math.ceil((t>>3)/32),i=new Uint8Array(32*n);for(let t=0;t<n;t++){let n=new Uint8Array(4+e.length+r.length);n.set(eh(t+1)),n.set(e,4),n.set(r,4+e.length),i.set(await eo("sha256",n),32*t)}return i.slice(0,t>>3)}let ey=e=>el.Buffer.from(e).toString("base64url"),eb=e=>new Uint8Array(el.Buffer.from(function(e){let t=e;return t instanceof Uint8Array&&(t=ec.decode(t)),t}(e),"base64url"));class ev extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class ew extends ev{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class e_ extends ev{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class eS extends ev{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class eA extends ev{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class ex extends ev{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(e="decryption operation failed",t){super(e,t)}}class ek extends ev{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class eE extends ev{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class eT extends ev{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class eP extends ev{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}function eO(e){if(!("object"==typeof e&&null!==e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let eC=(e,t)=>{if("string"!=typeof e||!e)throw new eT(`${t} missing or invalid`)};async function eN(e,t){let r;if(!eO(e))throw TypeError("JWK must be an object");if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":eC(e.crv,'"crv" (Curve) Parameter'),eC(e.x,'"x" (X Coordinate) Parameter'),eC(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":eC(e.crv,'"crv" (Subtype of Key Pair) Parameter'),eC(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":eC(e.e,'"e" (Exponent) Parameter'),eC(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":eC(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new eA('"kty" (Key Type) Parameter missing or unsupported')}let n=eu.encode(JSON.stringify(r));return ey(await eo(t,n))}let eR=Symbol();function ej(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new eA(`Unsupported JWE Algorithm: ${e}`)}}let eI=e=>(0,es.randomFillSync)(new Uint8Array(ej(e)>>3)),e$=(e,t)=>{if(t.length<<3!==ej(e))throw new ek("Invalid Initialization Vector length")};var eL=r(47261);let eD=e=>eL.types.isKeyObject(e),eM=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new eA(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let e=t.byteLength<<3;if(e!==r)throw new ek(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}if(eD(t)&&"secret"===t.type){let e=t.symmetricKeySize<<3;if(e!==r)throw new ek(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}throw TypeError("Invalid Content Encryption Key type")};function eU(e,t,r,n,i,a){let s=ed(e,t,r,function(e){let t=Math.floor(e/4294967296),r=new Uint8Array(8);return ef(r,t,0),ef(r,e%4294967296,4),r}(e.length<<3)),o=(0,es.createHmac)(`sha${n}`,i);return o.update(s),o.digest().slice(0,a>>3)}let eB=es.webcrypto,eF=e=>eL.types.isCryptoKey(e);function eq(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function eH(e,t){return e.name===t}function ez(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!eH(e.algorithm,"AES-GCM"))throw eq("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eq(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!eH(e.algorithm,"AES-KW"))throw eq("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eq(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw eq("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!eH(e.algorithm,"PBKDF2"))throw eq("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!eH(e.algorithm,"RSA-OAEP"))throw eq("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(parseInt(e.algorithm.hash.name.slice(4),10)!==r)throw eq(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}(function(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}})(e,r)}function eQ(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let eV=(e,...t)=>eQ("Key must be ",e,...t);function eK(e,t,...r){return eQ(`Key for the ${e} algorithm must be `,t,...r)}let eW=e=>(i||=new Set((0,es.getCiphers)())).has(e),eG=e=>eD(e)||eF(e),eJ=["KeyObject"];(globalThis.CryptoKey||eB?.CryptoKey)&&eJ.push("CryptoKey");let eZ=(e,t,r,n,i)=>{let a;if(eF(r))ez(r,e,"encrypt"),a=es.KeyObject.from(r);else if(r instanceof Uint8Array||eD(r))a=r;else throw TypeError(eV(r,...eJ,"Uint8Array"));switch(eM(e,a),n?e$(e,n):n=eI(e),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,n,i){let a=parseInt(e.slice(1,4),10);eD(r)&&(r=r.export());let s=r.subarray(a>>3),o=r.subarray(0,a>>3),l=`aes-${a}-cbc`;if(!eW(l))throw new eA(`alg ${e} is not supported by your javascript runtime`);let u=(0,es.createCipheriv)(l,s,n),c=ed(u.update(t),u.final()),d=eU(i,n,c,parseInt(e.slice(-3),10),o,a);return{ciphertext:c,tag:d,iv:n}}(e,t,a,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,n,i){let a=parseInt(e.slice(1,4),10),s=`aes-${a}-gcm`;if(!eW(s))throw new eA(`alg ${e} is not supported by your javascript runtime`);let o=(0,es.createCipheriv)(s,r,n,{authTagLength:16});i.byteLength&&o.setAAD(i,{plaintextLength:t.length});let l=o.update(t);return o.final(),{ciphertext:l,tag:o.getAuthTag(),iv:n}}(e,t,a,n,i);default:throw new eA("Unsupported JWE Content Encryption Algorithm")}};function eX(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function eY(e,t,r){if(eD(e))return e;if(e instanceof Uint8Array)return(0,es.createSecretKey)(e);if(eF(e))return ez(e,t,r),es.KeyObject.from(e);throw TypeError(eV(e,...eJ,"Uint8Array"))}let e0=(e,t,r)=>{let n=parseInt(e.slice(1,4),10),i=`aes${n}-wrap`;if(!eW(i))throw new eA(`alg ${e} is not supported either by JOSE or your javascript runtime`);let a=eY(t,e,"wrapKey");eX(a,e);let s=(0,es.createCipheriv)(i,a,el.Buffer.alloc(8,166));return ed(s.update(r),s.final())},e1=(e,t,r)=>{let n=parseInt(e.slice(1,4),10),i=`aes${n}-wrap`;if(!eW(i))throw new eA(`alg ${e} is not supported either by JOSE or your javascript runtime`);let a=eY(t,e,"unwrapKey");eX(a,e);let s=(0,es.createDecipheriv)(i,a,el.Buffer.alloc(8,166));return ed(s.update(r),s.final())};function e2(e){return eO(e)&&"string"==typeof e.kty}new WeakMap;let e3=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new eA("Unsupported key curve for this operation")}},e6=(e,t)=>{let r;if(eF(e))r=es.KeyObject.from(e);else if(eD(e))r=e;else if(e2(e))return e.crv;else throw TypeError(eV(e,...eJ));if("secret"===r.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(r.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${r.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${r.asymmetricKeyType.slice(1)}`;case"ec":{let e=r.asymmetricKeyDetails.namedCurve;if(t)return e;return e3(e)}default:throw TypeError("Invalid asymmetric key type for this operation")}},e5=(0,eL.promisify)(es.generateKeyPair);async function e4(e,t,r,n,i=new Uint8Array(0),a=new Uint8Array(0)){let s,o;if(eF(e))ez(e,"ECDH"),s=es.KeyObject.from(e);else if(eD(e))s=e;else throw TypeError(eV(e,...eJ));if(eF(t))ez(t,"ECDH","deriveBits"),o=es.KeyObject.from(t);else if(eD(t))o=t;else throw TypeError(eV(t,...eJ));let l=ed(eg(eu.encode(r)),eg(i),eg(a),eh(n));return em((0,es.diffieHellman)({privateKey:o,publicKey:s}),n,l)}async function e8(e){let t;if(eF(e))t=es.KeyObject.from(e);else if(eD(e))t=e;else throw TypeError(eV(e,...eJ));switch(t.asymmetricKeyType){case"x25519":return e5("x25519");case"x448":return e5("x448");case"ec":return e5("ec",{namedCurve:e6(t)});default:throw new eA("Invalid or unsupported EPK")}}let e9=e=>["P-256","P-384","P-521","X25519","X448"].includes(e6(e));function e7(e){if(!(e instanceof Uint8Array)||e.length<8)throw new ek("PBES2 Salt Input must be 8 or more octets")}let te=(0,eL.promisify)(es.pbkdf2);function tt(e,t){if(eD(e))return e.export();if(e instanceof Uint8Array)return e;if(eF(e))return ez(e,t,"deriveBits","deriveKey"),es.KeyObject.from(e).export();throw TypeError(eV(e,...eJ,"Uint8Array"))}let tr=async(e,t,r,n=2048,i=(0,es.randomFillSync)(new Uint8Array(16)))=>{e7(i);let a=ep(e,i),s=parseInt(e.slice(13,16),10)>>3,o=tt(t,e),l=await te(o,a,n,s,`sha${e.slice(8,11)}`);return{encryptedKey:await e0(e.slice(-6),l,r),p2c:n,p2s:ey(i)}},tn=async(e,t,r,n,i)=>{e7(i);let a=ep(e,i),s=parseInt(e.slice(13,16),10)>>3,o=tt(t,e),l=await te(o,a,n,s,`sha${e.slice(8,11)}`);return e1(e.slice(-6),l,r)},ti=(e,t)=>{let r;try{r=e instanceof es.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof r||r<2048)throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)},ta=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");ti(e,t)},ts=(0,eL.deprecate)(()=>es.constants.RSA_PKCS1_PADDING,'The RSA1_5 "alg" (JWE Algorithm) is deprecated and will be removed in the next major revision.'),to=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return es.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return ts();default:return}},tl=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function tu(e,t,...r){if(eD(e))return e;if(eF(e))return ez(e,t,...r),es.KeyObject.from(e);throw TypeError(eV(e,...eJ))}let tc=(e,t,r)=>{let n=to(e),i=tl(e),a=tu(t,e,"wrapKey","encrypt");return ta(a,e),(0,es.publicEncrypt)({key:a,oaepHash:i,padding:n},r)},td=(e,t,r)=>{let n=to(e),i=tl(e),a=tu(t,e,"unwrapKey","decrypt");return ta(a,e),(0,es.privateDecrypt)({key:a,oaepHash:i,padding:n},r)},tp={};function tf(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new eA(`Unsupported JWE Algorithm: ${e}`)}}let th=e=>(0,es.randomFillSync)(new Uint8Array(tf(e)>>3)),tg=e=>{let t;if(eF(e)){if(!e.extractable)throw TypeError("CryptoKey is not extractable");t=es.KeyObject.from(e)}else if(eD(e))t=e;else if(e instanceof Uint8Array)return{kty:"oct",k:ey(e)};else throw TypeError(eV(e,...eJ,"Uint8Array"));if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new eA("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})};async function tm(e){return tg(e)}let ty=e=>e?.[Symbol.toStringTag],tb=(e,t,r)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(r)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},tv=(e,t,r,n)=>{if(!(t instanceof Uint8Array)){if(n&&e2(t)){if(function(e){return e2(e)&&"oct"===e.kty&&"string"==typeof e.k}(t)&&tb(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!eG(t))throw TypeError(eK(e,t,...eJ,"Uint8Array",n?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${ty(t)} instances for symmetric algorithms must be of type "secret"`)}},tw=(e,t,r,n)=>{if(n&&e2(t))switch(r){case"sign":if(function(e){return"oct"!==e.kty&&"string"==typeof e.d}(t)&&tb(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d}(t)&&tb(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!eG(t))throw TypeError(eK(e,t,...eJ,n?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${ty(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${ty(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${ty(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${ty(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${ty(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function t_(e,t,r,n){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?tv(t,r,n,e):tw(t,r,n,e)}let tS=t_.bind(void 0,!1);t_.bind(void 0,!0);let tA=es.timingSafeEqual,tx=(e,t,r,n,i,a)=>{let s;if(eF(t))ez(t,e,"decrypt"),s=es.KeyObject.from(t);else if(t instanceof Uint8Array||eD(t))s=t;else throw TypeError(eV(t,...eJ,"Uint8Array"));if(!n)throw new ek("JWE Initialization Vector missing");if(!i)throw new ek("JWE Authentication Tag missing");switch(eM(e,s),e$(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,n,i,a){let s,o;let l=parseInt(e.slice(1,4),10);eD(t)&&(t=t.export());let u=t.subarray(l>>3),c=t.subarray(0,l>>3),d=parseInt(e.slice(-3),10),p=`aes-${l}-cbc`;if(!eW(p))throw new eA(`alg ${e} is not supported by your javascript runtime`);let f=eU(a,n,r,d,c,l);try{s=tA(i,f)}catch{}if(!s)throw new ex;try{let e=(0,es.createDecipheriv)(p,u,n);o=ed(e.update(r),e.final())}catch{}if(!o)throw new ex;return o}(e,s,r,n,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,n,i,a){let s=parseInt(e.slice(1,4),10),o=`aes-${s}-gcm`;if(!eW(o))throw new eA(`alg ${e} is not supported by your javascript runtime`);try{let e=(0,es.createDecipheriv)(o,t,n,{authTagLength:16});e.setAuthTag(i),a.byteLength&&e.setAAD(a,{plaintextLength:r.length});let s=e.update(r);return e.final(),s}catch{throw new ex}}(e,s,r,n,i,a);default:throw new eA("Unsupported JWE Content Encryption Algorithm")}};async function tk(e,t,r,n){let i=e.slice(0,7),a=await eZ(i,r,t,n,new Uint8Array(0));return{encryptedKey:a.ciphertext,iv:ey(a.iv),tag:ey(a.tag)}}async function tE(e,t,r,n,i){return tx(e.slice(0,7),t,r,n,i,new Uint8Array(0))}async function tT(e,t,r,n,i={}){let a,s,o;switch(tS(e,r,"encrypt"),r=await tp.normalizePublicKey?.(r,e)||r,e){case"dir":o=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!e9(r))throw new eA("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:l,apv:u}=i,{epk:c}=i;c||=(await e8(r)).privateKey;let{x:d,y:p,crv:f,kty:h}=await tm(c),g=await e4(r,c,"ECDH-ES"===e?t:e,"ECDH-ES"===e?tf(t):parseInt(e.slice(-5,-2),10),l,u);if(s={epk:{x:d,crv:f,kty:h}},"EC"===h&&(s.epk.y=p),l&&(s.apu=ey(l)),u&&(s.apv=ey(u)),"ECDH-ES"===e){o=g;break}o=n||th(t);let m=e.slice(-6);a=await e0(m,g,o);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o=n||th(t),a=await tc(e,r,o);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{o=n||th(t);let{p2c:l,p2s:u}=i;({encryptedKey:a,...s}=await tr(e,r,o,l,u));break}case"A128KW":case"A192KW":case"A256KW":o=n||th(t),a=await e0(e,r,o);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{o=n||th(t);let{iv:l}=i;({encryptedKey:a,...s}=await tk(e,r,o,l));break}default:throw new eA('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:o,encryptedKey:a,parameters:s}}let tP=(...e)=>{let t;let r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0},tO=function(e,t,r,n,i){let a;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!a.has(s))throw new eA(`Extension Header Parameter "${s}" is not recognized`);if(void 0===i[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&void 0===n[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(n.crit)};class tC{_plaintext;_protectedHeader;_sharedUnprotectedHeader;_unprotectedHeader;_aad;_cek;_iv;_keyManagementParameters;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let r,n,i,a,s;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new ek("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!tP(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new ek("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let o={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(tO(ek,new Map,t?.crit,this._protectedHeader,o),void 0!==o.zip)throw new eA('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:u}=o;if("string"!=typeof l||!l)throw new ek('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof u||!u)throw new ek('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===l||"ECDH-ES"===l))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${l}`);{let i;({cek:n,encryptedKey:r,parameters:i}=await tT(l,u,e,this._cek,this._keyManagementParameters)),i&&(t&&eR in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...i}:this.setUnprotectedHeader(i):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...i}:this.setProtectedHeader(i))}a=this._protectedHeader?eu.encode(ey(JSON.stringify(this._protectedHeader))):eu.encode(""),this._aad?(s=ey(this._aad),i=ed(a,eu.encode("."),eu.encode(s))):i=a;let{ciphertext:c,tag:d,iv:p}=await eZ(u,this._plaintext,n,this._iv,i),f={ciphertext:ey(c)};return p&&(f.iv=ey(p)),d&&(f.tag=ey(d)),r&&(f.encrypted_key=ey(r)),s&&(f.aad=s),this._protectedHeader&&(f.protected=ec.decode(a)),this._sharedUnprotectedHeader&&(f.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(f.header=this._unprotectedHeader),f}}class tN{_flattened;constructor(e){this._flattened=new tC(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let tR=e=>Math.floor(e.getTime()/1e3),tj=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,tI=e=>{let t;let r=tj.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(31557600*n)}return"-"===r[1]||"ago"===r[4]?-t:t};function t$(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class tL{_payload;constructor(e={}){if(!eO(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:t$("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:t$("setNotBefore",tR(e))}:this._payload={...this._payload,nbf:tR(new Date)+tI(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:t$("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:t$("setExpirationTime",tR(e))}:this._payload={...this._payload,exp:tR(new Date)+tI(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:tR(new Date)}:e instanceof Date?this._payload={...this._payload,iat:t$("setIssuedAt",tR(e))}:"string"==typeof e?this._payload={...this._payload,iat:t$("setIssuedAt",tR(new Date)+tI(e))}:this._payload={...this._payload,iat:t$("setIssuedAt",e)},this}}class tD extends tL{_cek;_iv;_keyManagementParameters;_protectedHeader;_replicateIssuerAsHeader;_replicateSubjectAsHeader;_replicateAudienceAsHeader;setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new tN(eu.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}let tM=e=>e.d?(0,es.createPrivateKey)({format:"jwk",key:e}):(0,es.createPublicKey)({format:"jwk",key:e});async function tU(e,t){if(!eO(e))throw TypeError("JWK must be an object");switch(t||=e.alg,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return eb(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new eA('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return tM({...e,alg:t});default:throw new eA('Unsupported "kty" (Key Type) Parameter value')}}async function tB(e,t,r,n,i){switch(tS(e,t,"decrypt"),t=await tp.normalizePrivateKey?.(t,e)||t,e){case"dir":if(void 0!==r)throw new ek("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new ek("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,a;if(!eO(n.epk))throw new ek('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!e9(t))throw new eA("ECDH with the provided key is not allowed or not supported by your javascript runtime");let s=await tU(n.epk,e);if(void 0!==n.apu){if("string"!=typeof n.apu)throw new ek('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=eb(n.apu)}catch{throw new ek("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new ek('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=eb(n.apv)}catch{throw new ek("Failed to base64url decode the apv")}}let o=await e4(s,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?tf(n.enc):parseInt(e.slice(-5,-2),10),i,a);if("ECDH-ES"===e)return o;if(void 0===r)throw new ek("JWE Encrypted Key missing");return e1(e.slice(-6),o,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new ek("JWE Encrypted Key missing");return td(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(void 0===r)throw new ek("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new ek('JOSE Header "p2c" (PBES2 Count) missing or invalid');let s=i?.maxPBES2Count||1e4;if(n.p2c>s)throw new ek('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new ek('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=eb(n.p2s)}catch{throw new ek("Failed to base64url decode the p2s")}return tn(e,t,r,n.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new ek("JWE Encrypted Key missing");return e1(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,a;if(void 0===r)throw new ek("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new ek('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new ek('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=eb(n.iv)}catch{throw new ek("Failed to base64url decode the iv")}try{a=eb(n.tag)}catch{throw new ek("Failed to base64url decode the tag")}return tE(e,t,r,i,a)}default:throw new eA('Invalid or unsupported "alg" (JWE Algorithm) header value')}}let tF=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function tq(e,t,r){let n,i,a,s,o,l,u;if(!eO(e))throw new ek("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new ek("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new ek("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new ek("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new ek("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new ek("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new ek("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new ek("JWE AAD incorrect type");if(void 0!==e.header&&!eO(e.header))throw new ek("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!eO(e.unprotected))throw new ek("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=eb(e.protected);n=JSON.parse(ec.decode(t))}catch{throw new ek("JWE Protected Header is invalid")}if(!tP(n,e.header,e.unprotected))throw new ek("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let c={...n,...e.header,...e.unprotected};if(tO(ek,new Map,r?.crit,n,c),void 0!==c.zip)throw new eA('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:p}=c;if("string"!=typeof d||!d)throw new ek("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof p||!p)throw new ek("missing JWE Encryption Algorithm (enc) in JWE Header");let f=r&&tF("keyManagementAlgorithms",r.keyManagementAlgorithms),h=r&&tF("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(f&&!f.has(d)||!f&&d.startsWith("PBES2"))throw new eS('"alg" (Algorithm) Header Parameter value not allowed');if(h&&!h.has(p))throw new eS('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{i=eb(e.encrypted_key)}catch{throw new ek("Failed to base64url decode the encrypted_key")}let g=!1;"function"==typeof t&&(t=await t(n,e),g=!0);try{a=await tB(d,t,i,c,r)}catch(e){if(e instanceof TypeError||e instanceof ek||e instanceof eA)throw e;a=th(p)}if(void 0!==e.iv)try{s=eb(e.iv)}catch{throw new ek("Failed to base64url decode the iv")}if(void 0!==e.tag)try{o=eb(e.tag)}catch{throw new ek("Failed to base64url decode the tag")}let m=eu.encode(e.protected??"");l=void 0!==e.aad?ed(m,eu.encode("."),eu.encode(e.aad)):m;try{u=eb(e.ciphertext)}catch{throw new ek("Failed to base64url decode the ciphertext")}let y={plaintext:await tx(p,a,u,s,o,l)};if(void 0!==e.protected&&(y.protectedHeader=n),void 0!==e.aad)try{y.additionalAuthenticatedData=eb(e.aad)}catch{throw new ek("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(y.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(y.unprotectedHeader=e.header),g)?{...y,key:t}:y}async function tH(e,t,r){if(e instanceof Uint8Array&&(e=ec.decode(e)),"string"!=typeof e)throw new ek("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:a,3:s,4:o,length:l}=e.split(".");if(5!==l)throw new ek("Invalid Compact JWE");let u=await tq({ciphertext:s,iv:a||void 0,protected:n,tag:o||void 0,encrypted_key:i||void 0},t,r),c={plaintext:u.plaintext,protectedHeader:u.protectedHeader};return"function"==typeof t?{...c,key:u.key}:c}let tz=e=>e.toLowerCase().replace(/^application\//,""),tQ=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e))),tV=(e,t,r={})=>{let n,i;try{n=JSON.parse(ec.decode(t))}catch{}if(!eO(n))throw new eE("JWT Claims Set must be a top-level JSON object");let{typ:a}=r;if(a&&("string"!=typeof e.typ||tz(e.typ)!==tz(a)))throw new ew('unexpected "typ" JWT header value',n,"typ","check_failed");let{requiredClaims:s=[],issuer:o,subject:l,audience:u,maxTokenAge:c}=r,d=[...s];for(let e of(void 0!==c&&d.push("iat"),void 0!==u&&d.push("aud"),void 0!==l&&d.push("sub"),void 0!==o&&d.push("iss"),new Set(d.reverse())))if(!(e in n))throw new ew(`missing required "${e}" claim`,n,e,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(n.iss))throw new ew('unexpected "iss" claim value',n,"iss","check_failed");if(l&&n.sub!==l)throw new ew('unexpected "sub" claim value',n,"sub","check_failed");if(u&&!tQ(n.aud,"string"==typeof u?[u]:u))throw new ew('unexpected "aud" claim value',n,"aud","check_failed");switch(typeof r.clockTolerance){case"string":i=tI(r.clockTolerance);break;case"number":i=r.clockTolerance;break;case"undefined":i=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:p}=r,f=tR(p||new Date);if((void 0!==n.iat||c)&&"number"!=typeof n.iat)throw new ew('"iat" claim must be a number',n,"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new ew('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>f+i)throw new ew('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new ew('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=f-i)throw new e_('"exp" claim timestamp check failed',n,"exp","check_failed")}if(c){let e=f-n.iat;if(e-i>("number"==typeof c?c:tI(c)))throw new e_('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(e<0-i)throw new ew('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n};async function tK(e,t,r){let n=await tH(e,t,r),i=tV(n.protectedHeader,n.plaintext,r),{protectedHeader:a}=n;if(void 0!==a.iss&&a.iss!==i.iss)throw new ew('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(void 0!==a.sub&&a.sub!==i.sub)throw new ew('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(void 0!==a.aud&&JSON.stringify(a.aud)!==JSON.stringify(i.aud))throw new ew('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let s={payload:i,protectedHeader:a};return"function"==typeof t?{...s,key:n.key}:s}var tW=r(15081);let tG=()=>Date.now()/1e3|0,tJ="A256CBC-HS512";async function tZ(e){let{token:t={},secret:r,maxAge:n=2592e3,salt:i}=e,a=Array.isArray(r)?r:[r],s=await tY(tJ,a[0],i),o=await eN({kty:"oct",k:ey(s)},`sha${s.byteLength<<3}`);return await new tD(t).setProtectedHeader({alg:"dir",enc:tJ,kid:o}).setIssuedAt().setExpirationTime(tG()+n).setJti(crypto.randomUUID()).encrypt(s)}async function tX(e){let{token:t,secret:r,salt:n}=e,i=Array.isArray(r)?r:[r];if(!t)return null;let{payload:a}=await tK(t,async({kid:e,enc:t})=>{for(let r of i){let i=await tY(t,r,n);if(void 0===e||e===await eN({kty:"oct",k:ey(i)},`sha${i.byteLength<<3}`))return i}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[tJ,"A256GCM"]});return a}async function tY(e,t,r){let n;switch(e){case"A256CBC-HS512":n=64;break;case"A256GCM":n=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await ea("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,n)}async function t0({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,a=n.origin;return t?a=await i.redirect({url:t,baseUrl:n.origin}):r&&(a=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:a,callbackUrlCookie:a!==r?a:void 0}}let t1="\x1b[31m",t2="\x1b[0m",t3={error(e){let t=e instanceof p?e.type:e.name;if(console.error(`${t1}[auth][error]${t2} ${t}: ${e.message}`),e.cause&&"object"==typeof e.cause&&"err"in e.cause&&e.cause.err instanceof Error){let{err:t,...r}=e.cause;console.error(`${t1}[auth][cause]${t2}:`,t.stack),r&&console.error(`${t1}[auth][details]${t2}:`,JSON.stringify(r,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){let t=`https://warnings.authjs.dev#${e}`;console.warn(`\x1b[33m[auth][warn][${e}]${t2}`,`Read more: ${t}`)},debug(e,t){console.log(`\x1b[90m[auth][debug]:${t2} ${e}`,JSON.stringify(t,null,2))}};function t6(e){let t={...t3};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let t5=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];async function t4(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function t8(e,t){try{if("GET"!==e.method&&"POST"!==e.method)throw new $("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:n,providerId:i}=function(e,t){let r=e.match(RegExp(`^${t}(.+)`));if(null===r)throw new $(`Cannot parse action at ${e}`);let n=r.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==n.length&&2!==n.length)throw new $(`Cannot parse action at ${e}`);let[i,a]=n;if(!t5.includes(i)||a&&!["signin","callback","webauthn-options"].includes(i))throw new $(`Cannot parse action at ${e}`);return{action:i,providerId:a}}(r.pathname,t.basePath);return{url:r,action:n,providerId:i,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await t4(e):void 0,cookies:(0,tW.Q)(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(n){let r=t6(t);r.error(n),r.debug("request",e)}}function t9(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:r,value:n,options:i}=e,a=tW.q(r,n,i);t.has("Set-Cookie")?t.append("Set-Cookie",a):t.set("Set-Cookie",a)});let r=e.body;"application/json"===t.get("content-type")?r=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(r=new URLSearchParams(e.body).toString());let n=new Response(r,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&n.headers.set("Location",e.redirect),n}async function t7(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function re(e){let t=e=>("0"+e.toString(16)).slice(-2);return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce((e,r)=>e+t(r),"")}async function rt({options:e,cookieValue:t,isPost:r,bodyValue:n}){if(t){let[i,a]=t.split("|");if(a===await t7(`${i}${e.secret}`))return{csrfTokenVerified:r&&i===n,csrfToken:i}}let i=re(32),a=await t7(`${i}${e.secret}`);return{cookie:`${i}|${a}`,csrfToken:i}}function rr(e,t){if(!t)throw new B(`CSRF token was missing during an action ${e}`)}function rn(e){return null!==e&&"object"==typeof e}function ri(e,...t){if(!t.length)return e;let r=t.shift();if(rn(e)&&rn(r))for(let t in r)rn(r[t])?(rn(e[t])||(e[t]=Array.isArray(r[t])?[]:{}),ri(e[t],r[t])):void 0!==r[t]&&(e[t]=r[t]);return ri(e,...t)}let ra=e=>ro({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),rs=e=>ro({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function ro(e){let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=n);return t}function rl(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,n]of Object.entries(e.params))"claims"===t&&(n=JSON.stringify(n)),r.searchParams.set(t,String(n));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}let ru={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function rc({authOptions:e,providerId:t,action:r,url:n,cookies:i,callbackUrl:a,csrfToken:s,csrfDisabled:o,isPost:l}){var u;let d=t6(e),{providers:p,provider:f}=function(e){let{providerId:t,options:r}=e,n=new URL(r.basePath??"/auth",e.url.origin),i=e.providers.map(e=>{let t="function"==typeof e?e():e,{options:i,...a}=t,s=i?.id??a.id,o=ri(a,i,{signinUrl:`${n}/signin/${s}`,callbackUrl:`${n}/callback/${s}`});return"oauth"===t.type||"oidc"===t.type?(o.redirectProxyUrl??(o.redirectProxyUrl=r.redirectProxyUrl),function(e){e.issuer&&(e.wellKnown??(e.wellKnown=`${e.issuer}/.well-known/openid-configuration`));let t=rl(e.authorization,e.issuer);t&&!t.url?.searchParams.has("scope")&&t.url.searchParams.set("scope","openid profile email");let r=rl(e.token,e.issuer),n=rl(e.userinfo,e.issuer),i=e.checks??["pkce"];return e.redirectProxyUrl&&(i.includes("state")||i.push("state"),e.redirectProxyUrl=`${e.redirectProxyUrl}/callback/${e.id}`),{...e,authorization:t,token:r,checks:i,userinfo:n,profile:e.profile??ra,account:e.account??rs}}(o)):o});return{providers:i,provider:i.find(({id:e})=>e===t)}}({providers:e.providers,url:n,providerId:t,options:e}),g=!1;if((f?.type==="oauth"||f?.type==="oidc")&&f.redirectProxyUrl)try{g=new URL(f.redirectProxyUrl).origin===n.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${f.redirectProxyUrl}`)}let m={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:n,action:r,provider:f,cookies:ri(c(e.useSecureCookies??"https:"===n.protocol),e.cookies),providers:p,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:tZ,decode:tX,...e.jwt},events:Object.keys(u=e.events??{}).reduce((e,t)=>(e[t]=async(...e)=>{try{let r=u[t];return await r(...e)}catch(e){d.error(new b(e))}},e),{}),adapter:function(e,t){if(e)return Object.keys(e).reduce((r,n)=>(r[n]=async(...r)=>{try{t.debug(`adapter_${n}`,{args:r});let i=e[n];return await i(...r)}catch(r){let e=new h(r);throw t.error(e),e}},r),{})}(e.adapter,d),callbacks:{...ru,...e.callbacks},logger:d,callbackUrl:n.origin,isOnRedirectProxy:g,experimental:{...e.experimental}},y=[];if(o)m.csrfTokenVerified=!0;else{let{csrfToken:e,cookie:t,csrfTokenVerified:r}=await rt({options:m,cookieValue:i?.[m.cookies.csrfToken.name],isPost:l,bodyValue:s});m.csrfToken=e,m.csrfTokenVerified=r,t&&y.push({name:m.cookies.csrfToken.name,value:t,options:m.cookies.csrfToken.options})}let{callbackUrl:v,callbackUrlCookie:w}=await t0({options:m,cookieValue:i?.[m.cookies.callbackUrl.name],paramValue:a});return m.callbackUrl=v,w&&y.push({name:m.cookies.callbackUrl.name,value:w,options:m.cookies.callbackUrl.options}),{options:m,cookies:y}}var rd,rp,rf,rh,rg,rm,ry,rb,rv,rw,r_,rS={},rA=[],rx=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function rk(e,t){for(var r in t)e[r]=t[r];return e}function rE(e){var t=e.parentNode;t&&t.removeChild(e)}function rT(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++rv:i};return null==i&&null!=rb.vnode&&rb.vnode(a),a}function rP(e){return e.children}function rO(e,t){this.props=e,this.context=t}function rC(e,t){if(null==t)return e.__?rC(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?rC(e):null}function rN(e){(!e.__d&&(e.__d=!0)&&rw.push(e)&&!rR.__r++||r_!==rb.debounceRendering)&&((r_=rb.debounceRendering)||setTimeout)(rR)}function rR(){for(var e;rR.__r=rw.length;)e=rw.sort(function(e,t){return e.__v.__b-t.__v.__b}),rw=[],e.some(function(e){var t,r,n,i,a;e.__d&&(i=(n=e.__v).__e,(a=e.__P)&&(t=[],(r=rk({},n)).__v=n.__v+1,rU(a,n,r,e.__n,void 0!==a.ownerSVGElement,null!=n.__h?[i]:null,t,null==i?rC(n):i,n.__h),rB(t,n),n.__e!=i&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)))})}function rj(e,t,r,n,i,a,s,o,l,u){var c,d,p,f,h,g,m,y=n&&n.__k||rA,b=y.length;for(r.__k=[],c=0;c<t.length;c++)if(null!=(f=r.__k[c]=null==(f=t[c])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?rT(null,f,null,null,f):Array.isArray(f)?rT(rP,{children:f},null,null,null):f.__b>0?rT(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)){if(f.__=r,f.__b=r.__b+1,null===(p=y[c])||p&&f.key==p.key&&f.type===p.type)y[c]=void 0;else for(d=0;d<b;d++){if((p=y[d])&&f.key==p.key&&f.type===p.type){y[d]=void 0;break}p=null}rU(e,f,p=p||rS,i,a,s,o,l,u),h=f.__e,(d=f.ref)&&p.ref!=d&&(m||(m=[]),p.ref&&m.push(p.ref,null,f),m.push(d,f.__c||h,f)),null!=h?(null==g&&(g=h),"function"==typeof f.type&&f.__k===p.__k?f.__d=l=function e(t,r,n){for(var i,a=t.__k,s=0;a&&s<a.length;s++)(i=a[s])&&(i.__=t,r="function"==typeof i.type?e(i,r,n):rI(n,i,i,a,i.__e,r));return r}(f,l,e):l=rI(e,f,p,y,h,l),"function"==typeof r.type&&(r.__d=l)):l&&p.__e==l&&l.parentNode!=e&&(l=rC(p))}for(r.__e=g,c=b;c--;)null!=y[c]&&function e(t,r,n){var i,a;if(rb.unmount&&rb.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||rF(i,null,r)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){rb.__e(e,r)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&e(i[a],r,n||"function"!=typeof t.type);n||null==t.__e||rE(t.__e),t.__=t.__e=t.__d=void 0}(y[c],y[c]);if(m)for(c=0;c<m.length;c++)rF(m[c],m[++c],m[++c])}function rI(e,t,r,n,i,a){var s,o,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==r||i!=a||null==i.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<n.length;l+=1)if(o==i)break e;e.insertBefore(i,a),s=a}return void 0!==s?s:i.nextSibling}function r$(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||rx.test(t)?r:r+"px"}function rL(e,t,r,n,i){var a;e:if("style"===t){if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||r$(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||r$(e.style,t,r[t])}}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase() in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n||e.addEventListener(t,a?rM:rD,a):e.removeEventListener(t,a?rM:rD,a);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,r))}}function rD(e){this.l[e.type+!1](rb.event?rb.event(e):e)}function rM(e){this.l[e.type+!0](rb.event?rb.event(e):e)}function rU(e,t,r,n,i,a,s,o,l){var u,c,d,p,f,h,g,m,y,b,v,w,_,S,A,x=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(l=r.__h,o=t.__e=r.__e,t.__h=null,a=[o]),(u=rb.__b)&&u(t);try{e:if("function"==typeof x){if(m=t.props,y=(u=x.contextType)&&n[u.__c],b=u?y?y.props.value:u.__:n,r.__c?g=(c=t.__c=r.__c).__=c.__E:("prototype"in x&&x.prototype.render?t.__c=c=new x(m,b):(t.__c=c=new rO(m,b),c.constructor=x,c.render=rq),y&&y.sub(c),c.props=m,c.state||(c.state={}),c.context=b,c.__n=n,d=c.__d=!0,c.__h=[],c._sb=[]),null==c.__s&&(c.__s=c.state),null!=x.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=rk({},c.__s)),rk(c.__s,x.getDerivedStateFromProps(m,c.__s))),p=c.props,f=c.state,d)null==x.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==x.getDerivedStateFromProps&&m!==p&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(m,b),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(m,c.__s,b)||t.__v===r.__v){for(c.props=m,c.state=c.__s,t.__v!==r.__v&&(c.__d=!1),c.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(e){e&&(e.__=t)}),v=0;v<c._sb.length;v++)c.__h.push(c._sb[v]);c._sb=[],c.__h.length&&s.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(m,c.__s,b),null!=c.componentDidUpdate&&c.__h.push(function(){c.componentDidUpdate(p,f,h)})}if(c.context=b,c.props=m,c.__v=t,c.__P=e,w=rb.__r,_=0,"prototype"in x&&x.prototype.render){for(c.state=c.__s,c.__d=!1,w&&w(t),u=c.render(c.props,c.state,c.context),S=0;S<c._sb.length;S++)c.__h.push(c._sb[S]);c._sb=[]}else do c.__d=!1,w&&w(t),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++_<25);c.state=c.__s,null!=c.getChildContext&&(n=rk(rk({},n),c.getChildContext())),d||null==c.getSnapshotBeforeUpdate||(h=c.getSnapshotBeforeUpdate(p,f)),A=null!=u&&u.type===rP&&null==u.key?u.props.children:u,rj(e,Array.isArray(A)?A:[A],t,r,n,i,a,s,o,l),c.base=t.__e,t.__h=null,c.__h.length&&s.push(c),g&&(c.__E=c.__=null),c.__e=!1}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,a,s,o){var l,u,c,d=r.props,p=t.props,f=t.type,h=0;if("svg"===f&&(i=!0),null!=a){for(;h<a.length;h++)if((l=a[h])&&"setAttribute"in l==!!f&&(f?l.localName===f:3===l.nodeType)){e=l,a[h]=null;break}}if(null==e){if(null===f)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,p.is&&p),a=null,o=!1}if(null===f)d===p||o&&e.data===p||(e.data=p);else{if(a=a&&ry.call(e.childNodes),u=(d=r.props||rS).dangerouslySetInnerHTML,c=p.dangerouslySetInnerHTML,!o){if(null!=a)for(d={},h=0;h<e.attributes.length;h++)d[e.attributes[h].name]=e.attributes[h].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(function(e,t,r,n,i){var a;for(a in r)"children"===a||"key"===a||a in t||rL(e,a,null,r[a],n);for(a in t)i&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||r[a]===t[a]||rL(e,a,t[a],r[a],n)}(e,p,d,i,o),c)t.__k=[];else if(rj(e,Array.isArray(h=t.props.children)?h:[h],t,r,n,i&&"foreignObject"!==f,a,s,a?a[0]:r.__k&&rC(r,0),o),null!=a)for(h=a.length;h--;)null!=a[h]&&rE(a[h]);o||("value"in p&&void 0!==(h=p.value)&&(h!==e.value||"progress"===f&&!h||"option"===f&&h!==d.value)&&rL(e,"value",h,d.value,!1),"checked"in p&&void 0!==(h=p.checked)&&h!==e.checked&&rL(e,"checked",h,d.checked,!1))}return e}(r.__e,t,r,n,i,a,s,l);(u=rb.diffed)&&u(t)}catch(e){t.__v=null,(l||null!=a)&&(t.__e=o,t.__h=!!l,a[a.indexOf(o)]=null),rb.__e(e,t,r)}}function rB(e,t){rb.__c&&rb.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){rb.__e(e,t.__v)}})}function rF(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){rb.__e(e,r)}}function rq(e,t,r){return this.constructor(e,r)}function rH(e,t){var r,n,i,a;r=e,rb.__&&rb.__(r,t),i=(n="function"==typeof rH)?null:rH&&rH.__k||t.__k,a=[],rU(t,r=(!n&&rH||t).__k=function(e,t,r){var n,i,a,s={};for(a in t)"key"==a?n=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?ry.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return rT(e,s,n,i,null)}(rP,null,[r]),i||rS,rS,void 0!==t.ownerSVGElement,!n&&rH?[rH]:i?null:t.firstChild?ry.call(t.childNodes):null,a,!n&&rH?rH:i?i.__e:t.firstChild,n),rB(a,r)}ry=rA.slice,rb={__e:function(e,t,r,n){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},rv=0,rO.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=rk({},this.state),"function"==typeof e&&(e=e(rk({},r),this.props)),e&&rk(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),rN(this))},rO.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rN(this))},rO.prototype.render=rP,rw=[],rR.__r=0;var rz=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,rQ=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,rV=/[\s\n\\/='"\0<>]/,rK=/^xlink:?./,rW=/["&<]/;function rG(e){if(!1===rW.test(e+=""))return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var rJ=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},rZ=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},rX={},rY=/([A-Z])/g;function r0(e){var t="";for(var r in e){var n=e[r];null!=n&&""!==n&&(t&&(t+=" "),t+="-"==r[0]?r:rX[r]||(rX[r]=r.replace(rY,"-$1").toLowerCase()),t="number"==typeof n&&!1===rz.test(r)?t+": "+n+"px;":t+": "+n+";")}return t||void 0}function r1(e,t){return Array.isArray(t)?t.reduce(r1,e):null!=t&&!1!==t&&e.push(t),e}function r2(){this.__d=!0}function r3(e,t){return{__v:e,context:t,props:e.props,setState:r2,forceUpdate:r2,__d:!0,__h:[]}}function r6(e,t){var r=e.contextType,n=r&&t[r.__c];return null!=r?n?n.props.value:r.__:t}var r5=[],r4={shallow:!0};r9.render=r9;var r8=[];function r9(e,t,r){t=t||{};var n,i=rb.__s;return rb.__s=!0,n=r&&(r.pretty||r.voidElements||r.sortAttributes||r.shallow||r.allAttributes||r.xml||r.attributeHook)?function e(t,r,n,i,a,s){if(null==t||"boolean"==typeof t)return"";if("object"!=typeof t)return rG(t);var o=n.pretty,l=o&&"string"==typeof o?o:"	";if(Array.isArray(t)){for(var u="",c=0;c<t.length;c++)o&&c>0&&(u+="\n"),u+=e(t[c],r,n,i,a,s);return u}var d,p=t.type,f=t.props,h=!1;if("function"==typeof p){if(h=!0,!n.shallow||!i&&!1!==n.renderRootComponent){if(p===rP){var g=[];return r1(g,t.props.children),e(g,r,n,!1!==n.shallowHighOrder,a,s)}var m,y=t.__c=r3(t,r);rb.__b&&rb.__b(t);var b=rb.__r;if(p.prototype&&"function"==typeof p.prototype.render){var v=r6(p,r);(y=t.__c=new p(f,v)).__v=t,y._dirty=y.__d=!0,y.props=f,null==y.state&&(y.state={}),null==y._nextState&&null==y.__s&&(y._nextState=y.__s=y.state),y.context=v,p.getDerivedStateFromProps?y.state=Object.assign({},y.state,p.getDerivedStateFromProps(y.props,y.state)):y.componentWillMount&&(y.componentWillMount(),y.state=y._nextState!==y.state?y._nextState:y.__s!==y.state?y.__s:y.state),b&&b(t),m=y.render(y.props,y.state,y.context)}else for(var w=r6(p,r),_=0;y.__d&&_++<25;)y.__d=!1,b&&b(t),m=p.call(t.__c,f,w);return y.getChildContext&&(r=Object.assign({},r,y.getChildContext())),rb.diffed&&rb.diffed(t),e(m,r,n,!1!==n.shallowHighOrder,a,s)}p=(d=p).displayName||d!==Function&&d.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var r=-1,n=r5.length;n--;)if(r5[n]===e){r=n;break}r<0&&(r=r5.push(e)-1),t="UnnamedComponent"+r}return t}(d)}var S,A,x="<"+p;if(f){var k=Object.keys(f);n&&!0===n.sortAttributes&&k.sort();for(var E=0;E<k.length;E++){var T=k[E],P=f[T];if("children"!==T){if(!rV.test(T)&&(n&&n.allAttributes||"key"!==T&&"ref"!==T&&"__self"!==T&&"__source"!==T)){if("defaultValue"===T)T="value";else if("defaultChecked"===T)T="checked";else if("defaultSelected"===T)T="selected";else if("className"===T){if(void 0!==f.class)continue;T="class"}else a&&rK.test(T)&&(T=T.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===T){if(f.for)continue;T="for"}"style"===T&&P&&"object"==typeof P&&(P=r0(P)),"a"===T[0]&&"r"===T[1]&&"boolean"==typeof P&&(P=String(P));var O=n.attributeHook&&n.attributeHook(T,P,r,n,h);if(O||""===O)x+=O;else if("dangerouslySetInnerHTML"===T)A=P&&P.__html;else if("textarea"===p&&"value"===T)S=P;else if((P||0===P||""===P)&&"function"!=typeof P){if(!(!0!==P&&""!==P||(P=T,n&&n.xml))){x=x+" "+T;continue}if("value"===T){if("select"===p){s=P;continue}"option"===p&&s==P&&void 0===f.selected&&(x+=" selected")}x=x+" "+T+'="'+rG(P)+'"'}}}else S=P}}if(o){var C=x.replace(/\n\s*/," ");C===x||~C.indexOf("\n")?o&&~x.indexOf("\n")&&(x+="\n"):x=C}if(x+=">",rV.test(p))throw Error(p+" is not a valid HTML tag name in "+x);var N,R=rQ.test(p)||n.voidElements&&n.voidElements.test(p),j=[];if(A)o&&rZ(A)&&(A="\n"+l+rJ(A,l)),x+=A;else if(null!=S&&r1(N=[],S).length){for(var I=o&&~x.indexOf("\n"),$=!1,L=0;L<N.length;L++){var D=N[L];if(null!=D&&!1!==D){var M=e(D,r,n,!0,"svg"===p||"foreignObject"!==p&&a,s);if(o&&!I&&rZ(M)&&(I=!0),M){if(o){var U=M.length>0&&"<"!=M[0];$&&U?j[j.length-1]+=M:j.push(M),$=U}else j.push(M)}}}if(o&&I)for(var B=j.length;B--;)j[B]="\n"+l+rJ(j[B],l)}if(j.length||A)x+=j.join("");else if(n&&n.xml)return x.substring(0,x.length-1)+" />";return!R||N||A?(o&&~x.indexOf("\n")&&(x+="\n"),x=x+"</"+p+">"):x=x.replace(/>$/," />"),x}(e,t,r):function e(t,r,n,i){if(null==t||!0===t||!1===t||""===t)return"";if("object"!=typeof t)return rG(t);if(r7(t)){for(var a="",s=0;s<t.length;s++)a+=e(t[s],r,n,i);return a}rb.__b&&rb.__b(t);var o=t.type,l=t.props;if("function"==typeof o){if(o===rP)return e(t.props.children,r,n,i);h=o.prototype&&"function"==typeof o.prototype.render?(u=r,d=r6(c=t.type,u),p=new c(t.props,d),t.__c=p,p.__v=t,p.__d=!0,p.props=t.props,null==p.state&&(p.state={}),null==p.__s&&(p.__s=p.state),p.context=d,c.getDerivedStateFromProps?p.state=ne({},p.state,c.getDerivedStateFromProps(p.props,p.state)):p.componentWillMount&&(p.componentWillMount(),p.state=p.__s!==p.state?p.__s:p.state),(f=rb.__r)&&f(t),p.render(p.props,p.state,p.context)):function(e,t){var r,n=r3(e,t),i=r6(e.type,t);e.__c=n;for(var a=rb.__r,s=0;n.__d&&s++<25;)n.__d=!1,a&&a(e),r=e.type.call(n,e.props,i);return r}(t,r);var u,c,d,p,f,h,g=t.__c;g.getChildContext&&(r=ne({},r,g.getChildContext()));var m=e(h,r,n,i);return rb.diffed&&rb.diffed(t),m}var y,b,v="<";if(v+=o,l)for(var w in y=l.children,l){var _,S,A,x=l[w];if(!("key"===w||"ref"===w||"__self"===w||"__source"===w||"children"===w||"className"===w&&"class"in l||"htmlFor"===w&&"for"in l||rV.test(w))){if(S=w="className"===(_=w)?"class":"htmlFor"===_?"for":"defaultValue"===_?"value":"defaultChecked"===_?"checked":"defaultSelected"===_?"selected":n&&rK.test(_)?_.toLowerCase().replace(/^xlink:?/,"xlink:"):_,A=x,x="style"===S&&null!=A&&"object"==typeof A?r0(A):"a"===S[0]&&"r"===S[1]&&"boolean"==typeof A?String(A):A,"dangerouslySetInnerHTML"===w)b=x&&x.__html;else if("textarea"===o&&"value"===w)y=x;else if((x||0===x||""===x)&&"function"!=typeof x){if(!0===x||""===x){x=w,v=v+" "+w;continue}if("value"===w){if("select"===o){i=x;continue}"option"!==o||i!=x||"selected"in l||(v+=" selected")}v=v+" "+w+'="'+rG(x)+'"'}}}var k=v;if(v+=">",rV.test(o))throw Error(o+" is not a valid HTML tag name in "+v);var E="",T=!1;if(b)E+=b,T=!0;else if("string"==typeof y)E+=rG(y),T=!0;else if(r7(y))for(var P=0;P<y.length;P++){var O=y[P];if(null!=O&&!1!==O){var C=e(O,r,"svg"===o||"foreignObject"!==o&&n,i);C&&(E+=C,T=!0)}}else if(null!=y&&!1!==y&&!0!==y){var N=e(y,r,"svg"===o||"foreignObject"!==o&&n,i);N&&(E+=N,T=!0)}if(rb.diffed&&rb.diffed(t),T)v+=E;else if(rQ.test(o))return k+" />";return v+"</"+o+">"}(e,t,!1,void 0),rb.__c&&rb.__c(e,r8),rb.__s=i,r8.length=0,n}var r7=Array.isArray,ne=Object.assign;r9.shallowRender=function(e,t){return r9(e,t,r4)};var nt=0;function nr(e,t,r,n,i){var a,s,o={};for(s in t)"ref"==s?a=t[s]:o[s]=t[s];var l={type:e,props:o,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--nt,__source:i,__self:n};if("function"==typeof e&&(a=e.defaultProps))for(s in a)void 0===o[s]&&(o[s]=a[s]);return rb.vnode&&rb.vnode(l),l}async function nn(e,t){let r=window.SimpleWebAuthnBrowser;async function n(r){let n=new URL(`${e}/webauthn-options/${t}`);r&&n.searchParams.append("action",r),a().forEach(e=>{n.searchParams.append(e.name,e.value)});let i=await fetch(n);if(!i.ok){console.error("Failed to fetch options",i);return}return i.json()}function i(){let e=`#${t}-form`,r=document.querySelector(e);if(!r)throw Error(`Form '${e}' not found`);return r}function a(){return Array.from(i().querySelectorAll("input[data-form-field]"))}async function s(e,t){let r=i();if(e){let t=document.createElement("input");t.type="hidden",t.name="action",t.value=e,r.appendChild(t)}if(t){let e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(t),r.appendChild(e)}return r.submit()}async function o(e,t){let n=await r.startAuthentication(e,t);return await s("authenticate",n)}async function l(e){a().forEach(e=>{if(e.required&&!e.value)throw Error(`Missing required field: ${e.name}`)});let t=await r.startRegistration(e);return await s("register",t)}async function u(){if(!r.browserSupportsWebAuthnAutofill())return;let e=await n("authenticate");if(!e){console.error("Failed to fetch option for autofill authentication");return}try{await o(e.options,!0)}catch(e){console.error(e)}}(async function(){let e=i();if(!r.browserSupportsWebAuthn()){e.style.display="none";return}e&&e.addEventListener("submit",async e=>{e.preventDefault();let t=await n(void 0);if(!t){console.error("Failed to fetch options for form submission");return}if("authenticate"===t.action)try{await o(t.options,!1)}catch(e){console.error(e)}else if("register"===t.action)try{await l(t.options)}catch(e){console.error(e)}})})(),u()}let ni={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},na=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
}

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
  }

  button,
  a.button {
    color: var(--provider-dark-color, var(--color-primary)) !important;
    background-color: var(
      --provider-dark-bg,
      var(--color-background)
    ) !important;
  }

    :is(button,a.button):hover {
      background-color: var(
        --provider-dark-bg-hover,
        var(--color-background-hover)
      ) !important;
    }

    :is(button,a.button) span {
      color: var(--provider-dark-bg) !important;
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: #fff;
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function ns({html:e,title:t,status:r,cookies:n,theme:i,headTags:a}){return{cookies:n,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${na}</style><title>${t}</title>${a??""}</head><body class="__next-auth-theme-${i?.colorScheme??"auto"}"><div class="page">${r9(e)}</div></body></html>`}}function no(e){let{url:t,theme:r,query:n,cookies:i,pages:a,providers:s}=e;return{csrf:(e,t,r)=>e?(t.logger.warn("csrf-disabled"),r.push({name:t.cookies.csrfToken.name,value:"",options:{...t.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:r}):{headers:{"Content-Type":"application/json"},body:{csrfToken:t.csrfToken},cookies:r},providers:e=>({headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:r,type:n,signinUrl:i,callbackUrl:a})=>(e[t]={id:t,name:r,type:n,signinUrl:i,callbackUrl:a},e),{})}),signin(t,o){if(t)throw new $("Unsupported action");if(a?.signIn){let t=`${a.signIn}${a.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return o&&(t=`${t}&${new URLSearchParams({error:o})}`),{redirect:t,cookies:i}}let l=s?.find(e=>"webauthn"===e.type&&e.enableConditionalUI&&!!e.simpleWebAuthnBrowserVersion),u="";if(l){let{simpleWebAuthnBrowserVersion:e}=l;u=`<script src="https://unpkg.com/@simplewebauthn/browser@${e}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return ns({cookies:i,theme:r,html:function(e){let{csrfToken:t,providers:r=[],callbackUrl:n,theme:i,email:a,error:s}=e;"undefined"!=typeof document&&i?.brandColor&&document.documentElement.style.setProperty("--brand-color",i.brandColor),"undefined"!=typeof document&&i?.buttonText&&document.documentElement.style.setProperty("--button-text-color",i.buttonText);let o=s&&(ni[s]??ni.default),l=r.find(e=>"webauthn"===e.type&&e.enableConditionalUI)?.id;return nr("div",{className:"signin",children:[i?.brandColor&&nr("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${i.brandColor}}`}}),i?.buttonText&&nr("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),nr("div",{className:"card",children:[o&&nr("div",{className:"error",children:nr("p",{children:o})}),i?.logo&&nr("img",{src:i.logo,alt:"Logo",className:"logo"}),r.map((e,i)=>{let s,o,l;("oauth"===e.type||"oidc"===e.type)&&({bg:s="#fff",brandColor:o,logo:l=`https://authjs.dev/img/providers/${e.id}.svg`}=e.style??{});let u=o??s??"#fff";return nr("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?nr("form",{action:e.signinUrl,method:"POST",children:[nr("input",{type:"hidden",name:"csrfToken",value:t}),n&&nr("input",{type:"hidden",name:"callbackUrl",value:n}),nr("button",{type:"submit",className:"button",style:{"--provider-bg":"#fff","--provider-bg-hover":`color-mix(in srgb, ${u} 30%, #fff)`,"--provider-dark-bg":"#161b22","--provider-dark-bg-hover":`color-mix(in srgb, ${u} 30%, #000)`},tabIndex:0,children:[nr("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",e.name]}),l&&nr("img",{loading:"lazy",height:24,src:l})]})]}):null,("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i>0&&"email"!==r[i-1].type&&"credentials"!==r[i-1].type&&"webauthn"!==r[i-1].type&&nr("hr",{}),"email"===e.type&&nr("form",{action:e.signinUrl,method:"POST",children:[nr("input",{type:"hidden",name:"csrfToken",value:t}),nr("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),nr("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:a,placeholder:"email@example.com",required:!0}),nr("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"credentials"===e.type&&nr("form",{action:e.callbackUrl,method:"POST",children:[nr("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>nr("div",{children:[nr("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),nr("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),nr("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"webauthn"===e.type&&nr("form",{action:e.callbackUrl,method:"POST",id:`${e.id}-form`,children:[nr("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.formFields).map(t=>nr("div",{children:[nr("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.formFields[t].label??t}),nr("input",{name:t,"data-form-field":!0,id:`input-${t}-for-${e.id}-provider`,type:e.formFields[t].type??"text",placeholder:e.formFields[t].placeholder??"",...e.formFields[t]})]},`input-group-${e.id}`)),nr("button",{id:`submitButton-${e.id}`,type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i+1<r.length&&nr("hr",{})]},e.id)})]}),l&&nr(rP,{children:nr("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${nn})(authURL, "${l}");
`}})})]})}({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||"webauthn"===e.type&&e.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:o,...n}),title:"Sign In",headTags:u})},signout:()=>a?.signOut?{redirect:a.signOut,cookies:i}:ns({cookies:i,theme:r,html:function(e){let{url:t,csrfToken:r,theme:n}=e;return nr("div",{className:"signout",children:[n?.brandColor&&nr("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n.brandColor}
        }
      `}}),n?.buttonText&&nr("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${n.buttonText}
        }
      `}}),nr("div",{className:"card",children:[n?.logo&&nr("img",{src:n.logo,alt:"Logo",className:"logo"}),nr("h1",{children:"Signout"}),nr("p",{children:"Are you sure you want to sign out?"}),nr("form",{action:t?.toString(),method:"POST",children:[nr("input",{type:"hidden",name:"csrfToken",value:r}),nr("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:e=>a?.verifyRequest?{redirect:a.verifyRequest,cookies:i}:ns({cookies:i,theme:r,html:function(e){let{url:t,theme:r}=e;return nr("div",{className:"verify-request",children:[r.brandColor&&nr("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),nr("div",{className:"card",children:[r.logo&&nr("img",{src:r.logo,alt:"Logo",className:"logo"}),nr("h1",{children:"Check your email"}),nr("p",{children:"A sign in link has been sent to your email address."}),nr("p",{children:nr("a",{className:"site",href:t.origin,children:t.host})})]})]})}({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>a?.error?{redirect:`${a.error}${a.error.includes("?")?"&":"?"}error=${e}`,cookies:i}:ns({cookies:i,theme:r,...function(e){let{url:t,error:r="default",theme:n}=e,i=`${t}/signin`,a={default:{status:200,heading:"Error",message:nr("p",{children:nr("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:nr("div",{children:[nr("p",{children:"There is a problem with the server configuration."}),nr("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:nr("div",{children:[nr("p",{children:"You do not have permission to sign in."}),nr("p",{children:nr("a",{className:"button",href:i,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:nr("div",{children:[nr("p",{children:"The sign in link is no longer valid."}),nr("p",{children:"It may have been used already or it may have expired."})]}),signin:nr("a",{className:"button",href:i,children:"Sign in"})}},{status:s,heading:o,message:l,signin:u}=a[r]??a.default;return{status:s,html:nr("div",{className:"error",children:[n?.brandColor&&nr("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n?.brandColor}
        }
      `}}),nr("div",{className:"card",children:[n?.logo&&nr("img",{src:n?.logo,alt:"Logo",className:"logo"}),nr("h1",{children:o}),nr("div",{className:"message",children:l}),u]})]})}}({url:t,theme:r,error:e}),title:"Error"})}}function nl(e,t=Date.now()){return new Date(t+1e3*e)}async function nu(e,t,r,n){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:i,jwt:a,events:s,session:{strategy:o,generateSessionToken:l}}=n;if(!i)return{user:t,account:r};let u=r,{createUser:c,updateUser:d,getUser:p,getUserByAccount:f,getUserByEmail:h,linkAccount:g,createSession:m,getSessionAndUser:y,deleteSession:b}=i,v=null,w=null,_=!1,S="jwt"===o;if(e){if(S)try{let t=n.cookies.sessionToken.name;(v=await a.decode({...a,token:e,salt:t}))&&"sub"in v&&v.sub&&(w=await p(v.sub))}catch{}else{let t=await y(e);t&&(v=t.session,w=t.user)}}if("email"===u.type){let r=await h(t.email);return r?(w?.id!==r.id&&!S&&e&&await b(e),w=await d({id:r.id,emailVerified:new Date}),await s.updateUser?.({user:w})):(w=await c({...t,emailVerified:new Date}),await s.createUser?.({user:w}),_=!0),{session:v=S?{}:await m({sessionToken:l(),userId:w.id,expires:nl(n.session.maxAge)}),user:w,isNewUser:_}}if("webauthn"===u.type){let e=await f({providerAccountId:u.providerAccountId,provider:u.provider});if(e){if(w){if(e.id===w.id){let e={...u,userId:w.id};return{session:v,user:w,isNewUser:_,account:e}}throw new Q("The account is already associated with another user",{provider:u.provider})}v=S?{}:await m({sessionToken:l(),userId:e.id,expires:nl(n.session.maxAge)});let t={...u,userId:e.id};return{session:v,user:e,isNewUser:_,account:t}}{if(w){await g({...u,userId:w.id}),await s.linkAccount?.({user:w,account:u,profile:t});let e={...u,userId:w.id};return{session:v,user:w,isNewUser:_,account:e}}if(t.email?await h(t.email):null)throw new Q("Another account already exists with the same e-mail address",{provider:u.provider});w=await c({...t}),await s.createUser?.({user:w}),await g({...u,userId:w.id}),await s.linkAccount?.({user:w,account:u,profile:t}),v=S?{}:await m({sessionToken:l(),userId:w.id,expires:nl(n.session.maxAge)});let e={...u,userId:w.id};return{session:v,user:w,isNewUser:!0,account:e}}}let A=await f({providerAccountId:u.providerAccountId,provider:u.provider});if(A){if(w){if(A.id===w.id)return{session:v,user:w,isNewUser:_};throw new P("The account is already associated with another user",{provider:u.provider})}return{session:v=S?{}:await m({sessionToken:l(),userId:A.id,expires:nl(n.session.maxAge)}),user:A,isNewUser:_}}{let{provider:e}=n,{type:r,provider:i,providerAccountId:a,userId:o,...d}=u;if(u=Object.assign(e.account(d)??{},{providerAccountId:a,provider:i,type:r,userId:o}),w)return await g({...u,userId:w.id}),await s.linkAccount?.({user:w,account:u,profile:t}),{session:v,user:w,isNewUser:_};let p=t.email?await h(t.email):null;if(p){let e=n.provider;if(e?.allowDangerousEmailAccountLinking)w=p;else throw new P("Another account already exists with the same e-mail address",{provider:u.provider})}else w=await c({...t,emailVerified:null});return await s.createUser?.({user:w}),await g({...u,userId:w.id}),await s.linkAccount?.({user:w,account:u,profile:t}),{session:v=S?{}:await m({sessionToken:l(),userId:w.id,expires:nl(n.session.maxAge)}),user:w,isNewUser:!0}}}function nc(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(a="oauth4webapi/v2.17.0");let nd=Symbol(),np=Symbol(),nf=Symbol(),nh=Symbol(),ng=Symbol(),nm=Symbol(),ny=Symbol(),nb=new TextEncoder,nv=new TextDecoder;function nw(e){return"string"==typeof e?nb.encode(e):nv.decode(e)}function n_(e){return"string"==typeof e?function(e){try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw new nk("The input to be decoded is not correctly encoded.",{cause:e})}}(e):function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(e)}class nS{constructor(e){this.cache=new Map,this._cache=new Map,this.maxSize=e}get(e){let t=this.cache.get(e);return t||((t=this._cache.get(e))?(this.update(e,t),t):void 0)}has(e){return this.cache.has(e)||this._cache.has(e)}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this.update(e,t),this}delete(e){return this.cache.has(e)?this.cache.delete(e):!!this._cache.has(e)&&this._cache.delete(e)}update(e,t){this.cache.set(e,t),this.cache.size>=this.maxSize&&(this._cache=this.cache,this.cache=new Map)}}class nA extends Error{constructor(e){super(e??"operation not supported"),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class nx extends Error{constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}let nk=nx,nE=new nS(100);function nT(e){return e instanceof CryptoKey}function nP(e){return nT(e)&&"private"===e.type}function nO(e){try{let t=e.headers.get("dpop-nonce");t&&nE.set(new URL(e.url).origin,t)}catch{}return e}function nC(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function nN(e){nc(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e);if(a&&!t.has("user-agent")&&t.set("user-agent",a),t.has("authorization"))throw TypeError('"options.headers" must not include the "authorization" header name');if(t.has("dpop"))throw TypeError('"options.headers" must not include the "dpop" header name');return t}function nR(e){if("function"==typeof e&&(e=e()),!(e instanceof AbortSignal))throw TypeError('"options.signal" must return or be an instance of AbortSignal');return e}async function nj(e,t){if(!(e instanceof URL))throw TypeError('"issuerIdentifier" must be an instance of URL');if("https:"!==e.protocol&&"http:"!==e.protocol)throw TypeError('"issuer.protocol" must be "https:" or "http:"');let r=new URL(e.href);switch(t?.algorithm){case void 0:case"oidc":r.pathname=`${r.pathname}/.well-known/openid-configuration`.replace("//","/");break;case"oauth2":"/"===r.pathname?r.pathname=".well-known/oauth-authorization-server":r.pathname=`.well-known/oauth-authorization-server/${r.pathname}`.replace("//","/");break;default:throw TypeError('"options.algorithm" must be "oidc" (default), or "oauth2"')}let n=nN(t?.headers);return n.set("accept","application/json"),(t?.[nf]||fetch)(r.href,{headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:t?.signal?nR(t.signal):null}).then(nO)}function nI(e){return"string"==typeof e&&0!==e.length}async function n$(e,t){let r;if(!(e instanceof URL))throw TypeError('"expectedIssuer" must be an instance of URL');if(!nc(t,Response))throw TypeError('"response" must be an instance of Response');if(200!==t.status)throw new nk('"response" is not a conform Authorization Server Metadata response');iS(t);try{r=await t.json()}catch(e){throw new nk('failed to parse "response" body as JSON',{cause:e})}if(!nC(r))throw new nk('"response" body must be a top level object');if(!nI(r.issuer))throw new nk('"response" body "issuer" property must be a non-empty string');if(new URL(r.issuer).href!==e.href)throw new nk('"response" body "issuer" does not match "expectedIssuer"');return r}function nL(){return n_(crypto.getRandomValues(new Uint8Array(32)))}async function nD(e){if(!nI(e))throw TypeError('"codeVerifier" must be a non-empty string');return n_(await crypto.subtle.digest("SHA-256",nw(e)))}function nM(e){return encodeURIComponent(e).replace(/%20/g,"+")}function nU(e){switch(e.algorithm.name){case"RSA-PSS":return function(e){switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new nA("unsupported RsaHashedKeyAlgorithm hash name")}}(e);case"RSASSA-PKCS1-v1_5":return function(e){switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new nA("unsupported RsaHashedKeyAlgorithm hash name")}}(e);case"ECDSA":return function(e){switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new nA("unsupported EcKeyAlgorithm namedCurve")}}(e);case"Ed25519":case"Ed448":return"EdDSA";default:throw new nA("unsupported CryptoKey algorithm name")}}function nB(e){let t=e?.[nd];return"number"==typeof t&&Number.isFinite(t)?t:0}function nF(e){let t=e?.[np];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function nq(){return Math.floor(Date.now()/1e3)}async function nH(e,t,r,n,i){let a={alg:nU(r),kid:n},s=function(e,t){let r=nq()+nB(t);return{jti:nL(),aud:[e.issuer,e.token_endpoint],exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}(e,t);return i?.(a,s),nJ(a,s,r)}function nz(e){if("object"!=typeof e||null===e)throw TypeError('"as" must be an object');if(!nI(e.issuer))throw TypeError('"as.issuer" property must be a non-empty string');return!0}function nQ(e){if("object"!=typeof e||null===e)throw TypeError('"client" must be an object');if(!nI(e.client_id))throw TypeError('"client.client_id" property must be a non-empty string');return!0}function nV(e){if(!nI(e))throw TypeError('"client.client_secret" property must be a non-empty string');return e}function nK(e,t){if(void 0!==t)throw TypeError(`"options.clientPrivateKey" property must not be provided when ${e} client authentication method is used.`)}function nW(e,t){if(void 0!==t)throw TypeError(`"client.client_secret" property must not be provided when ${e} client authentication method is used.`)}async function nG(e,t,r,n,i){switch(r.delete("client_secret"),r.delete("client_assertion_type"),r.delete("client_assertion"),t.token_endpoint_auth_method){case void 0:case"client_secret_basic":nK("client_secret_basic",i),n.set("authorization",function(e,t){let r=nM(e),n=nM(t),i=btoa(`${r}:${n}`);return`Basic ${i}`}(t.client_id,nV(t.client_secret)));break;case"client_secret_post":nK("client_secret_post",i),r.set("client_id",t.client_id),r.set("client_secret",nV(t.client_secret));break;case"private_key_jwt":{if(nW("private_key_jwt",t.client_secret),void 0===i)throw TypeError('"options.clientPrivateKey" must be provided when "client.token_endpoint_auth_method" is "private_key_jwt"');let{key:n,kid:a,modifyAssertion:s}=function(e){if(e instanceof CryptoKey)return{key:e};if(!(e?.key instanceof CryptoKey))return{};if(void 0!==e.kid&&!nI(e.kid))throw TypeError('"kid" must be a non-empty string');return{key:e.key,kid:e.kid,modifyAssertion:e[nh]}}(i);if(!nP(n))throw TypeError('"options.clientPrivateKey.key" must be a private CryptoKey');r.set("client_id",t.client_id),r.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),r.set("client_assertion",await nH(e,t,n,a,s));break}case"tls_client_auth":case"self_signed_tls_client_auth":case"none":nW(t.token_endpoint_auth_method,t.client_secret),nK(t.token_endpoint_auth_method,i),r.set("client_id",t.client_id);break;default:throw new nA("unsupported client token_endpoint_auth_method")}}async function nJ(e,t,r){if(!r.usages.includes("sign"))throw TypeError('CryptoKey instances used for signing assertions must include "sign" in their "usages"');let n=`${n_(nw(JSON.stringify(e)))}.${n_(nw(JSON.stringify(t)))}`,i=n_(await crypto.subtle.sign(iT(r),r,nw(n)));return`${n}.${i}`}async function nZ(e,t,r,n,i,a){let{privateKey:s,publicKey:o,nonce:l=nE.get(r.origin)}=t;if(!nP(s))throw TypeError('"DPoP.privateKey" must be a private CryptoKey');if(!(nT(o)&&"public"===o.type))throw TypeError('"DPoP.publicKey" must be a public CryptoKey');if(void 0!==l&&!nI(l))throw TypeError('"DPoP.nonce" must be a non-empty string or undefined');if(!o.extractable)throw TypeError('"DPoP.publicKey.extractable" must be true');let u=nq()+i,c={alg:nU(s),typ:"dpop+jwt",jwk:await nY(o)},d={iat:u,jti:nL(),htm:n,nonce:l,htu:`${r.origin}${r.pathname}`,ath:a?n_(await crypto.subtle.digest("SHA-256",nw(a))):void 0};t[nh]?.(c,d),e.set("dpop",await nJ(c,d,s))}async function nX(e){let{kty:t,e:r,n,x:i,y:a,crv:o}=await crypto.subtle.exportKey("jwk",e),l={kty:t,e:r,n,x:i,y:a,crv:o};return s.set(e,l),l}async function nY(e){return s||(s=new WeakMap),s.get(e)||nX(e)}function n0(e,t,r){if("string"!=typeof e){if(r)throw TypeError(`"as.mtls_endpoint_aliases.${t}" must be a string`);throw TypeError(`"as.${t}" must be a string`)}return new URL(e)}function n1(e,t,r=!1){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?n0(e.mtls_endpoint_aliases[t],t,r):n0(e[t],t,r)}function n2(e,t){return!!(e.use_mtls_endpoint_aliases||t?.[ny])}function n3(e){return!("object"!=typeof e||Array.isArray(e))&&null!==e&&void 0!==e.error}let n6=/((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/,n5=/(?:^|, ?)([0-9a-zA-Z!#$%&'*+\-.^_`|~]+)(?=$|[ ,])/g;async function n4(e,t,r,n,i,a){if(!nI(e))throw TypeError('"accessToken" must be a non-empty string');if(!(r instanceof URL))throw TypeError('"url" must be an instance of URL');return n=nN(n),a?.DPoP===void 0?n.set("authorization",`Bearer ${e}`):(await nZ(n,a.DPoP,r,t.toUpperCase(),nB({[nd]:a?.[nd]}),e),n.set("authorization",`DPoP ${e}`)),(a?.[nf]||fetch)(r.href,{body:i,headers:Object.fromEntries(n.entries()),method:t,redirect:"manual",signal:a?.signal?nR(a.signal):null}).then(nO)}async function n8(e,t,r,n){nz(e),nQ(t);let i=n1(e,"userinfo_endpoint",n2(t,n)),a=nN(n?.headers);return t.userinfo_signed_response_alg?a.set("accept","application/jwt"):(a.set("accept","application/json"),a.append("accept","application/jwt")),n4(r,"GET",i,a,null,{...n,[nd]:nB(t)})}function n9(e,t,r,n){o||(o=new WeakMap),o.set(e,{jwks:t,uat:r,get age(){return nq()-this.uat}}),n&&Object.assign(n,{jwks:structuredClone(t),uat:r})}function n7(e,t){o?.delete(e),delete t?.jwks,delete t?.uat}let ie=Symbol();async function it(e,t,r,n){let i;if(nz(e),nQ(t),!nc(n,Response))throw TypeError('"response" must be an instance of Response');if(200!==n.status)throw new nk('"response" is not a conform UserInfo Endpoint response');if("application/jwt"===n.headers.get("content-type")?.split(";")[0]){iS(n);let{claims:r,jwt:a}=await iC(await n.text(),iN.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported),iP,nB(t),nF(t),t[ng]).then(iu.bind(void 0,t.client_id)).then(id.bind(void 0,e.issuer));is.set(n,a),i=r}else{if(t.userinfo_signed_response_alg)throw new nk("JWT UserInfo Response expected");iS(n);try{i=await n.json()}catch(e){throw new nk('failed to parse "response" body as JSON',{cause:e})}}if(!nC(i))throw new nk('"response" body must be a top level object');if(!nI(i.sub))throw new nk('"response" body "sub" property must be a non-empty string');if(r===ie);else{if(!nI(r))throw new nk('"expectedSubject" must be a non-empty string');if(i.sub!==r)throw new nk('unexpected "response" body "sub" value')}return i}async function ir(e,t,r,n,i,a,s){return await nG(e,t,i,a,s?.clientPrivateKey),a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(s?.[nf]||fetch)(n.href,{body:i,headers:Object.fromEntries(a.entries()),method:r,redirect:"manual",signal:s?.signal?nR(s.signal):null}).then(nO)}async function ii(e,t,r,n,i){let a=n1(e,"token_endpoint",n2(t,i));n.set("grant_type",r);let s=nN(i?.headers);return s.set("accept","application/json"),i?.DPoP!==void 0&&await nZ(s,i.DPoP,a,"POST",nB(t)),ir(e,t,"POST",a,n,s,i)}let ia=new WeakMap,is=new WeakMap;function io(e){if(!e.id_token)return;let t=ia.get(e);if(!t)throw TypeError('"ref" was already garbage collected or did not resolve from the proper sources');return t[0]}async function il(e,t,r,n=!1,i=!1){let a;if(nz(e),nQ(t),!nc(r,Response))throw TypeError('"response" must be an instance of Response');if(200!==r.status){let e;if(e=await ik(r))return e;throw new nk('"response" is not a conform Token Endpoint response')}iS(r);try{a=await r.json()}catch(e){throw new nk('failed to parse "response" body as JSON',{cause:e})}if(!nC(a))throw new nk('"response" body must be a top level object');if(!nI(a.access_token))throw new nk('"response" body "access_token" property must be a non-empty string');if(!nI(a.token_type))throw new nk('"response" body "token_type" property must be a non-empty string');if(a.token_type=a.token_type.toLowerCase(),"dpop"!==a.token_type&&"bearer"!==a.token_type)throw new nA("unsupported `token_type` value");if(void 0!==a.expires_in&&("number"!=typeof a.expires_in||a.expires_in<=0))throw new nk('"response" body "expires_in" property must be a positive number');if(!i&&void 0!==a.refresh_token&&!nI(a.refresh_token))throw new nk('"response" body "refresh_token" property must be a non-empty string');if(void 0!==a.scope&&"string"!=typeof a.scope)throw new nk('"response" body "scope" property must be a string');if(!n){if(void 0!==a.id_token&&!nI(a.id_token))throw new nk('"response" body "id_token" property must be a non-empty string');if(a.id_token){let{claims:r,jwt:n}=await iC(a.id_token,iN.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported),iP,nB(t),nF(t),t[ng]).then(iy.bind(void 0,["aud","exp","iat","iss","sub"])).then(ip.bind(void 0,e.issuer)).then(ic.bind(void 0,t.client_id));if(Array.isArray(r.aud)&&1!==r.aud.length){if(void 0===r.azp)throw new nk('ID Token "aud" (audience) claim includes additional untrusted audiences');if(r.azp!==t.client_id)throw new nk('unexpected ID Token "azp" (authorized party) claim value')}if(void 0!==r.auth_time&&(!Number.isFinite(r.auth_time)||1!==Math.sign(r.auth_time)))throw new nk('ID Token "auth_time" (authentication time) must be a positive number');ia.set(a,[r,n])}}return a}function iu(e,t){return void 0!==t.claims.aud?ic(e,t):t}function ic(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw new nk('unexpected JWT "aud" (audience) claim value')}else if(t.claims.aud!==e)throw new nk('unexpected JWT "aud" (audience) claim value');return t}function id(e,t){return void 0!==t.claims.iss?ip(e,t):t}function ip(e,t){if(t.claims.iss!==e)throw new nk('unexpected JWT "iss" (issuer) claim value');return t}let ih=new WeakSet;async function ig(e,t,r,n,i,a){if(nz(e),nQ(t),!ih.has(r))throw TypeError('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()');if(!nI(n))throw TypeError('"redirectUri" must be a non-empty string');if(!nI(i))throw TypeError('"codeVerifier" must be a non-empty string');let s=iR(r,"code");if(!s)throw new nk('no authorization code in "callbackParameters"');let o=new URLSearchParams(a?.additionalParameters);return o.set("redirect_uri",n),o.set("code_verifier",i),o.set("code",s),ii(e,t,"authorization_code",o,a)}let im={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation"};function iy(e,t){for(let r of e)if(void 0===t.claims[r])throw new nk(`JWT "${r}" (${im[r]}) claim missing`);return t}let ib=Symbol(),iv=Symbol();async function iw(e,t,r,n,i){let a=await il(e,t,r);if(n3(a))return a;if(!nI(a.id_token))throw new nk('"response" body "id_token" property must be a non-empty string');i??(i=t.default_max_age??iv);let s=io(a);if((t.require_auth_time||i!==iv)&&void 0===s.auth_time)throw new nk('ID Token "auth_time" (authentication time) claim missing');if(i!==iv){if("number"!=typeof i||i<0)throw TypeError('"maxAge" must be a non-negative number');let e=nq()+nB(t),r=nF(t);if(s.auth_time+i<e-r)throw new nk("too much time has elapsed since the last End-User authentication")}switch(n){case void 0:case ib:if(void 0!==s.nonce)throw new nk('unexpected ID Token "nonce" claim value');break;default:if(!nI(n))throw TypeError('"expectedNonce" must be a non-empty string');if(void 0===s.nonce)throw new nk('ID Token "nonce" claim missing');if(s.nonce!==n)throw new nk('unexpected ID Token "nonce" claim value')}return a}async function i_(e,t,r){let n=await il(e,t,r,!0);if(n3(n))return n;if(void 0!==n.id_token){if("string"==typeof n.id_token&&n.id_token.length)throw new nk("Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing");delete n.id_token}return n}function iS(e){if(e.bodyUsed)throw TypeError('"response" body has been used already')}async function iA(e,t){nz(e);let r=n1(e,"jwks_uri"),n=nN(t?.headers);return n.set("accept","application/json"),n.append("accept","application/jwk-set+json"),(t?.[nf]||fetch)(r.href,{headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:t?.signal?nR(t.signal):null}).then(nO)}async function ix(e){let t;if(!nc(e,Response))throw TypeError('"response" must be an instance of Response');if(200!==e.status)throw new nk('"response" is not a conform JSON Web Key Set response');iS(e);try{t=await e.json()}catch(e){throw new nk('failed to parse "response" body as JSON',{cause:e})}if(!nC(t))throw new nk('"response" body must be a top level object');if(!Array.isArray(t.keys))throw new nk('"response" body "keys" property must be an array');if(!Array.prototype.every.call(t.keys,nC))throw new nk('"response" body "keys" property members must be JWK formatted objects');return t}async function ik(e){if(e.status>399&&e.status<500){iS(e);try{let t=await e.json();if(nC(t)&&"string"==typeof t.error&&t.error.length)return void 0!==t.error_description&&"string"!=typeof t.error_description&&delete t.error_description,void 0!==t.error_uri&&"string"!=typeof t.error_uri&&delete t.error_uri,void 0!==t.algs&&"string"!=typeof t.algs&&delete t.algs,void 0!==t.scope&&"string"!=typeof t.scope&&delete t.scope,t}catch{}}}function iE(e){if("number"!=typeof e.modulusLength||e.modulusLength<2048)throw new nk(`${e.name} modulusLength must be at least 2048 bits`)}function iT(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(e){switch(e){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new nA}}(e.algorithm.namedCurve)};case"RSA-PSS":switch(iE(e.algorithm),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new nA}case"RSASSA-PKCS1-v1_5":return iE(e.algorithm),e.algorithm.name;case"Ed448":case"Ed25519":return e.algorithm.name}throw new nA}let iP=Symbol();async function iO(e,t,r,n){let i=`${e}.${t}`;if(!await crypto.subtle.verify(iT(r),r,n,nw(i)))throw new nk("JWT signature verification failed")}async function iC(e,t,r,n,i,a){let s,o,l,{0:u,1:c,2:d,length:p}=e.split(".");if(5===p){if(void 0!==a)e=await a(e),{0:u,1:c,2:d,length:p}=e.split(".");else throw new nA("JWE structure JWTs are not supported")}if(3!==p)throw new nk("Invalid JWT");try{s=JSON.parse(nw(n_(u)))}catch(e){throw new nk("failed to parse JWT Header body as base64url encoded JSON",{cause:e})}if(!nC(s))throw new nk("JWT Header must be a top level object");if(t(s),void 0!==s.crit)throw new nk('unexpected JWT "crit" header parameter');let f=n_(d);r!==iP&&(o=await r(s),await iO(u,c,o,f));try{l=JSON.parse(nw(n_(c)))}catch(e){throw new nk("failed to parse JWT Payload body as base64url encoded JSON",{cause:e})}if(!nC(l))throw new nk("JWT Payload must be a top level object");let h=nq()+n;if(void 0!==l.exp){if("number"!=typeof l.exp)throw new nk('unexpected JWT "exp" (expiration time) claim type');if(l.exp<=h-i)throw new nk('unexpected JWT "exp" (expiration time) claim value, timestamp is <= now()')}if(void 0!==l.iat&&"number"!=typeof l.iat)throw new nk('unexpected JWT "iat" (issued at) claim type');if(void 0!==l.iss&&"string"!=typeof l.iss)throw new nk('unexpected JWT "iss" (issuer) claim type');if(void 0!==l.nbf){if("number"!=typeof l.nbf)throw new nk('unexpected JWT "nbf" (not before) claim type');if(l.nbf>h+i)throw new nk('unexpected JWT "nbf" (not before) claim value, timestamp is > now()')}if(void 0!==l.aud&&"string"!=typeof l.aud&&!Array.isArray(l.aud))throw new nk('unexpected JWT "aud" (audience) claim type');return{header:s,claims:l,signature:f,key:o,jwt:e}}function iN(e,t,r){if(void 0!==e){if(r.alg!==e)throw new nk('unexpected JWT "alg" header parameter');return}if(Array.isArray(t)){if(!t.includes(r.alg))throw new nk('unexpected JWT "alg" header parameter');return}if("RS256"!==r.alg)throw new nk('unexpected JWT "alg" header parameter')}function iR(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw new nk(`"${t}" parameter must be provided only once`);return r}let ij=Symbol(),iI=Symbol();async function i$(e,t){let{ext:r,key_ops:n,use:i,...a}=t;return crypto.subtle.importKey("jwk",a,function(e,t){switch(e){case"PS256":case"PS384":case"PS512":return{name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`};case"RS256":case"RS384":case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`};case"ES256":case"ES384":return{name:"ECDSA",namedCurve:`P-${e.slice(-3)}`};case"ES512":return{name:"ECDSA",namedCurve:"P-521"};case"EdDSA":switch(t){case"Ed25519":case"Ed448":return t;default:throw new nA}default:throw new nA}}(e,t.crv),!0,["verify"])}async function iL(e,t,r){let{cookies:n,logger:i}=r,a=n[e],s=new Date;s.setTime(s.getTime()+9e5),i.debug(`CREATE_${e.toUpperCase()}`,{name:a.name,payload:t,COOKIE_TTL:900,expires:s});let o=await tZ({...r.jwt,maxAge:900,token:{value:t},salt:a.name}),l={...a.options,expires:s};return{name:a.name,value:o,options:l}}async function iD(e,t,r){try{let{logger:n,cookies:i,jwt:a}=r;if(n.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new S(`${e} cookie was missing`);let s=await tX({...a,token:t,salt:i[e].name});if(s?.value)return s.value;throw Error("Invalid cookie")}catch(t){throw new S(`${e} value could not be parsed`,{cause:t})}}function iM(e,t,r){let{logger:n,cookies:i}=t,a=i[e];n.debug(`CLEAR_${e.toUpperCase()}`,{cookie:a}),r.push({name:a.name,value:"",options:{...i[e].options,maxAge:0}})}function iU(e,t){return async function(r,n,i){let{provider:a,logger:s}=i;if(!a?.checks?.includes(e))return;let o=r?.[i.cookies[t].name];s.debug(`USE_${t.toUpperCase()}`,{value:o});let l=await iD(t,o,i);return iM(t,i,n),l}}let iB={async create(e){let t=nL(),r=await nD(t);return{cookie:await iL("pkceCodeVerifier",t,e),value:r}},use:iU("pkce","pkceCodeVerifier")},iF="encodedState",iq={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new S("State data was provided but the provider is not configured to use state");return}let n={origin:t,random:nL()},i=await tZ({secret:e.jwt.secret,token:n,salt:iF,maxAge:900});return{cookie:await iL("state",i,e),value:i}},use:iU("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await tX({secret:t.jwt.secret,token:e,salt:iF});if(r)return r;throw Error("Invalid state")}catch(e){throw new S("State could not be decoded",{cause:e})}}},iH={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=nL();return{cookie:await iL("nonce",t,e),value:t}},use:iU("nonce","nonce")},iz="encodedWebauthnChallenge",iQ={create:async(e,t,r)=>({cookie:await iL("webauthnChallenge",await tZ({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:iz,maxAge:900}),e)}),async use(e,t,r){let n=t?.[e.cookies.webauthnChallenge.name],i=await iD("webauthnChallenge",n,e),a=await tX({secret:e.jwt.secret,token:i,salt:iz});if(iM("webauthnChallenge",e,r),!a)throw new S("WebAuthn challenge was missing");return a}};async function iV(e,t,r){let n,i,a;let{logger:s,provider:o}=r,{token:l,userinfo:u}=o;if(l?.url&&"authjs.dev"!==l.url.host||u?.url&&"authjs.dev"!==u.url.host)n={issuer:o.issuer??"https://authjs.dev",token_endpoint:l?.url.toString(),userinfo_endpoint:u?.url.toString()};else{let e=new URL(o.issuer),t=await nj(e),r=await n$(e,t);if(!r.token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!r.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.");n=r}let c={client_id:o.clientId,client_secret:o.clientSecret,...o.client},d=[],p=await iq.use(t,d,r),f=function(e,t,r,n){var i;if(nz(e),nQ(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw TypeError('"parameters" must be an instance of URLSearchParams, or URL');if(iR(r,"response"))throw new nk('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');let a=iR(r,"iss"),s=iR(r,"state");if(!a&&e.authorization_response_iss_parameter_supported)throw new nk('response parameter "iss" (issuer) missing');if(a&&a!==e.issuer)throw new nk('unexpected "iss" (issuer) response parameter value');switch(n){case void 0:case iI:if(void 0!==s)throw new nk('unexpected "state" response parameter encountered');break;case ij:break;default:if(!nI(n))throw new nk('"expectedState" must be a non-empty string');if(void 0===s)throw new nk('response parameter "state" missing');if(s!==n)throw new nk('unexpected "state" response parameter value')}let o=iR(r,"error");if(o)return{error:o,error_description:iR(r,"error_description"),error_uri:iR(r,"error_uri")};let l=iR(r,"id_token"),u=iR(r,"token");if(void 0!==l||void 0!==u)throw new nA("implicit and hybrid flows are not supported");return i=new URLSearchParams(r),ih.add(i),i}(n,c,new URLSearchParams(e),o.checks.includes("state")?p:ij);if(n3(f)){let e={providerId:o.id,...f};throw s.debug("OAuthCallbackError",e),new O("OAuth Provider returned an error",e)}let h=await iB.use(t,d,r),g=o.callbackUrl;!r.isOnRedirectProxy&&o.redirectProxyUrl&&(g=o.redirectProxyUrl);let m=await ig(n,c,f,g,h??"auth",{[nf]:(...e)=>(!o.checks.includes("pkce")&&e[1]?.body instanceof URLSearchParams&&e[1].body.delete("code_verifier"),fetch(...e)),clientPrivateKey:o.token?.clientPrivateKey});if(o.token?.conform&&(m=await o.token.conform(m.clone())??m),i=function(e){if(!nc(e,Response))throw TypeError('"response" must be an instance of Response');let t=e.headers.get("www-authenticate");if(null===t)return;let r=[];for(let{1:e,index:n}of t.matchAll(n5))r.push([e,n]);if(r.length)return r.map(([e,r],n,i)=>{let a=i[n+1];return function(e,t){let r=t.split(n6).slice(1);if(!r.length)return{scheme:e.toLowerCase(),parameters:{}};r[r.length-1]=r[r.length-1].replace(/,$/,"");let n={};for(let e=1;e<r.length;e+=2){var i;let t=e;if('"'===r[t][0])for(;'"'!==r[t].slice(-1)&&++e<r.length;)r[t]+=r[e];n[r[t-1].replace(/^(?:, ?)|=$/g,"").toLowerCase()]=(i=r[t]).length>=2&&'"'===i[0]&&'"'===i[i.length-1]?i.slice(1,-1):i}return{scheme:e.toLowerCase(),parameters:n}}(e,a?t.slice(r,a[1]):t.slice(r))})}(m)){for(let e of i)console.log("challenge",e);throw Error("TODO: Handle www-authenticate challenges as needed")}let y={};if("oidc"===o.type){let e=await iH.use(t,d,r),i=await iw(n,c,m,e??ib);if(n3(i))throw console.log("error",i),Error("TODO: Handle OIDC response body error");let s=io(i);if(y=s,!1===o.idToken){let e=await n8(n,c,i.access_token);y=await it(n,c,s.sub,e)}a=i}else{let e=await i_(n,c,m);if(a=e,n3(e))throw console.log("error",e),Error("TODO: Handle OAuth 2.0 response body error");if(u?.request){let e=await u.request({tokens:a,provider:o});e instanceof Object&&(y=e)}else if(u?.url){let t=await n8(n,c,e.access_token);y=await t.json()}else throw TypeError("No userinfo endpoint configured")}return a.expires_in&&(a.expires_at=Math.floor(Date.now()/1e3)+Number(a.expires_in)),{...await iK(y,o,a,s),profile:y,cookies:d}}async function iK(e,t,r,n){try{let n=await t.profile(e,r);return{user:{...n,id:crypto.randomUUID(),email:n.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:n.id??crypto.randomUUID()}}}catch(r){n.debug("getProfile error details",e),n.error(new C(r,{provider:t.id}))}}async function iW(e,t,r,n){let i=await iY(e,t,r),{cookie:a}=await iQ.create(e,i.challenge,r);return{status:200,cookies:[...n??[],a],body:{action:"register",options:i},headers:{"Content-Type":"application/json"}}}async function iG(e,t,r,n){let i=await iX(e,t,r),{cookie:a}=await iQ.create(e,i.challenge);return{status:200,cookies:[...n??[],a],body:{action:"authenticate",options:i},headers:{"Content-Type":"application/json"}}}async function iJ(e,t,r){let n;let{adapter:i,provider:a}=e,s=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!s||"object"!=typeof s||!("id"in s)||"string"!=typeof s.id)throw new p("Invalid WebAuthn Authentication response");let o=i2(i1(s.id)),l=await i.getAuthenticator(o);if(!l)throw new p(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:o})}`);let{challenge:u}=await iQ.use(e,t.cookies,r);try{let r=a.getRelayingParty(e,t);n=await a.simpleWebAuthn.verifyAuthenticationResponse({...a.verifyAuthenticationOptions,expectedChallenge:u,response:s,authenticator:{...l,credentialDeviceType:l.credentialDeviceType,transports:i3(l.transports),credentialID:i1(l.credentialID),credentialPublicKey:i1(l.credentialPublicKey)},expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new z(e)}let{verified:c,authenticationInfo:d}=n;if(!c)throw new z("WebAuthn authentication response could not be verified");try{let{newCounter:e}=d;await i.updateAuthenticatorCounter(l.credentialID,e)}catch(e){throw new h(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:o,oldCounter:l.counter,newCounter:d.newCounter})}`,e)}let f=await i.getAccount(l.providerAccountId,a.id);if(!f)throw new p(`WebAuthn account not found in database: ${JSON.stringify({credentialID:o,providerAccountId:l.providerAccountId})}`);let g=await i.getUser(f.userId);if(!g)throw new p(`WebAuthn user not found in database: ${JSON.stringify({credentialID:o,providerAccountId:l.providerAccountId,userID:f.userId})}`);return{account:f,user:g}}async function iZ(e,t,r){var n;let i;let{provider:a}=e,s=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!s||"object"!=typeof s||!("id"in s)||"string"!=typeof s.id)throw new p("Invalid WebAuthn Registration response");let{challenge:o,registerData:l}=await iQ.use(e,t.cookies,r);if(!l)throw new p("Missing user registration data in WebAuthn challenge cookie");try{let r=a.getRelayingParty(e,t);i=await a.simpleWebAuthn.verifyRegistrationResponse({...a.verifyRegistrationOptions,expectedChallenge:o,response:s,expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new z(e)}if(!i.verified||!i.registrationInfo)throw new z("WebAuthn registration response could not be verified");let u={providerAccountId:i2(i.registrationInfo.credentialID),provider:e.provider.id,type:a.type},c={providerAccountId:u.providerAccountId,counter:i.registrationInfo.counter,credentialID:i2(i.registrationInfo.credentialID),credentialPublicKey:i2(i.registrationInfo.credentialPublicKey),credentialBackedUp:i.registrationInfo.credentialBackedUp,credentialDeviceType:i.registrationInfo.credentialDeviceType,transports:(n=s.response.transports,n?.join(","))};return{user:l,account:u,authenticator:c}}async function iX(e,t,r){let{provider:n,adapter:i}=e,a=r&&r.id?await i.listAuthenticatorsByUserId(r.id):null,s=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateAuthenticationOptions({...n.authenticationOptions,rpID:s.id,allowCredentials:a?.map(e=>({id:i1(e.credentialID),type:"public-key",transports:i3(e.transports)}))})}async function iY(e,t,r){let{provider:n,adapter:i}=e,a=r.id?await i.listAuthenticatorsByUserId(r.id):null,s=re(32),o=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateRegistrationOptions({...n.registrationOptions,userID:s,userName:r.email,userDisplayName:r.name??void 0,rpID:o.id,rpName:o.name,excludeCredentials:a?.map(e=>({id:i1(e.credentialID),type:"public-key",transports:i3(e.transports)}))})}function i0(e){let{provider:t,adapter:r}=e;if(!r)throw new x("An adapter is required for the WebAuthn provider");if(!t||"webauthn"!==t.type)throw new D("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function i1(e){return new Uint8Array(Buffer.from(e,"base64"))}function i2(e){return Buffer.from(e).toString("base64")}function i3(e){return e?e.split(","):void 0}async function i6(e,t,r,n){if(!t.provider)throw new D("Callback route called without provider");let{query:i,body:a,method:s,headers:o}=e,{provider:l,adapter:u,url:c,callbackUrl:d,pages:f,jwt:h,events:g,callbacks:y,session:{strategy:b,maxAge:v},logger:_}=t,S="jwt"===b;try{if("oauth"===l.type||"oidc"===l.type){let s;let o=l.authorization?.url.searchParams.get("response_mode")==="form_post"?a:i;if(t.isOnRedirectProxy&&o?.state){let e=await iq.decode(o.state,t);if(e?.origin&&new URL(e.origin).origin!==t.url.origin){let t=`${e.origin}?${new URLSearchParams(o)}`;return _.debug("Proxy redirecting to",t),{redirect:t,cookies:n}}}let p=await iV(o,e.cookies,t);p.cookies.length&&n.push(...p.cookies),_.debug("authorization result",p);let{user:m,account:b,profile:w}=p;if(!m||!b||!w)return{redirect:`${c}/signin`,cookies:n};if(u){let{getUserByAccount:e}=u;s=await e({providerAccountId:b.providerAccountId,provider:l.id})}let A=await i5({user:s??m,account:b,profile:w},t);if(A)return{redirect:A,cookies:n};let{user:x,session:k,isNewUser:E}=await nu(r.value,m,b,t);if(S){let e={name:x.name,email:x.email,picture:x.image,sub:x.id?.toString()},i=await y.jwt({token:e,user:x,account:b,profile:w,isNewUser:E,trigger:E?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*v);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:k.sessionToken,options:{...t.cookies.sessionToken.options,expires:k.expires}});if(await g.signIn?.({user:x,account:b,profile:w,isNewUser:E}),E&&f.newUser)return{redirect:`${f.newUser}${f.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("email"===l.type){let e=i?.token,a=i?.email;if(!e){let t=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!e}});throw t.name="Configuration",t}let s=l.secret??t.secret,o=await u.useVerificationToken({identifier:a,token:await t7(`${e}${s}`)}),c=!!o,p=c&&o.expires.valueOf()<Date.now();if(!c||p||a&&o.identifier!==a)throw new U({hasInvite:c,expired:p});let{identifier:m}=o,b=await u.getUserByEmail(m)??{id:crypto.randomUUID(),email:m,emailVerified:null},w={providerAccountId:b.email,userId:b.id,type:"email",provider:l.id},_=await i5({user:b,account:w},t);if(_)return{redirect:_,cookies:n};let{user:A,session:x,isNewUser:k}=await nu(r.value,b,w,t);if(S){let e={name:A.name,email:A.email,picture:A.image,sub:A.id?.toString()},i=await y.jwt({token:e,user:A,account:w,isNewUser:k,trigger:k?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*v);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:x.sessionToken,options:{...t.cookies.sessionToken.options,expires:x.expires}});if(await g.signIn?.({user:A,account:w,isNewUser:k}),k&&f.newUser)return{redirect:`${f.newUser}${f.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("credentials"===l.type&&"POST"===s){let e=a??{};Object.entries(i??{}).forEach(([e,t])=>c.searchParams.set(e,t));let u=await l.authorize(e,new Request(c,{headers:o,method:s,body:JSON.stringify(a)}));if(u)u.id=u.id?.toString()??crypto.randomUUID();else throw new w;let p={providerAccountId:u.id,type:"credentials",provider:l.id},f=await i5({user:u,account:p,credentials:e},t);if(f)return{redirect:f,cookies:n};let m={name:u.name,email:u.email,picture:u.image,sub:u.id},b=await y.jwt({token:m,user:u,account:p,isNewUser:!1,trigger:"signIn"});if(null===b)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,i=await h.encode({...h,token:b,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*v);let s=r.chunk(i,{expires:a});n.push(...s)}return await g.signIn?.({user:u,account:p}),{redirect:d,cookies:n}}if("webauthn"===l.type&&"POST"===s){let i,a,s;let o=e.body?.action;if("string"!=typeof o||"authenticate"!==o&&"register"!==o)throw new p("Invalid action parameter");let l=i0(t);switch(o){case"authenticate":{let t=await iJ(l,e,n);i=t.user,a=t.account;break}case"register":{let r=await iZ(t,e,n);i=r.user,a=r.account,s=r.authenticator}}await i5({user:i,account:a},t);let{user:u,isNewUser:c,session:m,account:b}=await nu(r.value,i,a,t);if(!b)throw new p("Error creating or finding account");if(s&&u.id&&await l.adapter.createAuthenticator({...s,userId:u.id}),S){let e={name:u.name,email:u.email,picture:u.image,sub:u.id?.toString()},i=await y.jwt({token:e,user:u,account:b,isNewUser:c,trigger:c?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*v);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:m.sessionToken,options:{...t.cookies.sessionToken.options,expires:m.expires}});if(await g.signIn?.({user:u,account:b,isNewUser:c}),c&&f.newUser)return{redirect:`${f.newUser}${f.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}throw new D(`Callback for provider type (${l.type}) is not supported`)}catch(t){if(t instanceof p)throw t;let e=new m(t,{provider:l.id});throw _.debug("callback route error details",{method:s,query:i,body:a}),e}}async function i5(e,t){let r;let{signIn:n,redirect:i}=t.callbacks;try{r=await n(e)}catch(e){if(e instanceof p)throw e;throw new g(e)}if(!r)throw new g("AccessDenied");if("string"==typeof r)return await i({url:r,baseUrl:t.url.origin})}async function i4(e,t,r,n,i){let{adapter:a,jwt:s,events:o,callbacks:l,logger:u,session:{strategy:c,maxAge:d}}=e,p={body:null,headers:{"Content-Type":"application/json"},cookies:r},f=t.value;if(!f)return p;if("jwt"===c){try{let r=e.cookies.sessionToken.name,a=await s.decode({...s,token:f,salt:r});if(!a)throw Error("Invalid JWT");let u=await l.jwt({token:a,...n&&{trigger:"update"},session:i}),c=nl(d);if(null!==u){let e={user:{name:u.name,email:u.email,image:u.picture},expires:c.toISOString()},n=await l.session({session:e,token:u});p.body=n;let i=await s.encode({...s,token:u,salt:r}),a=t.chunk(i,{expires:c});p.cookies?.push(...a),await o.session?.({session:n,token:u})}else p.cookies?.push(...t.clean())}catch(e){u.error(new A(e)),p.cookies?.push(...t.clean())}return p}try{let{getSessionAndUser:r,deleteSession:s,updateSession:u}=a,c=await r(f);if(c&&c.session.expires.valueOf()<Date.now()&&(await s(f),c=null),c){let{user:t,session:r}=c,a=e.session.updateAge,s=r.expires.valueOf()-1e3*d+1e3*a,h=nl(d);s<=Date.now()&&await u({sessionToken:f,expires:h});let g=await l.session({session:{...r,user:t},user:t,newSession:i,...n?{trigger:"update"}:{}});p.body=g,p.cookies?.push({name:e.cookies.sessionToken.name,value:f,options:{...e.cookies.sessionToken.options,expires:h}}),await o.session?.({session:g})}else f&&p.cookies?.push(...t.clean())}catch(e){u.error(new N(e))}return p}async function i8(e,t){let r,n;let{logger:i,provider:a}=t,s=a.authorization?.url;if(!s||"authjs.dev"===s.host){let e=new URL(a.issuer),t=await nj(e),r=await n$(e,t);if(!r.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");s=new URL(r.authorization_endpoint)}let o=s.searchParams,l=a.callbackUrl;!t.isOnRedirectProxy&&a.redirectProxyUrl&&(l=a.redirectProxyUrl,n=a.callbackUrl,i.debug("using redirect proxy",{redirect_uri:l,data:n}));let u=Object.assign({response_type:"code",client_id:a.clientId,redirect_uri:l,...a.authorization?.params},Object.fromEntries(a.authorization?.url.searchParams??[]),e);for(let e in u)o.set(e,u[e]);let c=[],d=await iq.create(t,n);if(d&&(o.set("state",d.value),c.push(d.cookie)),a.checks?.includes("pkce")){if(r&&!r.code_challenge_methods_supported?.includes("S256"))"oidc"===a.type&&(a.checks=["nonce"]);else{let{value:e,cookie:r}=await iB.create(t);o.set("code_challenge",e),o.set("code_challenge_method","S256"),c.push(r)}}let p=await iH.create(t);return p&&(o.set("nonce",p.value),c.push(p.cookie)),"oidc"!==a.type||s.searchParams.has("scope")||s.searchParams.set("scope","openid profile email"),i.debug("authorization url is ready",{url:s,cookies:c,provider:a}),{redirect:s.toString(),cookies:c}}async function i9(e,t){let r;let{body:n}=e,{provider:i,callbacks:a,adapter:s}=t,o=(i.normalizeIdentifier??function(e){if(!e)throw Error("Missing email from request body.");let[t,r]=e.toLowerCase().trim().split("@");return r=r.split(",")[0],`${t}@${r}`})(n?.email),l={id:crypto.randomUUID(),email:o,emailVerified:null},u=await s.getUserByEmail(o)??l,c={providerAccountId:o,userId:u.id,type:"email",provider:i.id};try{r=await a.signIn({user:u,account:c,email:{verificationRequest:!0}})}catch(e){throw new g(e)}if(!r)throw new g("AccessDenied");if("string"==typeof r)return{redirect:await a.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:d,theme:p}=t,f=await i.generateVerificationToken?.()??re(32),h=new Date(Date.now()+(i.maxAge??86400)*1e3),m=i.secret??t.secret,y=new URL(t.basePath,t.url.origin),b=i.sendVerificationRequest({identifier:o,token:f,expires:h,url:`${y}/callback/${i.id}?${new URLSearchParams({callbackUrl:d,token:f,email:o})}`,provider:i,theme:p,request:new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}),v=s.createVerificationToken?.({identifier:o,token:await t7(`${f}${m}`),expires:h});return await Promise.all([b,v]),{redirect:`${y}/verify-request?${new URLSearchParams({provider:i.id,type:i.type})}`}}async function i7(e,t,r){let n=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:n,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:n,cookies:i}=await i8(e.query,r);return i&&t.push(...i),{redirect:n,cookies:t}}case"email":return{...await i9(e,r),cookies:t};default:return{redirect:n,cookies:t}}}async function ae(e,t,r){let{jwt:n,events:i,callbackUrl:a,logger:s,session:o}=r,l=t.value;if(!l)return{redirect:a,cookies:e};try{if("jwt"===o.strategy){let e=r.cookies.sessionToken.name,t=await n.decode({...n,token:l,salt:e});await i.signOut?.({token:t})}else{let e=await r.adapter?.deleteSession(l);await i.signOut?.({session:e})}}catch(e){s.error(new I(e))}return e.push(...t.clean()),{redirect:a,cookies:e}}async function at(e,t){let{adapter:r,jwt:n,session:{strategy:i}}=e,a=t.value;if(!a)return null;if("jwt"===i){let t=e.cookies.sessionToken.name,r=await n.decode({...n,token:a,salt:t});if(r&&r.sub)return{id:r.sub,name:r.name,email:r.email,image:r.picture}}else{let e=await r?.getSessionAndUser(a);if(e)return e.user}return null}async function ar(e,t,r,n){let i=i0(t),{provider:a}=i,{action:s}=e.query??{};if("register"!==s&&"authenticate"!==s&&void 0!==s)return{status:400,body:{error:"Invalid action"},cookies:n,headers:{"Content-Type":"application/json"}};let o=await at(t,r),l=o?{user:o,exists:!0}:await a.getUserInfo(t,e),u=l?.user;switch(function(e,t,r){let{user:n,exists:i=!1}=r??{};switch(e){case"authenticate":return"authenticate";case"register":if(n&&t===i)return"register";break;case void 0:if(!t){if(!n||i)return"authenticate";return"register"}}return null}(s,!!o,l)){case"authenticate":return iG(i,e,u,n);case"register":if("string"==typeof u?.email)return iW(i,e,u,n);break;default:return{status:400,body:{error:"Invalid request"},cookies:n,headers:{"Content-Type":"application/json"}}}}async function an(e,t){let{action:r,providerId:n,error:i,method:a}=e,s=t.skipCSRFCheck===ai,{options:o,cookies:l}=await rc({authOptions:t,action:r,providerId:n,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===a,csrfDisabled:s}),u=new d(o.cookies.sessionToken,e.cookies,o.logger);if("GET"===a){let t=no({...o,query:e.query,cookies:l});switch(r){case"callback":return await i6(e,o,u,l);case"csrf":return t.csrf(s,o,l);case"error":return t.error(i);case"providers":return t.providers(o.providers);case"session":return await i4(o,u,l);case"signin":return t.signin(n,i);case"signout":return t.signout();case"verify-request":return t.verifyRequest();case"webauthn-options":return await ar(e,o,u,l)}}else{let{csrfTokenVerified:t}=o;switch(r){case"callback":return"credentials"===o.provider.type&&rr(r,t),await i6(e,o,u,l);case"session":return rr(r,t),await i4(o,u,l,!0,e.body?.data);case"signin":return rr(r,t),await i7(e,l,o);case"signout":return rr(r,t),await ae(l,u,o)}}throw new $(`Cannot handle action: ${r}`)}let ai=Symbol("skip-csrf-check"),aa=Symbol("return-type-raw");function as(e,t,r,n,i){let a;let s=i?.basePath,o=n.AUTH_URL??n.NEXTAUTH_URL;if(o)a=new URL(o),s&&"/"!==s&&"/"!==a.pathname&&(a.pathname!==s&&t6(i).warn("env-url-basepath-mismatch"),a.pathname="/");else{let e=r.get("x-forwarded-host")??r.get("host"),n=r.get("x-forwarded-proto")??t??"https",i=n.endsWith(":")?n:n+":";a=new URL(`${i}//${e}`)}let l=a.toString().replace(/\/$/,"");if(s){let t=s?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${l}/${t}/${e}`)}return new URL(`${l}/${e}`)}async function ao(e,t){let r=t6(t),n=await t8(e,t);if(!n)return Response.json("Bad request.",{status:400});let i=function(e,t){let{url:r}=e,n=[];if(!K&&t.debug&&n.push("debug-enabled"),!t.trustHost)return new M(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new T("Please define a `secret`");let i=e.query?.callbackUrl;if(i&&!W(i,r.origin))return new v(`Invalid callback URL. Received: ${i}`);let{callbackUrl:a}=c(t.useSecureCookies??"https:"===r.protocol),s=e.cookies?.[t.cookies?.callbackUrl?.name??a.name];if(s&&!W(s,r.origin))return new v(`Invalid callback URL. Received: ${s}`);let o=!1;for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e;let{authorization:r,token:n,userinfo:i}=t;if("string"==typeof r||r?.url?"string"==typeof n||n?.url?"string"==typeof i||i?.url||(e="userinfo"):e="token":e="authorization",e)return new _(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required`)}if("credentials"===t.type)G=!0;else if("email"===t.type)J=!0;else if("webauthn"===t.type){var l;if(Z=!0,t.simpleWebAuthnBrowserVersion&&(l=t.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(l)))return new p(`Invalid provider config for "${t.id}": simpleWebAuthnBrowserVersion "${t.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(t.enableConditionalUI){if(o)return new q("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(o=!0,!Object.values(t.formFields).some(e=>e.autocomplete&&e.autocomplete.toString().indexOf("webauthn")>-1))return new H(`Provider "${t.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(G){let e=t.session?.strategy==="database",r=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&r)return new L("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize}))return new E("Must define an authorize() handler to use credentials authentication provider")}let{adapter:u,session:d}=t,f=[];if(J||d?.strategy==="database"||!d?.strategy&&u){if(J){if(!u)return new x("Email login requires an adapter");f.push(...X)}else{if(!u)return new x("Database session requires an adapter");f.push(...Y)}}if(Z){if(!t.experimental?.enableWebAuthn)return new V("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(n.push("experimental-webauthn"),!u)return new x("WebAuthn requires an adapter");f.push(...ee)}if(u){let e=f.filter(e=>!(e in u));if(e.length)return new k(`Required adapter methods were missing: ${e.join(", ")}`)}return K||(K=!0),n}(n,t);if(Array.isArray(i))i.forEach(r.warn);else if(i){if(r.error(i),!new Set(["signin","signout","error","verify-request"]).has(n.action)||"GET"!==n.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:e,theme:a}=t,s=e?.error&&n.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||s)return s&&r.error(new y(`The error page ${e?.error} should not require authentication`)),t9(no({theme:a}).error("Configuration"));let o=`${n.url.origin}${e.error}?error=Configuration`;return Response.redirect(o)}let a=e.headers?.has("X-Auth-Return-Redirect"),s=t.raw===aa;try{let e=await an(n,t);if(s)return e;let r=t9(e),i=r.headers.get("Location");if(!a||!i)return r;return Response.json({url:i},{headers:r.headers})}catch(d){r.error(d);let i=d instanceof p;if(i&&s&&!a)throw d;if("POST"===e.method&&"session"===n.action)return Response.json(null,{status:400});let o=new URLSearchParams({error:d instanceof p&&F.has(d.type)?d.type:"Configuration"});d instanceof w&&o.set("code",d.code);let l=i&&d.kind||"error",u=t.pages?.[l]??`${t.basePath}/${l.toLowerCase()}`,c=`${n.url.origin}${u}?${o}`;if(a)return Response.json({url:c});return Response.redirect(c)}}var al=r(33573);function au(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:n,origin:i}=e.nextUrl;return new al.NextRequest(n.replace(i,r),e)}function ac(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if("/"===r)return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),function(e,t,r=!1){try{let n=e.AUTH_URL;n&&(t.basePath?r||t6(t).warn("env-url-basepath-redundant"):t.basePath=new URL(n).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let r=e.AUTH_SECRET;for(let n of(r&&t.secret.push(r),[1,2,3])){let r=e[`AUTH_SECRET_${n}`];r&&t.secret.unshift(r)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??"production"!==e.NODE_ENV)),t.providers=t.providers.map(t=>{let{id:r}="function"==typeof t?t({}):t,n=r.toUpperCase().replace(/-/g,"_"),i=e[`AUTH_${n}_ID`],a=e[`AUTH_${n}_SECRET`],s=e[`AUTH_${n}_ISSUER`],o=e[`AUTH_${n}_KEY`],l="function"==typeof t?t({clientId:i,clientSecret:a,issuer:s,apiKey:o}):t;return"oauth"===l.type||"oidc"===l.type?(l.clientId??(l.clientId=i),l.clientSecret??(l.clientSecret=a),l.issuer??(l.issuer=s)):"email"===l.type&&(l.apiKey??(l.apiKey=o)),l})}(process.env,e,!0)}}var ad=r(70574);async function ap(e,t){return ao(new Request(as("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...e){let r=await t.callbacks?.session?.(...e)??{...e[0].session,expires:e[0].session.expires?.toISOString?.()??e[0].session.expires};return{user:e[0].user??e[0].token,...r}}}})}function af(e){return"function"==typeof e}function ah(e,t){return"function"==typeof e?async(...r)=>{if(!r.length){let r=(0,ad.headers)(),n=await e(void 0);return t?.(n),ap(r,n).then(e=>e.json())}if(r[0]instanceof Request){let n=r[0],i=r[1],a=await e(n);return t?.(a),ag([n,i],a)}if(af(r[0])){let n=r[0];return async(...r)=>{let i=await e(r[0]);return t?.(i),ag(r,i,n)}}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1],a=await e(n);return t?.(a),ap(new Headers(n.headers),a).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",t):i.appendHeader("set-cookie",t);return t})}:(...t)=>{if(!t.length)return ap((0,ad.headers)(),e).then(e=>e.json());if(t[0]instanceof Request)return ag([t[0],t[1]],e);if(af(t[0])){let r=t[0];return async(...t)=>ag(t,e,r).then(e=>e)}let r="req"in t[0]?t[0].req:t[0],n="res"in t[0]?t[0].res:t[1];return ap(new Headers(r.headers),e).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in n?n.headers.append("set-cookie",t):n.appendHeader("set-cookie",t);return t})}}async function ag(e,t,r){let n=au(e[0]),i=await ap(n.headers,t),a=await i.json(),s=!0;t.callbacks?.authorized&&(s=await t.callbacks.authorized({request:n,auth:a}));let o=al.NextResponse.next?.();if(s instanceof Response){o=s;let e=s.headers.get("Location"),{pathname:r}=n.nextUrl;e&&function(e,t,r){let n=t.replace(`${e}/`,""),i=Object.values(r.pages??{});return(am.has(n)||i.includes(t))&&t===e}(r,new URL(e).pathname,t)&&(s=!0)}else if(r)n.auth=a,o=await r(n,e[1])??al.NextResponse.next();else if(!s){let e=t.pages?.signIn??`${t.basePath}/signin`;if(n.nextUrl.pathname!==e){let t=n.nextUrl.clone();t.pathname=e,t.searchParams.set("callbackUrl",n.nextUrl.href),o=al.NextResponse.redirect(t)}}let l=new Response(o?.body,o);for(let e of i.headers.getSetCookie())l.headers.append("set-cookie",e);return l}let am=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var ay=r(9965);async function ab(e,t={},r,n){let i=new Headers((0,ad.headers)()),{redirect:a=!0,redirectTo:s,...o}=t instanceof FormData?Object.fromEntries(t):t,l=s?.toString()??i.get("Referer")??"/",u=as("signin",i.get("x-forwarded-proto"),i,process.env,n);if(!e)return u.searchParams.append("callbackUrl",l),a&&(0,ay.redirect)(u.toString()),u.toString();let c=`${u}/${e}?${new URLSearchParams(r)}`,d={};for(let t of n.providers){let{options:r,...n}="function"==typeof t?t():t,i=r?.id??n.id;if(i===e){d={id:i,type:r?.type??n.type};break}}if(!d.id){let e=`${u}?${new URLSearchParams({callbackUrl:l})}`;return a&&(0,ay.redirect)(e),e}"credentials"===d.type&&(c=c.replace("signin","callback")),i.set("Content-Type","application/x-www-form-urlencoded");let p=new Request(c,{method:"POST",headers:i,body:new URLSearchParams({...o,callbackUrl:l})}),f=await ao(p,{...n,raw:aa,skipCSRFCheck:ai});for(let e of f?.cookies??[])(0,ad.cookies)().set(e.name,e.value,e.options);let h=(f instanceof Response?f.headers.get("Location"):f.redirect)??c;return a?(0,ay.redirect)(h):h}async function av(e,t){let r=new Headers((0,ad.headers)());r.set("Content-Type","application/x-www-form-urlencoded");let n=as("signout",r.get("x-forwarded-proto"),r,process.env,t),i=new URLSearchParams({callbackUrl:e?.redirectTo??r.get("Referer")??"/"}),a=new Request(n,{method:"POST",headers:r,body:i}),s=await ao(a,{...t,raw:aa,skipCSRFCheck:ai});for(let e of s?.cookies??[])(0,ad.cookies)().set(e.name,e.value,e.options);return e?.redirect??!0?(0,ay.redirect)(s.redirect):s}async function aw(e,t){let r=new Headers((0,ad.headers)());r.set("Content-Type","application/json");let n=new Request(as("session",r.get("x-forwarded-proto"),r,process.env,t),{method:"POST",headers:r,body:JSON.stringify({data:e})}),i=await ao(n,{...t,raw:aa,skipCSRFCheck:ai});for(let e of i?.cookies??[])(0,ad.cookies)().set(e.name,e.value,e.options);return i.body}function a_(e){if("function"==typeof e){let t=async t=>{let r=await e(t);return ac(r),ao(au(t),r)};return{handlers:{GET:t,POST:t},auth:ah(e,e=>ac(e)),signIn:async(t,r,n)=>{let i=await e(void 0);return ac(i),ab(t,r,n,i)},signOut:async t=>{let r=await e(void 0);return ac(r),av(t,r)},unstable_update:async t=>{let r=await e(void 0);return ac(r),aw(t,r)}}}ac(e);let t=t=>ao(au(t),e);return{handlers:{GET:t,POST:t},auth:ah(e),signIn:(t,r,n)=>ab(t,r,n,e),signOut:t=>av(t,e),unstable_update:t=>aw(t,e)}}},90075:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ew});var n=r(22037),i=r(57147);let a=new Map,s=new Map,o=Symbol("OriginError"),l={};class u extends Promise{constructor(e,t,r,n,i={}){let s,l;super((e,t)=>{s=e,l=t}),this.tagged=Array.isArray(e.raw),this.strings=e,this.args=t,this.handler=r,this.canceller=n,this.options=i,this.state=null,this.statement=null,this.resolve=e=>(this.active=!1,s(e)),this.reject=e=>(this.active=!1,l(e)),this.active=!1,this.cancelled=null,this.executed=!1,this.signature="",this[o]=this.handler.debug?Error():this.tagged&&function(e){if(a.has(e))return a.get(e);let t=Error.stackTraceLimit;return Error.stackTraceLimit=4,a.set(e,Error()),Error.stackTraceLimit=t,a.get(e)}(this.strings)}get origin(){return(this.handler.debug?this[o].stack:this.tagged&&s.has(this.strings)?s.get(this.strings):s.set(this.strings,this[o].stack).get(this.strings))||""}static get[Symbol.species](){return Promise}cancel(){return this.canceller&&(this.canceller(this),this.canceller=null)}simple(){return this.options.simple=!0,this.options.prepare=!1,this}async readable(){return this.simple(),this.streaming=!0,this}async writable(){return this.simple(),this.streaming=!0,this}cursor(e=1,t){let r;return(this.options.simple=!1,"function"==typeof e&&(t=e,e=1),this.cursorRows=e,"function"==typeof t)?(this.cursorFn=t,this):{[Symbol.asyncIterator]:()=>({next:()=>{if(this.executed&&!this.active)return{done:!0};r&&r();let e=new Promise((e,t)=>{this.cursorFn=t=>(e({value:t,done:!1}),new Promise(e=>r=e)),this.resolve=()=>(this.active=!1,e({done:!0})),this.reject=e=>(this.active=!1,t(e))});return this.execute(),e},return:()=>(r&&r(l),{done:!0})})}}describe(){return this.options.simple=!1,this.onlyDescribe=this.options.prepare=!0,this}stream(){throw Error(".stream has been renamed to .forEach")}forEach(e){return this.forEachFn=e,this.handle(),this}raw(){return this.isRaw=!0,this}values(){return this.isRaw="values",this}async handle(){!this.executed&&(this.executed=!0)&&await 1&&this.handler(this)}execute(){return this.handle(),this}then(){return this.handle(),super.then.apply(this,arguments)}catch(){return this.handle(),super.catch.apply(this,arguments)}finally(){return this.handle(),super.finally.apply(this,arguments)}}class c extends Error{constructor(e){super(e.message),this.name=this.constructor.name,Object.assign(this,e)}}let d={connection:function e(t,r,n){let{host:i,port:a}=n||r,s=Object.assign(Error("write "+t+" "+(r.path||i+":"+a)),{code:t,errno:t,address:r.path||i},r.path?{}:{port:a});return Error.captureStackTrace(s,e),s},postgres:function e(t){let r=new c(t);return Error.captureStackTrace(r,e),r},generic:function e(t,r){let n=Object.assign(Error(t+": "+r),{code:t});return Error.captureStackTrace(n,e),n},notSupported:function e(t){let r=Object.assign(Error(t+" (B) is not supported"),{code:"MESSAGE_NOT_SUPPORTED",name:t});return Error.captureStackTrace(r,e),r}};class p{then(){k()}catch(){k()}finally(){k()}}class f extends p{constructor(e){super(),this.value=N(e)}}class h extends p{constructor(e,t,r){super(),this.value=e,this.type=t,this.array=r}}class g extends p{constructor(e,t){super(),this.first=e,this.rest=t}build(e,t,r,n){let i=x.map(([t,r])=>({fn:r,i:e.search(t)})).sort((e,t)=>e.i-t.i).pop();return -1===i.i?C(this.first,n):i.fn(this.first,this.rest,t,r,n)}}function m(e,t,r,n){let i=e instanceof h?e.value:e;if(void 0===i&&(e instanceof h?e.value=n.transform.undefined:i=e=n.transform.undefined,void 0===i))throw d.generic("UNDEFINED_VALUE","Undefined values are not allowed");return"$"+r.push(e instanceof h?(t.push(e.value),e.array?e.array[e.type||R(e.value)]||e.type||function e(t){return Array.isArray(t)?e(t[0]):"string"==typeof t?1009:0}(e.value):e.type):(t.push(e),R(e)))}let y=O({string:{to:25,from:null,serialize:e=>""+e},number:{to:0,from:[21,23,26,700,701],serialize:e=>""+e,parse:e=>+e},json:{to:114,from:[114,3802],serialize:e=>JSON.stringify(e),parse:e=>JSON.parse(e)},boolean:{to:16,from:16,serialize:e=>!0===e?"t":"f",parse:e=>"t"===e},date:{to:1184,from:[1082,1114,1184],serialize:e=>(e instanceof Date?e:new Date(e)).toISOString(),parse:e=>new Date(e)},bytea:{to:17,from:17,serialize:e=>"\\x"+Buffer.from(e).toString("hex"),parse:e=>Buffer.from(e.slice(2),"hex")}});function b(e,t,r,n,i,a){for(let s=1;s<e.strings.length;s++)t+=v(t,r,n,i,a)+e.strings[s],r=e.args[s];return t}function v(e,t,r,n,i){return t instanceof g?t.build(e,r,n,i):t instanceof u?w(t,r,n,i):t instanceof f?t.value:t&&t[0]instanceof u?t.reduce((e,t)=>e+" "+w(t,r,n,i),""):m(t,r,n,i)}function w(e,t,r,n){return e.fragment=!0,b(e,e.strings[0],e.args[0],t,r,n)}function _(e,t,r,n,i){return e.map(e=>"("+n.map(n=>v("values",e[n],t,r,i)).join(",")+")").join(",")}function S(e,t,r,n,i){let a=Array.isArray(e[0]),s=t.length?t.flat():Object.keys(a?e[0]:e);return _(a?e:[e],r,n,s,i)}function A(e,t,r,n,i){let a;return("string"==typeof e&&(e=[e].concat(t)),Array.isArray(e))?C(e,i):(t.length?t.flat():Object.keys(e)).map(t=>((a=e[t])instanceof u?w(a,r,n,i):a instanceof f?a.value:m(a,r,n,i))+" as "+N(i.transform.column.to?i.transform.column.to(t):t)).join(",")}let x=Object.entries({values:S,in:(...e)=>{let t=S(...e);return"()"===t?"(null)":t},select:A,as:A,returning:A,"\\(":A,update:(e,t,r,n,i)=>(t.length?t.flat():Object.keys(e)).map(t=>N(i.transform.column.to?i.transform.column.to(t):t)+"="+v("values",e[t],r,n,i)),insert(e,t,r,n,i){let a=t.length?t.flat():Object.keys(Array.isArray(e)?e[0]:e);return"("+C(a,i)+")values"+_(Array.isArray(e)?e:[e],r,n,a,i)}}).map(([e,t])=>[RegExp("((?:^|[\\s(])"+e+"(?:$|[\\s(]))(?![\\s\\S]*\\1)","i"),t]);function k(){throw d.generic("NOT_TAGGED_CALL","Query not called as a tagged template literal")}let E=y.serializers,T=y.parsers,P=function(e){let t=O(e||{});return{serializers:Object.assign({},E,t.serializers),parsers:Object.assign({},T,t.parsers)}};function O(e){return Object.keys(e).reduce((t,r)=>(e[r].from&&[].concat(e[r].from).forEach(n=>t.parsers[n]=e[r].parse),e[r].serialize&&(t.serializers[e[r].to]=e[r].serialize,e[r].from&&[].concat(e[r].from).forEach(n=>t.serializers[n]=e[r].serialize)),t),{parsers:{},serializers:{}})}function C(e,{transform:{column:t}}){return e.map(e=>N(t.to?t.to(e):e)).join(",")}let N=function(e){return'"'+e.replace(/"/g,'""').replace(/\./g,'"."')+'"'},R=function e(t){return t instanceof h?t.type:t instanceof Date?1184:t instanceof Uint8Array?17:!0===t||!1===t?16:"bigint"==typeof t?20:Array.isArray(t)?e(t[0]):0},j=/\\/g,I=/"/g,$=function e(t,r,n,i){if(!1===Array.isArray(t))return t;if(!t.length)return"{}";let a=t[0],s=1020===i?";":",";return Array.isArray(a)&&!a.type?"{"+t.map(t=>e(t,r,n,i)).join(s)+"}":"{"+t.map(e=>{if(void 0===e&&void 0===(e=n.transform.undefined))throw d.generic("UNDEFINED_VALUE","Undefined values are not allowed");return null===e?"null":'"'+(r?r(e.type?e.value:e):""+e).replace(j,"\\\\").replace(I,'\\"')+'"'}).join(s)+"}"},L={i:0,char:null,str:"",quoted:!1,last:0},D=e=>{let t=e[0];for(let r=1;r<e.length;r++)t+="_"===e[r]?e[++r].toUpperCase():e[r];return t},M=e=>{let t=e[0].toUpperCase();for(let r=1;r<e.length;r++)t+="_"===e[r]?e[++r].toUpperCase():e[r];return t},U=e=>e.replace(/_/g,"-"),B=e=>e.replace(/([A-Z])/g,"_$1").toLowerCase(),F=e=>(e.slice(0,1)+e.slice(1).replace(/([A-Z])/g,"_$1")).toLowerCase(),q=e=>e.replace(/-/g,"_");function H(e){return function t(r,n){return"object"==typeof r&&null!==r&&(114===n.type||3802===n.type)?Array.isArray(r)?r.map(e=>t(e,n)):Object.entries(r).reduce((r,[i,a])=>Object.assign(r,{[e(i)]:t(a,n)}),{}):r}}D.column={from:D},D.value={from:H(D)},B.column={to:B};let z={...D};z.column.to=B,M.column={from:M},M.value={from:H(M)},F.column={to:F};let Q={...M};Q.column.to=F,U.column={from:U},U.value={from:H(U)},q.column={to:q};let V={...U};V.column.to=q;var K=r(41808),W=r(24404),G=r(6113),J=r(12781),Z=r(4074);class X extends Array{constructor(){super(),Object.defineProperties(this,{count:{value:null,writable:!0},state:{value:null,writable:!0},command:{value:null,writable:!0},columns:{value:null,writable:!0},statement:{value:null,writable:!0}})}static get[Symbol.species](){return Array}}let Y=function(e=[]){let t=e.slice(),r=0;return{get length(){return t.length-r},remove:e=>{let r=t.indexOf(e);return -1===r?null:(t.splice(r,1),e)},push:e=>(t.push(e),e),shift:()=>{let e=t[r++];return r===t.length?(r=0,t=[]):t[r-1]=void 0,e}}},ee=Buffer.allocUnsafe(256),et=Object.assign(function(){return et.i=0,et},"BCcDdEFfHPpQSX".split("").reduce((e,t)=>{let r=t.charCodeAt(0);return e[t]=()=>(ee[0]=r,et.i=5,et),e},{}),{N:"\0",i:0,inc:e=>(et.i+=e,et),str(e){let t=Buffer.byteLength(e);return er(t),et.i+=ee.write(e,et.i,t,"utf8"),et},i16:e=>(er(2),ee.writeUInt16BE(e,et.i),et.i+=2,et),i32:(e,t)=>(t||0===t?ee.writeUInt32BE(e,t):(er(4),ee.writeUInt32BE(e,et.i),et.i+=4),et),z:e=>(er(e),ee.fill(0,et.i,et.i+e),et.i+=e,et),raw:e=>(ee=Buffer.concat([ee.subarray(0,et.i),e]),et.i=ee.length,et),end(e=1){ee.writeUInt32BE(et.i-e,e);let t=ee.subarray(0,et.i);return et.i=0,ee=Buffer.allocUnsafe(256),t}});function er(e){if(ee.length-et.i<e){let t=ee,r=t.length;ee=Buffer.allocUnsafe(r+(r>>1)+e),t.copy(ee)}}let en=function e(t,r={},{onopen:n=ec,onend:i=ec,onclose:a=ec}={}){let{ssl:s,max:o,user:c,host:p,port:f,database:h,parsers:g,transform:y,onnotice:v,onnotify:w,onparameter:_,max_pipeline:S,keep_alive:A,backoff:x,target_session_attrs:k}=t,E=Y(),T=ei++,P={pid:null,secret:null},O=em(eV,t.idle_timeout),C=em(eV,t.max_lifetime),N=em(function(){ez(d.connection("CONNECT_TIMEOUT",t,R)),R.destroy()},t.connect_timeout),R=null,j,I=new X,D=Buffer.alloc(0),M=t.fetch_types,U={},B={},F=Math.random().toString(36).slice(2),q=1,H=0,z=0,Q=0,V=0,ee=0,er=0,en=0,ep=null,ey=null,eb=!1,ev=null,ew=null,e_=null,eS=null,eA=null,ex=null,ek=null,eE=null,eT=null,eP=null,eO={queue:r.closed,idleTimer:O,connect(e){e_=e,eF()},terminate:eK,execute:eR,cancel:eN,end:eV,count:0,id:T};return r.closed&&r.closed.push(eO),eO;async function eC(){let e;try{e=t.socket?await Promise.resolve(t.socket(t)):new K.Socket}catch(e){eH(e);return}return e.on("error",eH),e.on("close",eW),e.on("drain",eM),e}async function eN({pid:e,secret:t},r,n){try{j=et().i32(16).i32(80877102).i32(e).i32(t).end(16),await eB(),R.once("error",n),R.once("close",r)}catch(e){n(e)}}function eR(e){if(eb)return eQ(e,d.connection("CONNECTION_DESTROYED",t));if(!e.cancelled)try{return e.state=P,eT?E.push(e):(eT=e).active=!0,function(e){let r=[],n=[],i=b(e,e.strings[0],e.args[0],r,n,t);e.tagged||e.args.forEach(e=>m(e,r,n,t)),e.prepare=t.prepare&&(!("prepare"in e.options)||e.options.prepare),e.string=i,e.signature=e.prepare&&n+i,e.onlyDescribe&&delete B[e.signature],e.parameters=e.parameters||r,e.prepared=e.prepare&&e.signature in B,e.describeFirst=e.onlyDescribe||r.length&&!e.prepared,e.statement=e.prepared?B[e.signature]:{string:i,types:n,name:e.prepare?F+q++:""},"function"==typeof t.debug&&t.debug(T,i,r,n)}(e),e$(function(e){if(e.parameters.length>=65534)throw d.generic("MAX_PARAMETERS_EXCEEDED","Max number of parameters (65534) exceeded");return e.options.simple?et().Q().str(e.statement.string+et.N).end():e.describeFirst?Buffer.concat([ej(e),es]):e.prepare?e.prepared?eI(e):Buffer.concat([ej(e),eI(e)]):Buffer.concat([e6(e.statement.string,e.parameters,e.statement.types),eu,eI(e)])}(e))&&!e.describeFirst&&!e.cursorFn&&E.length<S&&(!e.options.onexecute||e.options.onexecute(eO))}catch(e){return 0===E.length&&e$(ea),ez(e),!0}}function ej(e){return Buffer.concat([e6(e.statement.string,e.parameters,e.statement.types,e.statement.name),function(e,t=""){return et().D().str("S").str(t+et.N).end()}(0,e.statement.name)])}function eI(e){return Buffer.concat([function(e,r,n="",i=""){let a,s;return et().B().str(i+et.N).str(n+et.N).i16(0).i16(e.length),e.forEach((n,i)=>{if(null===n)return et.i32(4294967295);s=r[i],e[i]=n=s in t.serializers?t.serializers[s](n):""+n,a=et.i,et.inc(4).str(n).i32(et.i-a-4,a)}),et.i16(0),et.end()}(e.parameters,e.statement.types,e.statement.name,e.cursorName),e.cursorFn?e5("",e.cursorRows):el])}function e$(e,t){return(ex=ex?Buffer.concat([ex,e]):Buffer.from(e),t||ex.length>=1024)?eL(t):(null===ey&&(ey=setImmediate(eL)),!0)}function eL(e){let t=R.write(ex,e);return null!==ey&&clearImmediate(ey),ex=ey=null,t}async function eD(){if(e$(eo),!await new Promise(e=>R.once("data",t=>e(83===t[0])))&&"prefer"===s)return eq();R.removeAllListeners(),(R=W.connect({socket:R,servername:K.isIP(R.host)?void 0:R.host,..."require"===s||"allow"===s||"prefer"===s?{rejectUnauthorized:!1}:"verify-full"===s?{}:"object"==typeof s?s:{}})).on("secureConnect",eq),R.on("error",eH),R.on("close",eW),R.on("drain",eM)}function eM(){eT||n(eO)}function eU(r){if(!ev||(ev.push(r),!((z-=r.length)>0)))for(D=ev?Buffer.concat(ev,ee-z):0===D.length?r:Buffer.concat([D,r],D.length+r.length);D.length>4;){if((ee=D.readUInt32BE(1))>=D.length){z=ee-D.length,ev=[D];break}try{(function(r,i=r[0]){(68===i?function(e){let t,r,n,i=7,a=eT.isRaw?Array(eT.statement.columns.length):{};for(let s=0;s<eT.statement.columns.length;s++)r=eT.statement.columns[s],t=e.readInt32BE(i),i+=4,n=-1===t?null:!0===eT.isRaw?e.subarray(i,i+=t):void 0===r.parser?e.toString("utf8",i,i+=t):!0===r.parser.array?r.parser(e.toString("utf8",i+1,i+=t)):r.parser(e.toString("utf8",i,i+=t)),eT.isRaw?a[s]=!0===eT.isRaw?n:y.value.from?y.value.from(n,r):n:a[r.name]=y.value.from?y.value.from(n,r):n;eT.forEachFn?eT.forEachFn(y.row.from?y.row.from(a):a,I):I[en++]=y.row.from?y.row.from(a):a}:100===i?function(e){eA&&(eA.push(e.subarray(5))||R.pause())}:65===i?function(e){if(!w)return;let t=9;for(;0!==e[t++];);w(e.toString("utf8",9,t-1),e.toString("utf8",t,e.length-1))}:83===i?function(e){let[r,n]=e.toString("utf8",5,e.length-1).split(et.N);U[r]=n,t.parameters[r]!==n&&(t.parameters[r]=n,_&&_(r,n))}:90===i?function(r){if(eT&&eT.options.simple&&eT.resolve(ew||I),eT=ew=null,I=new X,N.cancel(),e_){if(k){var i;if(!U.in_hot_standby||!U.default_transaction_read_only)return function(){let e=new u([`
      show transaction_read_only;
      select pg_catalog.pg_is_in_recovery()
    `],[],eR,null,{simple:!0});e.resolve=([[e],[t]])=>{U.default_transaction_read_only=e.transaction_read_only,U.in_hot_standby=t.pg_is_in_recovery?"on":"off"},e.execute()}();if(i=U,"read-write"===k&&"on"===i.default_transaction_read_only||"read-only"===k&&"off"===i.default_transaction_read_only||"primary"===k&&"on"===i.in_hot_standby||"standby"===k&&"off"===i.in_hot_standby||"prefer-standby"===k&&"off"===i.in_hot_standby&&t.host[V])return eK()}return M?(e_.reserve&&(e_=null),e2()):(e_&&!e_.reserve&&eR(e_),t.shared.retries=V=0,void(e_=null))}for(;E.length&&(eT=E.shift())&&(eT.active=!0,eT.cancelled);)e(t).cancel(eT.state,eT.cancelled.resolve,eT.cancelled.reject);eT||(eO.reserved?eO.reserved.release||73!==r[5]?eO.reserved():eS?eK():(eO.reserved=null,n(eO)):eS?eK():n(eO))}:67===i?function(e){en=0;for(let t=e.length-1;t>0;t--)if(32===e[t]&&e[t+1]<58&&null===I.count&&(I.count=+e.toString("utf8",t+1,e.length-1)),e[t-1]>=65){I.command=e.toString("utf8",5,t),I.state=P;break}return(eP&&(eP(),eP=null),"BEGIN"!==I.command||1===o||eO.reserved)?eT.options.simple?eG():void(eT.cursorFn&&(I.count&&eT.cursorFn(I),e$(ea)),eT.resolve(I)):ez(d.generic("UNSAFE_TRANSACTION","Only use sql.begin, sql.reserved or max: 1"))}:50===i?eG:49===i?function(){eT.parsing=!1}:116===i?function(e){let t=e.readUInt16BE(5);for(let r=0;r<t;++r)eT.statement.types[r]||(eT.statement.types[r]=e.readUInt32BE(7+4*r));eT.prepare&&(B[eT.signature]=eT.statement),eT.describeFirst&&!eT.onlyDescribe&&(e$(eI(eT)),eT.describeFirst=!1)}:84===i?function(e){let t;I.command&&((ew=ew||[I]).push(I=new X),I.count=null,eT.statement.columns=null);let r=e.readUInt16BE(5),n=7;eT.statement.columns=Array(r);for(let i=0;i<r;++i){for(t=n;0!==e[n++];);let r=e.readUInt32BE(n),a=e.readUInt16BE(n+4),s=e.readUInt32BE(n+6);eT.statement.columns[i]={name:y.column.from?y.column.from(e.toString("utf8",t,n-1)):e.toString("utf8",t,n-1),parser:g[s],table:r,number:a,type:s},n+=18}if(I.statement=eT.statement,eT.onlyDescribe)return eT.resolve(eT.statement),e$(ea)}:82===i?eJ:110===i?function(){if(I.statement=eT.statement,I.statement.columns=[],eT.onlyDescribe)return eT.resolve(eT.statement),e$(ea)}:75===i?function(e){P.pid=e.readUInt32BE(5),P.secret=e.readUInt32BE(9)}:69===i?function(e){var t;eT&&(eT.cursorFn||eT.describeFirst)&&e$(ea);let r=d.postgres(ef(e));eT&&eT.retried?ez(eT.retried):eT&&eT.prepared&&ed.has(r.routine)?(t=eT,delete B[t.signature],t.retried=r,eR(t)):ez(r)}:115===i?e3:51===i?function(){I.count&&eT.cursorFn(I),eT.resolve(I)}:71===i?function(){eA=new J.Writable({autoDestroy:!0,write(e,t,r){R.write(et().d().raw(e).end(),r)},destroy(e,t){t(e),R.write(et().f().str(e+et.N).end()),eA=null},final(e){R.write(et().c().end()),eP=e}}),eT.resolve(eA)}:78===i?function(e){v?v(ef(e)):console.log(ef(e))}:72===i?function(){eA=new J.Readable({read(){R.resume()}}),eT.resolve(eA)}:99===i?function(){eA&&eA.push(null),eA=null}:73===i?function(){}:86===i?function(){ez(d.notSupported("FunctionCallResponse"))}:118===i?function(){ez(d.notSupported("NegotiateProtocolVersion"))}:87===i?function(){eA=new J.Duplex({autoDestroy:!0,read(){R.resume()},write(e,t,r){R.write(et().d().raw(e).end(),r)},destroy(e,t){t(e),R.write(et().f().str(e+et.N).end()),eA=null},final(e){R.write(et().c().end()),eP=e}}),eT.resolve(eA)}:function(e){console.error("Postgres.js : Unknown Message:",e[0])})(r)})(D.subarray(0,ee+1))}catch(e){eT&&(eT.cursorFn||eT.describeFirst)&&e$(ea),ez(e)}D=D.subarray(ee+1),z=0,ev=null}}async function eB(){if(eb=!1,U={},R||(R=await eC()),R){if(N.start(),t.socket)return s?eD():eq();if(R.on("connect",s?eD:eq),t.path)return R.connect(t.path);R.ssl=s,R.connect(f[Q],p[Q]),R.host=p[Q],R.port=f[Q],Q=(Q+1)%f.length}}function eF(){setTimeout(eB,H?H+er-Z.performance.now():0)}function eq(){try{B={},M=t.fetch_types,F=Math.random().toString(36).slice(2),q=1,C.start(),R.on("data",eU),A&&R.setKeepAlive&&R.setKeepAlive(!0,1e3*A);let e=j||et().inc(4).i16(3).z(2).str(Object.entries(Object.assign({user:c,database:h,client_encoding:"UTF8"},t.connection)).filter(([,e])=>e).map(([e,t])=>e+et.N+t).join(et.N)).z(2).end(0);e$(e)}catch(e){eH(e)}}function eH(e){if(eO.queue!==r.connecting||!t.host[V+1])for(ez(e);E.length;)eQ(E.shift(),e)}function ez(e){eA&&(eA.destroy(e),eA=null),eT&&eQ(eT,e),e_&&(eQ(e_,e),e_=null)}function eQ(e,r){if(e.reserve)return e.reject(r);r&&"object"==typeof r||(r=Error(r)),"query"in r||"parameters"in r||Object.defineProperties(r,{stack:{value:r.stack+e.origin.replace(/.*\n/,"\n"),enumerable:t.debug},query:{value:e.string,enumerable:t.debug},parameters:{value:e.parameters,enumerable:t.debug},args:{value:e.args,enumerable:t.debug},types:{value:e.statement&&e.statement.types,enumerable:t.debug}}),e.reject(r)}function eV(){return eS||(eO.reserved||i(eO),eO.reserved||e_||eT||0!==E.length?eS=new Promise(e=>ek=e):(eK(),new Promise(e=>R&&"closed"!==R.readyState?R.once("close",e):e())))}function eK(){eb=!0,(eA||eT||e_||E.length)&&eH(d.connection("CONNECTION_DESTROYED",t)),clearImmediate(ey),R&&(R.removeListener("data",eU),R.removeListener("connect",eq),"open"===R.readyState&&R.end(et().X().end())),ek&&(ek(),eS=ek=null)}async function eW(e){if(D=Buffer.alloc(0),z=0,ev=null,clearImmediate(ey),R.removeListener("data",eU),R.removeListener("connect",eq),O.cancel(),C.cancel(),N.cancel(),R.removeAllListeners(),R=null,e_)return eF();!e&&(eT||E.length)&&eH(d.connection("CONNECTION_CLOSED",t,R)),H=Z.performance.now(),e&&t.shared.retries++,er=("function"==typeof x?x(t.shared.retries):x)*1e3,a(eO,d.connection("CONNECTION_CLOSED",t,R))}function eG(){I.statement||(I.statement=eT.statement),I.columns=eT.statement.columns}async function eJ(e,t=e.readUInt32BE(5)){(3===t?eZ:5===t?eX:10===t?eY:11===t?e0:12===t?function(e){e.toString("utf8",9).split(et.N,1)[0].slice(2)!==ep&&(ez(d.generic("SASL_SIGNATURE_MISMATCH","The server did not return the correct signature")),R.destroy())}:0!==t?function(e,t){console.error("Postgres.js : Unknown Auth:",t)}:ec)(e,t)}async function eZ(){let e=await e1();e$(et().p().str(e).z(1).end())}async function eX(e){let t="md5"+await eh(Buffer.concat([Buffer.from(await eh(await e1()+c)),e.subarray(9)]));e$(et().p().str(t).z(1).end())}async function eY(){eE=(await G.randomBytes(18)).toString("base64"),et().p().str("SCRAM-SHA-256"+et.N);let e=et.i;e$(et.inc(4).str("n,,n=*,r="+eE).i32(et.i-e-4,e).end())}async function e0(e){let t=e.toString("utf8",9).split(",").reduce((e,t)=>(e[t[0]]=t.slice(2),e),{}),r=await G.pbkdf2Sync(await e1(),Buffer.from(t.s,"base64"),parseInt(t.i),32,"sha256"),n=await eg(r,"Client Key"),i="n=*,r="+eE+",r="+t.r+",s="+t.s+",i="+t.i+",c=biws,r="+t.r;ep=(await eg(await eg(r,"Server Key"),i)).toString("base64");let a="c=biws,r="+t.r+",p="+(function(e,t){let r=Math.max(e.length,t.length),n=Buffer.allocUnsafe(r);for(let i=0;i<r;i++)n[i]=e[i]^t[i];return n})(n,Buffer.from(await eg(await G.createHash("sha256").update(n).digest(),i))).toString("base64");e$(et().p().str(a).end())}function e1(){return Promise.resolve("function"==typeof t.pass?t.pass():t.pass)}async function e2(){M=!1,(await new u([`
      select b.oid, b.typarray
      from pg_catalog.pg_type a
      left join pg_catalog.pg_type b on b.oid = a.typelem
      where a.typcategory = 'A'
      group by b.oid, b.typarray
      order by b.oid
    `],[],eR)).forEach(({oid:e,typarray:r})=>(function(e,r){if(t.parsers[r]&&t.serializers[r])return;let n=t.parsers[e];t.shared.typeArrayMap[e]=r,t.parsers[r]=e=>(L.i=L.last=0,function e(t,r,n,i){let a=[],s=1020===i?";":",";for(;t.i<r.length;t.i++){if(t.char=r[t.i],t.quoted)"\\"===t.char?t.str+=r[++t.i]:'"'===t.char?(a.push(n?n(t.str):t.str),t.str="",t.quoted='"'===r[t.i+1],t.last=t.i+2):t.str+=t.char;else if('"'===t.char)t.quoted=!0;else if("{"===t.char)t.last=++t.i,a.push(e(t,r,n,i));else if("}"===t.char){t.quoted=!1,t.last<t.i&&a.push(n?n(r.slice(t.last,t.i)):r.slice(t.last,t.i)),t.last=t.i+1;break}else t.char===s&&"}"!==t.p&&'"'!==t.p&&(a.push(n?n(r.slice(t.last,t.i)):r.slice(t.last,t.i)),t.last=t.i+1);t.p=t.char}return t.last<t.i&&a.push(n?n(r.slice(t.last,t.i+1)):r.slice(t.last,t.i+1)),a}(L,e,n,r)),t.parsers[r].array=!0,t.serializers[r]=n=>$(n,t.serializers[e],t,r)})(e,r))}async function e3(){try{let e=await Promise.resolve(eT.cursorFn(I));en=0,e===l?e$(function(e=""){return Buffer.concat([et().C().str("P").str(e+et.N).end(),et().S().end()])}(eT.portal)):(I=new X,e$(e5("",eT.cursorRows)))}catch(e){e$(ea),eT.reject(e)}}function e6(e,t,r,n=""){return et().P().str(n+et.N).str(e+et.N).i16(t.length),t.forEach((e,t)=>et.i32(r[t]||0)),et.end()}function e5(e="",t=0){return Buffer.concat([et().E().str(e+et.N).i32(t).end(),es])}},ei=1,ea=et().S().end(),es=et().H().end(),eo=et().i32(8).i32(80877103).end(8),el=Buffer.concat([et().E().str(et.N).i32(0).end(),ea]),eu=et().D().str("S").str(et.N).end(),ec=()=>{},ed=new Set(["FetchPreparedStatement","RevalidateCachedQuery","transformAssignedExpr"]),ep={83:"severity_local",86:"severity",67:"code",77:"message",68:"detail",72:"hint",80:"position",112:"internal_position",113:"internal_query",87:"where",115:"schema_name",116:"table_name",99:"column_name",100:"data type_name",110:"constraint_name",70:"file",76:"line",82:"routine"};function ef(e){let t={},r=5;for(let n=5;n<e.length-1;n++)0===e[n]&&(t[ep[e[r]]]=e.toString("utf8",r+1,n),r=n+1);return t}function eh(e){return G.createHash("md5").update(e).digest("hex")}function eg(e,t){return G.createHmac("sha256",e).update(t).digest()}function em(e,t){let r;if(!(t="function"==typeof t?t():t))return{cancel:ec,start:ec};return{cancel(){r&&(clearTimeout(r),r=null)},start(){r&&clearTimeout(r),r=setTimeout(n,1e3*t,arguments)}};function n(t){e.apply(null,t),r=null}}let ey=()=>{};function eb(e,t,r,n){let i,a,s;let o=n.raw?Array(t.length):{};for(let l=0;l<t.length;l++)i=e[r++],a=t[l],s=110===i?null:117===i?void 0:void 0===a.parser?e.toString("utf8",r+4,r+=4+e.readUInt32BE(r)):!0===a.parser.array?a.parser(e.toString("utf8",r+5,r+=4+e.readUInt32BE(r))):a.parser(e.toString("utf8",r+4,r+=4+e.readUInt32BE(r))),n.raw?o[l]=!0===n.raw?s:n.value.from?n.value.from(s,a):s:o[a.name]=n.value.from?n.value.from(s,a):s;return{i:r,row:n.row.from?n.row.from(o):o}}function ev(e,t,r=393216){return new Promise(async(n,i)=>{await e.begin(async e=>{let i;t||([{oid:t}]=await e`select lo_creat(-1) as oid`);let[{fd:a}]=await e`select lo_open(${t}, ${r}) as fd`,s={writable:l,readable:o,close:()=>e`select lo_close(${a})`.then(i),tell:()=>e`select lo_tell64(${a})`,read:t=>e`select loread(${a}, ${t}) as data`,write:t=>e`select lowrite(${a}, ${t})`,truncate:t=>e`select lo_truncate64(${a}, ${t})`,seek:(t,r=0)=>e`select lo_lseek64(${a}, ${t}, ${r})`,size:()=>e`
          select
            lo_lseek64(${a}, location, 0) as position,
            seek.size
          from (
            select
              lo_lseek64($1, 0, 2) as size,
              tell.location
            from (select lo_tell64($1) as location) tell
          ) seek
        `};return n(s),new Promise(async e=>i=e);async function o({highWaterMark:e=16384,start:t=0,end:r=1/0}={}){let n=r-t;return t&&await s.seek(t),new J.Readable({highWaterMark:e,async read(e){let t=e>n?e-n:e;n-=e;let[{data:r}]=await s.read(t);this.push(r),r.length<e&&this.push(null)}})}async function l({highWaterMark:e=16384,start:t=0}={}){return t&&await s.seek(t),new J.Writable({highWaterMark:e,write(e,t,r){s.write(e).then(()=>r(),r)}})}}).catch(i)})}Object.assign(e_,{PostgresError:c,toPascal:M,pascal:Q,toCamel:D,camel:z,toKebab:U,kebab:V,fromPascal:F,fromCamel:B,fromKebab:q,BigInt:{to:20,from:[20],parse:e=>BigInt(e),serialize:e=>e.toString()}});let ew=e_;function e_(e,t){let r=function(e,t){var r;if(e&&e.shared)return e;let i=process.env,a=(e&&"string"!=typeof e?e:t)||{},{url:s,multihost:o}=function(e){if(!e||"string"!=typeof e)return{url:{searchParams:new Map}};let t=e;t=decodeURIComponent((t=t.slice(t.indexOf("://")+3).split(/[?/]/)[0]).slice(t.indexOf("@")+1));let r=new URL(e.replace(t,t.split(",")[0]));return{url:{username:decodeURIComponent(r.username),password:decodeURIComponent(r.password),host:r.host,hostname:r.hostname,port:r.port,pathname:r.pathname,searchParams:r.searchParams},multihost:t.indexOf(",")>-1&&t}}(e),l=[...s.searchParams].reduce((e,[t,r])=>(e[t]=r,e),{}),u=a.hostname||a.host||o||s.hostname||i.PGHOST||"localhost",c=a.port||s.port||i.PGPORT||5432,d=a.user||a.username||s.username||i.PGUSERNAME||i.PGUSER||function(){try{return n.userInfo().username}catch(e){return process.env.USERNAME||process.env.USER||process.env.LOGNAME}}();a.no_prepare&&(a.prepare=!1),l.sslmode&&(l.ssl=l.sslmode,delete l.sslmode),"timeout"in a&&(console.log("The timeout option is deprecated, use idle_timeout instead"),a.idle_timeout=a.timeout),"system"===l.sslrootcert&&(l.ssl="verify-full");let p=["idle_timeout","connect_timeout","max_lifetime","max_pipeline","backoff","keep_alive"],f={max:10,ssl:!1,idle_timeout:null,connect_timeout:30,max_lifetime:eA,max_pipeline:100,backoff:eS,keep_alive:60,prepare:!0,debug:!1,fetch_types:!0,publications:"alltables",target_session_attrs:null};return{host:Array.isArray(u)?u:u.split(",").map(e=>e.split(":")[0]),port:Array.isArray(c)?c:u.split(",").map(e=>parseInt(e.split(":")[1]||c)),path:a.path||u.indexOf("/")>-1&&u+"/.s.PGSQL."+c,database:a.database||a.db||(s.pathname||"").slice(1)||i.PGDATABASE||d,user:d,pass:a.pass||a.password||s.password||i.PGPASSWORD||"",...Object.entries(f).reduce((e,[t,r])=>{let n=t in a?a[t]:t in l?"disable"!==l[t]&&"false"!==l[t]&&l[t]:i["PG"+t.toUpperCase()]||r;return e[t]="string"==typeof n&&p.includes(t)?+n:n,e},{}),connection:{application_name:i.PGAPPNAME||"postgres.js",...a.connection,...Object.entries(l).reduce((e,[t,r])=>(t in f||(e[t]=r),e),{})},types:a.types||{},target_session_attrs:function(e,t,r){let n=e.target_session_attrs||t.searchParams.get("target_session_attrs")||r.PGTARGETSESSIONATTRS;if(!n||["read-write","read-only","primary","standby","prefer-standby"].includes(n))return n;throw Error("target_session_attrs "+n+" is not supported")}(a,s,i),onnotice:a.onnotice,onnotify:a.onnotify,onclose:a.onclose,onparameter:a.onparameter,socket:a.socket,transform:{undefined:(r=a.transform||{undefined:void 0}).undefined,column:{from:"function"==typeof r.column?r.column:r.column&&r.column.from,to:r.column&&r.column.to},value:{from:"function"==typeof r.value?r.value:r.value&&r.value.from,to:r.value&&r.value.to},row:{from:"function"==typeof r.row?r.row:r.row&&r.row.from,to:r.row&&r.row.to}},parameters:{},shared:{retries:0,typeArrayMap:{}},...P(a.types)}}(e,t),a=r.no_subscribe||function(e,t){let r=new Map,n="postgresjs_"+Math.random().toString(36).slice(2),i={},a,s,o=!1,l=d.sql=e({...t,transform:{column:{},value:{},row:{}},max:1,fetch_types:!1,idle_timeout:null,max_lifetime:null,connection:{...t.connection,replication:"database"},onclose:async function(){o||(s=null,i.pid=i.secret=void 0,p(await f(l,n,t.publications)),r.forEach(e=>e.forEach(({onsubscribe:e})=>e())))},no_subscribe:!0}),u=l.end,c=l.close;return l.end=async()=>(o=!0,s&&await new Promise(e=>(s.once("close",e),s.end())),u()),l.close=async()=>(s&&await new Promise(e=>(s.once("close",e),s.end())),c()),d;async function d(e,o,u=ey,c=ey){e=function(e){let t=e.match(/^(\*|insert|update|delete)?:?([^.]+?\.?[^=]+)?=?(.+)?/i)||[];if(!t)throw Error("Malformed subscribe pattern: "+e);let[,r,n,i]=t;return(r||"*")+(n?":"+(-1===n.indexOf(".")?"public."+n:n):"")+(i?"="+i:"")}(e),a||(a=f(l,n,t.publications));let h={fn:o,onsubscribe:u},g=r.has(e)?r.get(e).add(h):r.set(e,new Set([h])).get(e),m=()=>{g.delete(h),0===g.size&&r.delete(e)};return a.then(e=>(p(e),u(),s&&s.on("error",c),{unsubscribe:m,state:i,sql:l}))}function p(e){s=e.stream,i.pid=e.state.pid,i.secret=e.state.secret}async function f(e,r,n){if(!n)throw Error("Missing publication names");let i=await e.unsafe(`CREATE_REPLICATION_SLOT ${r} TEMPORARY LOGICAL pgoutput NOEXPORT_SNAPSHOT`),[a]=i,s=await e.unsafe(`START_REPLICATION SLOT ${r} LOGICAL ${a.consistent_point} (proto_version '1', publication_names '${n}')`).writable(),o={lsn:Buffer.concat(a.consistent_point.split("/").map(e=>Buffer.from(("00000000"+e).slice(-8),"hex")))};return s.on("data",function(r){119===r[0]?function(e,t,r,n,i){Object.entries({R:e=>{let n=1,a=t[e.readUInt32BE(n)]={schema:e.toString("utf8",n+=4,n=e.indexOf(0,n))||"pg_catalog",table:e.toString("utf8",n+1,n=e.indexOf(0,n+1)),columns:Array(e.readUInt16BE(n+=2)),keys:[]};n+=2;let s=0,o;for(;n<e.length;)(o=a.columns[s++]={key:e[n++],name:i.column.from?i.column.from(e.toString("utf8",n,n=e.indexOf(0,n))):e.toString("utf8",n,n=e.indexOf(0,n)),type:e.readUInt32BE(n+=1),parser:r[e.readUInt32BE(n)],atttypmod:e.readUInt32BE(n+=4)}).key&&a.keys.push(o),n+=4},Y:()=>{},O:()=>{},B:e=>{var r;t.date=(r=e.readBigInt64BE(9),new Date(Date.UTC(2e3,0,1)+Number(r/BigInt(1e3)))),t.lsn=e.subarray(1,9)},I:e=>{let r=1,a=t[e.readUInt32BE(r)],{row:s}=eb(e,a.columns,r+=7,i);n(s,{command:"insert",relation:a})},D:e=>{let r=1,a=t[e.readUInt32BE(r)],s=75===e[r+=4];n(s||79===e[r]?eb(e,a.columns,r+=3,i).row:null,{command:"delete",relation:a,key:s})},U:e=>{let r=1,a=t[e.readUInt32BE(r)],s=75===e[r+=4],o=s||79===e[r]?eb(e,a.columns,r+=3,i):null;o&&(r=o.i);let{row:l}=eb(e,a.columns,r+3,i);n(l,{command:"update",relation:a,key:s,old:o&&o.row})},T:()=>{},C:()=>{}}).reduce((e,[t,r])=>(e[t.charCodeAt(0)]=r,e),{})[e[0]](e)}(r.subarray(25),o,e.options.parsers,l,t.transform):107===r[0]&&r[17]&&(o.lsn=r.subarray(1,9),function(){let e=Buffer.alloc(34);e[0]=114,e.fill(o.lsn,1),e.writeBigInt64BE(BigInt(Date.now()-Date.UTC(2e3,0,1))*BigInt(1e3),25),s.write(e)}())}),s.on("error",function(e){console.error("Unexpected error during logical streaming - reconnecting",e)}),s.on("close",e.close),{stream:s,state:i.state};function l(e,t){let r=t.relation.schema+"."+t.relation.table;h("*",e,t),h("*:"+r,e,t),t.relation.keys.length&&h("*:"+r+"="+t.relation.keys.map(t=>e[t.name]),e,t),h(t.command,e,t),h(t.command+":"+r,e,t),t.relation.keys.length&&h(t.command+":"+r+"="+t.relation.keys.map(t=>e[t.name]),e,t)}}function h(e,t,n){r.has(e)&&r.get(e).forEach(({fn:r})=>r(t,n,e))}}(e_,{...r}),s=!1,o=Y(),p=Y(),m=Y(),y=Y(),b=Y(),v=Y(),w=Y(),_=Y(),S={connecting:p,reserved:m,closed:y,ended:b,open:v,busy:w,full:_},A=[...Array(r.max)].map(()=>en(r,S,{onopen:F,onend:B,onclose:q})),x=k(function(e){return s?e.reject(d.connection("CONNECTION_ENDED",r,r)):v.length?I(v.shift(),e):y.length?U(y.shift(),e):void(w.length?I(w.shift(),e):o.push(e))});return Object.assign(x,{get parameters(){return r.parameters},largeObject:ev.bind(null,x),subscribe:a,CLOSE:l,END:l,PostgresError:c,options:r,reserve:O,listen:E,begin:C,close:D,end:L}),x;function k(e){return e.debug=r.debug,Object.entries(r.types).reduce((e,[t,r])=>(e[t]=e=>new h(e,r.to),e),t),Object.assign(n,{types:t,typed:t,unsafe:function(t,r=[],n={}){return 2!=arguments.length||Array.isArray(r)||(n=r,r=[]),new u([t],r,e,$,{prepare:!1,...n,simple:"simple"in n?n.simple:0===r.length})},notify:T,array:function e(t,n){return Array.isArray(t)?new h(t,n||(t.length?R(t)||25:0),r.shared.typeArrayMap):e(Array.from(arguments))},json:j,file:function(t,r=[],n={}){return 2!=arguments.length||Array.isArray(r)||(n=r,r=[]),new u([],r,r=>{i.readFile(t,"utf8",(t,n)=>{if(t)return r.reject(t);r.strings=[n],e(r)})},$,{...n,simple:"simple"in n?n.simple:0===r.length})}}),n;function t(e,t){return new h(e,t)}function n(t,...i){return t&&Array.isArray(t.raw)?new u(t,i,e,$):"string"!=typeof t||i.length?new g(t,i):new f(r.transform.column.to?r.transform.column.to(t):t)}}async function E(e,t,n){let i={fn:t,onlisten:n},a=E.sql||(E.sql=e_({...r,max:1,idle_timeout:null,max_lifetime:null,fetch_types:!1,onclose(){Object.entries(E.channels).forEach(([e,{listeners:t}])=>{delete E.channels[e],Promise.all(t.map(t=>E(e,t.fn,t.onlisten).catch(()=>{})))})},onnotify(e,t){e in E.channels&&E.channels[e].listeners.forEach(e=>e.fn(t))}})),s=E.channels||(E.channels={});if(e in s){s[e].listeners.push(i);let t=await s[e].result;return i.onlisten&&i.onlisten(),{state:t.state,unlisten:l}}s[e]={result:a`listen ${a.unsafe('"'+e.replace(/"/g,'""')+'"')}`,listeners:[i]};let o=await s[e].result;return i.onlisten&&i.onlisten(),{state:o.state,unlisten:l};async function l(){if(e in s!=!1&&(s[e].listeners=s[e].listeners.filter(e=>e!==i),!s[e].listeners.length))return delete s[e],a`unlisten ${a.unsafe('"'+e.replace(/"/g,'""')+'"')}`}}async function T(e,t){return await x`select pg_notify(${e}, ${""+t})`}async function O(){let e=Y(),t=v.length?v.shift():await new Promise((e,t)=>{let r={reserve:e,reject:t};o.push(r),y.length&&U(y.shift(),r)});N(t,m),t.reserved=()=>e.length?t.execute(e.shift()):N(t,m),t.reserved.release=!0;let r=k(function(r){t.queue===_?e.push(r):t.execute(r)||N(t,_)});return r.release=()=>{t.reserved=null,F(t)},r}async function C(e,t){t||(t=e,e="");let r=Y(),n=0,i,a=null;try{return await x.unsafe("begin "+e.replace(/[^a-z ]/ig,""),[],{onexecute:function(e){i=e,N(e,m),e.reserved=()=>r.length?e.execute(r.shift()):N(e,m)}}).execute(),await Promise.race([s(i,t),new Promise((e,t)=>i.onclose=t)])}catch(e){throw e}async function s(e,t,i){let o,l;let u=k(function(t){t.catch(e=>o||(o=e)),e.queue===_?r.push(t):e.execute(t)||N(e,_)});u.savepoint=function t(r,i){return r&&Array.isArray(r.raw)?t(e=>e.apply(e,arguments)):(1==arguments.length&&(i=r,r=null),s(e,i,"s"+n+++(r?"_"+r:"")))},u.prepare=e=>a=e.replace(/[^a-z0-9$-_. ]/gi),i&&await u`savepoint ${u(i)}`;try{if(l=await new Promise((e,r)=>{let n=t(u);Promise.resolve(Array.isArray(n)?Promise.all(n):n).then(e,r)}),o)throw o}catch(e){throw await (i?u`rollback to ${u(i)}`:u`rollback`),e instanceof c&&"25P02"===e.code&&o||e}return i||(a?await u`prepare transaction '${u.unsafe(a)}'`:await u`commit`),l}}function N(e,t){return e.queue.remove(e),t.push(e),e.queue=t,t===v?e.idleTimer.start():e.idleTimer.cancel(),e}function j(e){return new h(e,3802)}function I(e,t){return e.execute(t)?N(e,w):N(e,_)}function $(e){return new Promise((t,n)=>{e.state?e.active?en(r).cancel(e.state,t,n):e.cancelled={resolve:t,reject:n}:(o.remove(e),e.cancelled=!0,e.reject(d.generic("57014","canceling statement due to user request")),t())})}async function L({timeout:e=null}={}){let t;return s||(await 1,s=Promise.race([new Promise(r=>null!==e&&(t=setTimeout(M,1e3*e,r))),Promise.all(A.map(e=>e.end()).concat(E.sql?E.sql.end({timeout:0}):[],a.sql?a.sql.end({timeout:0}):[]))]).then(()=>clearTimeout(t)))}async function D(){await Promise.all(A.map(e=>e.end()))}async function M(e){for(await Promise.all(A.map(e=>e.terminate()));o.length;)o.shift().reject(d.connection("CONNECTION_DESTROYED",r));e()}function U(e,t){return N(e,p),e.connect(t),e}function B(e){N(e,b)}function F(e){if(0===o.length)return N(e,v);let t=Math.ceil(o.length/(p.length+1)),r=!0;for(;r&&o.length&&t-- >0;){let t=o.shift();if(t.reserve)return t.reserve(e);r=e.execute(t)}r?N(e,w):N(e,_)}function q(e,t){N(e,y),e.reserved=null,e.onclose&&(e.onclose(t),e.onclose=null),r.onclose&&r.onclose(e.id),o.length&&U(e,o.shift())}}function eS(e){return(.5+Math.random()/2)*Math.min(3**e/100,20)}function eA(){return 60*(30+30*Math.random())}},11937:(e,t,r)=>{"use strict";r.d(t,{NL:()=>i,jm:()=>a});var n=r(38715);let i=n.D5.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class a extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof a))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,n.D5.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)if(n.path.length>0){let r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}a.create=e=>new a(e)},38715:(e,t,r)=>{"use strict";var n,i;r.d(t,{$k:()=>a,D5:()=>n,FQ:()=>s}),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(n||(n={})),(i||(i={})).mergeShapes=(e,t)=>({...e,...t});let a=n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),s=e=>{switch(typeof e){case"undefined":return a.undefined;case"string":return a.string;case"number":return Number.isNaN(e)?a.nan:a.number;case"boolean":return a.boolean;case"function":return a.function;case"bigint":return a.bigint;case"symbol":return a.symbol;case"object":if(Array.isArray(e))return a.array;if(null===e)return a.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return a.promise;if("undefined"!=typeof Map&&e instanceof Map)return a.map;if("undefined"!=typeof Set&&e instanceof Set)return a.set;if("undefined"!=typeof Date&&e instanceof Date)return a.date;return a.object;default:return a.unknown}}},15278:(e,t,r)=>{"use strict";let n;r.d(t,{Ry:()=>ek,Z_:()=>ex});var i,a,s=r(11937),o=r(38715);let l=(e,t)=>{let r;switch(e.code){case s.NL.invalid_type:r=e.received===o.$k.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case s.NL.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,o.D5.jsonStringifyReplacer)}`;break;case s.NL.unrecognized_keys:r=`Unrecognized key(s) in object: ${o.D5.joinValues(e.keys,", ")}`;break;case s.NL.invalid_union:r="Invalid input";break;case s.NL.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${o.D5.joinValues(e.options)}`;break;case s.NL.invalid_enum_value:r=`Invalid enum value. Expected ${o.D5.joinValues(e.options)}, received '${e.received}'`;break;case s.NL.invalid_arguments:r="Invalid function arguments";break;case s.NL.invalid_return_type:r="Invalid function return type";break;case s.NL.invalid_date:r="Invalid date";break;case s.NL.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:o.D5.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case s.NL.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case s.NL.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case s.NL.custom:r="Invalid input";break;case s.NL.invalid_intersection_types:r="Intersection results could not be merged";break;case s.NL.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case s.NL.not_finite:r="Number must be finite";break;default:r=t.defaultError,o.D5.assertNever(e)}return{message:r}};!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(i||(i={}));let u=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function c(e,t){let r=u({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,l,l==l?void 0:l].filter(e=>!!e)});e.common.issues.push(r)}class d{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return p;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return d.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return p;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let p=Object.freeze({status:"aborted"}),f=e=>({status:"dirty",value:e}),h=e=>({status:"valid",value:e}),g=e=>"aborted"===e.status,m=e=>"dirty"===e.status,y=e=>"valid"===e.status,b=e=>"undefined"!=typeof Promise&&e instanceof Promise;class v{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let w=(e,t)=>{if(y(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new s.jm(e.common.issues);return this._error=t,this._error}}};function _(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:a}=e;return"invalid_enum_value"===t.code?{message:a??i.defaultError}:void 0===i.data?{message:a??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:a??r??i.defaultError}},description:i}}class S{get description(){return this._def.description}_getType(e){return(0,o.FQ)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,o.FQ)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new d,ctx:{common:e.parent.common,data:e.data,parsedType:(0,o.FQ)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(b(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,o.FQ)(e)},n=this._parseSync({data:e,path:r.path,parent:r});return w(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,o.FQ)(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return y(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>y(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,o.FQ)(e)},n=this._parse({data:e,path:r.path,parent:r});return w(r,await (b(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),a=()=>n.addIssue({code:s.NL.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new eg({schema:this,typeName:a.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return em.create(this,this._def)}nullable(){return ey.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return X.create(this)}promise(){return eh.create(this,this._def)}or(e){return ee.create([this,e],this._def)}and(e){return en.create(this,e,this._def)}transform(e){return new eg({..._(this._def),schema:this,typeName:a.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eb({..._(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:a.ZodDefault})}brand(){return new e_({typeName:a.ZodBranded,type:this,..._(this._def)})}catch(e){return new ev({..._(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:a.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eS.create(this,e)}readonly(){return eA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let A=/^c[^\s-]{8,}$/i,x=/^[0-9a-z]+$/,k=/^[0-9A-HJKMNP-TV-Z]{26}$/i,E=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,T=/^[a-z0-9_-]{21}$/i,P=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,O=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,C=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,N=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,R=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,j=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,I=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,L=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,D="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",M=RegExp(`^${D}$`);function U(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}class B extends S{_parse(e){var t,r,i,a;let l;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==o.$k.string){let t=this._getOrReturnCtx(e);return c(t,{code:s.NL.invalid_type,expected:o.$k.string,received:t.parsedType}),p}let u=new d;for(let d of this._def.checks)if("min"===d.kind)e.data.length<d.value&&(c(l=this._getOrReturnCtx(e,l),{code:s.NL.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),u.dirty());else if("max"===d.kind)e.data.length>d.value&&(c(l=this._getOrReturnCtx(e,l),{code:s.NL.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),u.dirty());else if("length"===d.kind){let t=e.data.length>d.value,r=e.data.length<d.value;(t||r)&&(l=this._getOrReturnCtx(e,l),t?c(l,{code:s.NL.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}):r&&c(l,{code:s.NL.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}),u.dirty())}else if("email"===d.kind)C.test(e.data)||(c(l=this._getOrReturnCtx(e,l),{validation:"email",code:s.NL.invalid_string,message:d.message}),u.dirty());else if("emoji"===d.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(c(l=this._getOrReturnCtx(e,l),{validation:"emoji",code:s.NL.invalid_string,message:d.message}),u.dirty());else if("uuid"===d.kind)E.test(e.data)||(c(l=this._getOrReturnCtx(e,l),{validation:"uuid",code:s.NL.invalid_string,message:d.message}),u.dirty());else if("nanoid"===d.kind)T.test(e.data)||(c(l=this._getOrReturnCtx(e,l),{validation:"nanoid",code:s.NL.invalid_string,message:d.message}),u.dirty());else if("cuid"===d.kind)A.test(e.data)||(c(l=this._getOrReturnCtx(e,l),{validation:"cuid",code:s.NL.invalid_string,message:d.message}),u.dirty());else if("cuid2"===d.kind)x.test(e.data)||(c(l=this._getOrReturnCtx(e,l),{validation:"cuid2",code:s.NL.invalid_string,message:d.message}),u.dirty());else if("ulid"===d.kind)k.test(e.data)||(c(l=this._getOrReturnCtx(e,l),{validation:"ulid",code:s.NL.invalid_string,message:d.message}),u.dirty());else if("url"===d.kind)try{new URL(e.data)}catch{c(l=this._getOrReturnCtx(e,l),{validation:"url",code:s.NL.invalid_string,message:d.message}),u.dirty()}else"regex"===d.kind?(d.regex.lastIndex=0,d.regex.test(e.data)||(c(l=this._getOrReturnCtx(e,l),{validation:"regex",code:s.NL.invalid_string,message:d.message}),u.dirty())):"trim"===d.kind?e.data=e.data.trim():"includes"===d.kind?e.data.includes(d.value,d.position)||(c(l=this._getOrReturnCtx(e,l),{code:s.NL.invalid_string,validation:{includes:d.value,position:d.position},message:d.message}),u.dirty()):"toLowerCase"===d.kind?e.data=e.data.toLowerCase():"toUpperCase"===d.kind?e.data=e.data.toUpperCase():"startsWith"===d.kind?e.data.startsWith(d.value)||(c(l=this._getOrReturnCtx(e,l),{code:s.NL.invalid_string,validation:{startsWith:d.value},message:d.message}),u.dirty()):"endsWith"===d.kind?e.data.endsWith(d.value)||(c(l=this._getOrReturnCtx(e,l),{code:s.NL.invalid_string,validation:{endsWith:d.value},message:d.message}),u.dirty()):"datetime"===d.kind?(function(e){let t=`${D}T${U(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)})(d).test(e.data)||(c(l=this._getOrReturnCtx(e,l),{code:s.NL.invalid_string,validation:"datetime",message:d.message}),u.dirty()):"date"===d.kind?M.test(e.data)||(c(l=this._getOrReturnCtx(e,l),{code:s.NL.invalid_string,validation:"date",message:d.message}),u.dirty()):"time"===d.kind?RegExp(`^${U(d)}$`).test(e.data)||(c(l=this._getOrReturnCtx(e,l),{code:s.NL.invalid_string,validation:"time",message:d.message}),u.dirty()):"duration"===d.kind?O.test(e.data)||(c(l=this._getOrReturnCtx(e,l),{validation:"duration",code:s.NL.invalid_string,message:d.message}),u.dirty()):"ip"===d.kind?(t=e.data,("v4"===(r=d.version)||!r)&&N.test(t)||("v6"===r||!r)&&j.test(t)||(c(l=this._getOrReturnCtx(e,l),{validation:"ip",code:s.NL.invalid_string,message:d.message}),u.dirty())):"jwt"===d.kind?!function(e,t){if(!P.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,d.alg)&&(c(l=this._getOrReturnCtx(e,l),{validation:"jwt",code:s.NL.invalid_string,message:d.message}),u.dirty()):"cidr"===d.kind?(i=e.data,("v4"===(a=d.version)||!a)&&R.test(i)||("v6"===a||!a)&&I.test(i)||(c(l=this._getOrReturnCtx(e,l),{validation:"cidr",code:s.NL.invalid_string,message:d.message}),u.dirty())):"base64"===d.kind?$.test(e.data)||(c(l=this._getOrReturnCtx(e,l),{validation:"base64",code:s.NL.invalid_string,message:d.message}),u.dirty()):"base64url"===d.kind?L.test(e.data)||(c(l=this._getOrReturnCtx(e,l),{validation:"base64url",code:s.NL.invalid_string,message:d.message}),u.dirty()):o.D5.assertNever(d);return{status:u.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:s.NL.invalid_string,...i.errToObj(r)})}_addCheck(e){return new B({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...i.errToObj(e)})}url(e){return this._addCheck({kind:"url",...i.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...i.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...i.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...i.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...i.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...i.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...i.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...i.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...i.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...i.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...i.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...i.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...i.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...i.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...i.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...i.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...i.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...i.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...i.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...i.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...i.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...i.errToObj(t)})}nonempty(e){return this.min(1,i.errToObj(e))}trim(){return new B({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new B({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new B({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}B.create=e=>new B({checks:[],typeName:a.ZodString,coerce:e?.coerce??!1,..._(e)});class F extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==o.$k.number){let t=this._getOrReturnCtx(e);return c(t,{code:s.NL.invalid_type,expected:o.$k.number,received:t.parsedType}),p}let r=new d;for(let n of this._def.checks)"int"===n.kind?o.D5.isInteger(e.data)||(c(t=this._getOrReturnCtx(e,t),{code:s.NL.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(c(t=this._getOrReturnCtx(e,t),{code:s.NL.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(c(t=this._getOrReturnCtx(e,t),{code:s.NL.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,n.value)&&(c(t=this._getOrReturnCtx(e,t),{code:s.NL.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(c(t=this._getOrReturnCtx(e,t),{code:s.NL.not_finite,message:n.message}),r.dirty()):o.D5.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,i.toString(t))}gt(e,t){return this.setLimit("min",e,!1,i.toString(t))}lte(e,t){return this.setLimit("max",e,!0,i.toString(t))}lt(e,t){return this.setLimit("max",e,!1,i.toString(t))}setLimit(e,t,r,n){return new F({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:i.toString(n)}]})}_addCheck(e){return new F({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:i.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:i.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:i.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:i.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:i.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:i.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:i.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:i.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:i.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&o.D5.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}F.create=e=>new F({checks:[],typeName:a.ZodNumber,coerce:e?.coerce||!1,..._(e)});class q extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==o.$k.bigint)return this._getInvalidInput(e);let r=new d;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(c(t=this._getOrReturnCtx(e,t),{code:s.NL.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(c(t=this._getOrReturnCtx(e,t),{code:s.NL.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(c(t=this._getOrReturnCtx(e,t),{code:s.NL.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):o.D5.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return c(t,{code:s.NL.invalid_type,expected:o.$k.bigint,received:t.parsedType}),p}gte(e,t){return this.setLimit("min",e,!0,i.toString(t))}gt(e,t){return this.setLimit("min",e,!1,i.toString(t))}lte(e,t){return this.setLimit("max",e,!0,i.toString(t))}lt(e,t){return this.setLimit("max",e,!1,i.toString(t))}setLimit(e,t,r,n){return new q({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:i.toString(n)}]})}_addCheck(e){return new q({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:i.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:i.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:i.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:i.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:i.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}q.create=e=>new q({checks:[],typeName:a.ZodBigInt,coerce:e?.coerce??!1,..._(e)});class H extends S{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==o.$k.boolean){let t=this._getOrReturnCtx(e);return c(t,{code:s.NL.invalid_type,expected:o.$k.boolean,received:t.parsedType}),p}return h(e.data)}}H.create=e=>new H({typeName:a.ZodBoolean,coerce:e?.coerce||!1,..._(e)});class z extends S{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==o.$k.date){let t=this._getOrReturnCtx(e);return c(t,{code:s.NL.invalid_type,expected:o.$k.date,received:t.parsedType}),p}if(Number.isNaN(e.data.getTime()))return c(this._getOrReturnCtx(e),{code:s.NL.invalid_date}),p;let r=new d;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(c(t=this._getOrReturnCtx(e,t),{code:s.NL.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(c(t=this._getOrReturnCtx(e,t),{code:s.NL.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):o.D5.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new z({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:i.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:i.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}z.create=e=>new z({checks:[],coerce:e?.coerce||!1,typeName:a.ZodDate,..._(e)});class Q extends S{_parse(e){if(this._getType(e)!==o.$k.symbol){let t=this._getOrReturnCtx(e);return c(t,{code:s.NL.invalid_type,expected:o.$k.symbol,received:t.parsedType}),p}return h(e.data)}}Q.create=e=>new Q({typeName:a.ZodSymbol,..._(e)});class V extends S{_parse(e){if(this._getType(e)!==o.$k.undefined){let t=this._getOrReturnCtx(e);return c(t,{code:s.NL.invalid_type,expected:o.$k.undefined,received:t.parsedType}),p}return h(e.data)}}V.create=e=>new V({typeName:a.ZodUndefined,..._(e)});class K extends S{_parse(e){if(this._getType(e)!==o.$k.null){let t=this._getOrReturnCtx(e);return c(t,{code:s.NL.invalid_type,expected:o.$k.null,received:t.parsedType}),p}return h(e.data)}}K.create=e=>new K({typeName:a.ZodNull,..._(e)});class W extends S{constructor(){super(...arguments),this._any=!0}_parse(e){return h(e.data)}}W.create=e=>new W({typeName:a.ZodAny,..._(e)});class G extends S{constructor(){super(...arguments),this._unknown=!0}_parse(e){return h(e.data)}}G.create=e=>new G({typeName:a.ZodUnknown,..._(e)});class J extends S{_parse(e){let t=this._getOrReturnCtx(e);return c(t,{code:s.NL.invalid_type,expected:o.$k.never,received:t.parsedType}),p}}J.create=e=>new J({typeName:a.ZodNever,..._(e)});class Z extends S{_parse(e){if(this._getType(e)!==o.$k.undefined){let t=this._getOrReturnCtx(e);return c(t,{code:s.NL.invalid_type,expected:o.$k.void,received:t.parsedType}),p}return h(e.data)}}Z.create=e=>new Z({typeName:a.ZodVoid,..._(e)});class X extends S{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==o.$k.array)return c(t,{code:s.NL.invalid_type,expected:o.$k.array,received:t.parsedType}),p;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(c(t,{code:e?s.NL.too_big:s.NL.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(c(t,{code:s.NL.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(c(t,{code:s.NL.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new v(t,e,t.path,r)))).then(e=>d.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new v(t,e,t.path,r)));return d.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new X({...this._def,minLength:{value:e,message:i.toString(t)}})}max(e,t){return new X({...this._def,maxLength:{value:e,message:i.toString(t)}})}length(e,t){return new X({...this._def,exactLength:{value:e,message:i.toString(t)}})}nonempty(e){return this.min(1,e)}}X.create=(e,t)=>new X({type:e,minLength:null,maxLength:null,exactLength:null,typeName:a.ZodArray,..._(t)});class Y extends S{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=o.D5.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==o.$k.object){let t=this._getOrReturnCtx(e);return c(t,{code:s.NL.invalid_type,expected:o.$k.object,received:t.parsedType}),p}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof J&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||a.push(e);let l=[];for(let e of i){let t=n[e],i=r.data[e];l.push({key:{status:"valid",value:e},value:t._parse(new v(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof J){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)l.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(c(r,{code:s.NL.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let n=r.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new v(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of l){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>d.mergeObjectSync(t,e)):d.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return i.errToObj,new Y({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:i.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new Y({...this._def,unknownKeys:"strip"})}passthrough(){return new Y({...this._def,unknownKeys:"passthrough"})}extend(e){return new Y({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Y({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:a.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Y({...this._def,catchall:e})}pick(e){let t={};for(let r of o.D5.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Y({...this._def,shape:()=>t})}omit(e){let t={};for(let r of o.D5.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Y({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof Y){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=em.create(e(i))}return new Y({...t._def,shape:()=>r})}return t instanceof X?new X({...t._def,type:e(t.element)}):t instanceof em?em.create(e(t.unwrap())):t instanceof ey?ey.create(e(t.unwrap())):t instanceof ei?ei.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};for(let r of o.D5.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new Y({...this._def,shape:()=>t})}required(e){let t={};for(let r of o.D5.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof em;)e=e._def.innerType;t[r]=e}return new Y({...this._def,shape:()=>t})}keyof(){return ed(o.D5.objectKeys(this.shape))}}Y.create=(e,t)=>new Y({shape:()=>e,unknownKeys:"strip",catchall:J.create(),typeName:a.ZodObject,..._(t)}),Y.strictCreate=(e,t)=>new Y({shape:()=>e,unknownKeys:"strict",catchall:J.create(),typeName:a.ZodObject,..._(t)}),Y.lazycreate=(e,t)=>new Y({shape:e,unknownKeys:"strip",catchall:J.create(),typeName:a.ZodObject,..._(t)});class ee extends S{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new s.jm(e.ctx.common.issues));return c(t,{code:s.NL.invalid_union,unionErrors:r}),p});{let e;let n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new s.jm(e));return c(t,{code:s.NL.invalid_union,unionErrors:i}),p}}get options(){return this._def.options}}ee.create=(e,t)=>new ee({options:e,typeName:a.ZodUnion,..._(t)});let et=e=>{if(e instanceof eu)return et(e.schema);if(e instanceof eg)return et(e.innerType());if(e instanceof ec)return[e.value];if(e instanceof ep)return e.options;if(e instanceof ef)return o.D5.objectValues(e.enum);if(e instanceof eb)return et(e._def.innerType);if(e instanceof V)return[void 0];else if(e instanceof K)return[null];else if(e instanceof em)return[void 0,...et(e.unwrap())];else if(e instanceof ey)return[null,...et(e.unwrap())];else if(e instanceof e_)return et(e.unwrap());else if(e instanceof eA)return et(e.unwrap());else if(e instanceof ev)return et(e._def.innerType);else return[]};class er extends S{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.$k.object)return c(t,{code:s.NL.invalid_type,expected:o.$k.object,received:t.parsedType}),p;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(c(t,{code:s.NL.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),p)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=et(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new er({typeName:a.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,..._(r)})}}class en extends S{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(g(e)||g(n))return p;let i=function e(t,r){let n=(0,o.FQ)(t),i=(0,o.FQ)(r);if(t===r)return{valid:!0,data:t};if(n===o.$k.object&&i===o.$k.object){let n=o.D5.objectKeys(r),i=o.D5.objectKeys(t).filter(e=>-1!==n.indexOf(e)),a={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};a[n]=i.data}return{valid:!0,data:a}}if(n===o.$k.array&&i===o.$k.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===o.$k.date&&i===o.$k.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return i.valid?((m(e)||m(n))&&t.dirty(),{status:t.value,value:i.data}):(c(r,{code:s.NL.invalid_intersection_types}),p)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}en.create=(e,t,r)=>new en({left:e,right:t,typeName:a.ZodIntersection,..._(r)});class ei extends S{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==o.$k.array)return c(r,{code:s.NL.invalid_type,expected:o.$k.array,received:r.parsedType}),p;if(r.data.length<this._def.items.length)return c(r,{code:s.NL.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),p;!this._def.rest&&r.data.length>this._def.items.length&&(c(r,{code:s.NL.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new v(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>d.mergeArray(t,e)):d.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new ei({...this._def,rest:e})}}ei.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ei({items:e,typeName:a.ZodTuple,rest:null,..._(t)})};class ea extends S{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==o.$k.object)return c(r,{code:s.NL.invalid_type,expected:o.$k.object,received:r.parsedType}),p;let n=[],i=this._def.keyType,a=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new v(r,e,r.path,e)),value:a._parse(new v(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?d.mergeObjectAsync(t,n):d.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new ea(t instanceof S?{keyType:e,valueType:t,typeName:a.ZodRecord,..._(r)}:{keyType:B.create(),valueType:e,typeName:a.ZodRecord,..._(t)})}}class es extends S{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==o.$k.map)return c(r,{code:s.NL.invalid_type,expected:o.$k.map,received:r.parsedType}),p;let n=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new v(r,e,r.path,[a,"key"])),value:i._parse(new v(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return p;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return p;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}es.create=(e,t,r)=>new es({valueType:t,keyType:e,typeName:a.ZodMap,..._(r)});class eo extends S{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==o.$k.set)return c(r,{code:s.NL.invalid_type,expected:o.$k.set,received:r.parsedType}),p;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(c(r,{code:s.NL.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(c(r,{code:s.NL.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let r=new Set;for(let n of e){if("aborted"===n.status)return p;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let l=[...r.data.values()].map((e,t)=>i._parse(new v(r,e,r.path,t)));return r.common.async?Promise.all(l).then(e=>a(e)):a(l)}min(e,t){return new eo({...this._def,minSize:{value:e,message:i.toString(t)}})}max(e,t){return new eo({...this._def,maxSize:{value:e,message:i.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}eo.create=(e,t)=>new eo({valueType:e,minSize:null,maxSize:null,typeName:a.ZodSet,..._(t)});class el extends S{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.$k.function)return c(t,{code:s.NL.invalid_type,expected:o.$k.function,received:t.parsedType}),p;function r(e,r){return u({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,l,l].filter(e=>!!e),issueData:{code:s.NL.invalid_arguments,argumentsError:r}})}function n(e,r){return u({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,l,l].filter(e=>!!e),issueData:{code:s.NL.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof eh){let e=this;return h(async function(...t){let o=new s.jm([]),l=await e._def.args.parseAsync(t,i).catch(e=>{throw o.addIssue(r(t,e)),o}),u=await Reflect.apply(a,this,l);return await e._def.returns._def.type.parseAsync(u,i).catch(e=>{throw o.addIssue(n(u,e)),o})})}{let e=this;return h(function(...t){let o=e._def.args.safeParse(t,i);if(!o.success)throw new s.jm([r(t,o.error)]);let l=Reflect.apply(a,this,o.data),u=e._def.returns.safeParse(l,i);if(!u.success)throw new s.jm([n(l,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new el({...this._def,args:ei.create(e).rest(G.create())})}returns(e){return new el({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new el({args:e||ei.create([]).rest(G.create()),returns:t||G.create(),typeName:a.ZodFunction,..._(r)})}}class eu extends S{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eu.create=(e,t)=>new eu({getter:e,typeName:a.ZodLazy,..._(t)});class ec extends S{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return c(t,{received:t.data,code:s.NL.invalid_literal,expected:this._def.value}),p}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ed(e,t){return new ep({values:e,typeName:a.ZodEnum,..._(t)})}ec.create=(e,t)=>new ec({value:e,typeName:a.ZodLiteral,..._(t)});class ep extends S{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return c(t,{expected:o.D5.joinValues(r),received:t.parsedType,code:s.NL.invalid_type}),p}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return c(t,{received:t.data,code:s.NL.invalid_enum_value,options:r}),p}return h(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ep.create(e,{...this._def,...t})}exclude(e,t=this._def){return ep.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}ep.create=ed;class ef extends S{_parse(e){let t=o.D5.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==o.$k.string&&r.parsedType!==o.$k.number){let e=o.D5.objectValues(t);return c(r,{expected:o.D5.joinValues(e),received:r.parsedType,code:s.NL.invalid_type}),p}if(this._cache||(this._cache=new Set(o.D5.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=o.D5.objectValues(t);return c(r,{received:r.data,code:s.NL.invalid_enum_value,options:e}),p}return h(e.data)}get enum(){return this._def.values}}ef.create=(e,t)=>new ef({values:e,typeName:a.ZodNativeEnum,..._(t)});class eh extends S{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==o.$k.promise&&!1===t.common.async?(c(t,{code:s.NL.invalid_type,expected:o.$k.promise,received:t.parsedType}),p):h((t.parsedType===o.$k.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eh.create=(e,t)=>new eh({type:e,typeName:a.ZodPromise,..._(t)});class eg extends S{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===a.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{c(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return p;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?p:"dirty"===n.status||"dirty"===t.value?f(n.value):n});{if("aborted"===t.value)return p;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?p:"dirty"===n.status||"dirty"===t.value?f(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?p:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?p:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>y(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):p);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!y(e))return p;let a=n.transform(e.value,i);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}}o.D5.assertNever(n)}}eg.create=(e,t,r)=>new eg({schema:e,typeName:a.ZodEffects,effect:t,..._(r)}),eg.createWithPreprocess=(e,t,r)=>new eg({schema:t,effect:{type:"preprocess",transform:e},typeName:a.ZodEffects,..._(r)});class em extends S{_parse(e){return this._getType(e)===o.$k.undefined?h(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}em.create=(e,t)=>new em({innerType:e,typeName:a.ZodOptional,..._(t)});class ey extends S{_parse(e){return this._getType(e)===o.$k.null?h(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ey.create=(e,t)=>new ey({innerType:e,typeName:a.ZodNullable,..._(t)});class eb extends S{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===o.$k.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eb.create=(e,t)=>new eb({innerType:e,typeName:a.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,..._(t)});class ev extends S{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return b(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new s.jm(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new s.jm(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ev.create=(e,t)=>new ev({innerType:e,typeName:a.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,..._(t)});class ew extends S{_parse(e){if(this._getType(e)!==o.$k.nan){let t=this._getOrReturnCtx(e);return c(t,{code:s.NL.invalid_type,expected:o.$k.nan,received:t.parsedType}),p}return{status:"valid",value:e.data}}}ew.create=e=>new ew({typeName:a.ZodNaN,..._(e)}),Symbol("zod_brand");class e_ extends S{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eS extends S{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?p:"dirty"===e.status?(t.dirty(),f(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?p:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eS({in:e,out:t,typeName:a.ZodPipeline})}}class eA extends S{_parse(e){let t=this._def.innerType._parse(e),r=e=>(y(e)&&(e.value=Object.freeze(e.value)),e);return b(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}eA.create=(e,t)=>new eA({innerType:e,typeName:a.ZodReadonly,..._(t)}),Y.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(a||(a={}));let ex=B.create;F.create,ew.create,q.create,H.create,z.create,Q.create,V.create,K.create,W.create,G.create,J.create,Z.create,X.create;let ek=Y.create;Y.strictCreate,ee.create,er.create,en.create,ei.create,ea.create,es.create,eo.create,el.create,eu.create,ec.create,ep.create,ef.create,eh.create,eg.create,em.create,ey.create,eg.createWithPreprocess,eS.create}};