exports.id=938,exports.ids=[938],exports.modules={18711:(e,t,s)=>{Promise.resolve().then(s.bind(s,85825))},85825:(e,t,s)=>{"use strict";s.d(t,{Chat:()=>K});var a=s(20149),i=s(81563),r=s(63606),l=s(22206),n=s(73286),d=s(85723),c=s(3831),o=s(31884);let m=(0,r.memo)(({children:e})=>(0,a.jsx)(c.UG,{remarkPlugins:[o.Z],components:{code:({node:e,inline:t,className:s,children:i,...r})=>{let l=/language-(\w+)/.exec(s||"");return!t&&l?(0,a.jsx)("pre",{...r,className:`${s} text-sm w-[80dvw] md:max-w-[500px] overflow-x-scroll bg-zinc-100 p-3 rounded-lg mt-2 dark:bg-zinc-800`,children:(0,a.jsx)("code",{className:l[1],children:i})}):(0,a.jsx)("code",{className:`${s} text-sm bg-zinc-100 dark:bg-zinc-800 py-0.5 px-1 rounded-md`,...r,children:i})},ol:({node:e,children:t,...s})=>(0,a.jsx)("ol",{className:"list-decimal list-outside ml-4",...s,children:t}),li:({node:e,children:t,...s})=>(0,a.jsx)("li",{className:"py-1",...s,children:t}),ul:({node:e,children:t,...s})=>(0,a.jsx)("ul",{className:"list-decimal list-outside ml-4",...s,children:t}),strong:({node:e,children:t,...s})=>(0,a.jsx)("span",{className:"font-semibold",...s,children:t}),a:({node:e,children:t,...s})=>(0,a.jsx)(d.default,{className:"text-blue-500 hover:underline",target:"_blank",rel:"noreferrer",...s,children:t})},children:e}),(e,t)=>e.children===t.children),x=({attachment:e,isUploading:t=!1})=>{let{name:s,url:i,contentType:r}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2 max-w-16",children:[(0,a.jsxs)("div",{className:"h-20 w-16 bg-muted rounded-md relative flex flex-col items-center justify-center",children:[r&&r.startsWith("image")?(0,a.jsx)("img",{src:i,alt:s??"An image attachment",className:"rounded-md size-full object-cover"},i):(0,a.jsx)("div",{className:""}),t&&(0,a.jsx)("div",{className:"animate-spin absolute text-zinc-500",children:(0,a.jsx)(n.c0,{})})]}),(0,a.jsx)("div",{className:"text-xs text-zinc-500 max-w-16 truncate",children:s})]})};var u=s(98638),p=s.n(u),f=s(42786),h=s(29274);let g={latitude:37.763283,longitude:-122.41286,generationtime_ms:.027894973754882813,utc_offset_seconds:0,timezone:"GMT",timezone_abbreviation:"GMT",elevation:18,current_units:{time:"iso8601",interval:"seconds",temperature_2m:"\xb0C"},current:{time:"2024-10-07T19:30",interval:900,temperature_2m:29.3},hourly_units:{time:"iso8601",temperature_2m:"\xb0C"},hourly:{time:["2024-10-07T00:00","2024-10-07T01:00","2024-10-07T02:00","2024-10-07T03:00","2024-10-07T04:00","2024-10-07T05:00","2024-10-07T06:00","2024-10-07T07:00","2024-10-07T08:00","2024-10-07T09:00","2024-10-07T10:00","2024-10-07T11:00","2024-10-07T12:00","2024-10-07T13:00","2024-10-07T14:00","2024-10-07T15:00","2024-10-07T16:00","2024-10-07T17:00","2024-10-07T18:00","2024-10-07T19:00","2024-10-07T20:00","2024-10-07T21:00","2024-10-07T22:00","2024-10-07T23:00","2024-10-08T00:00","2024-10-08T01:00","2024-10-08T02:00","2024-10-08T03:00","2024-10-08T04:00","2024-10-08T05:00","2024-10-08T06:00","2024-10-08T07:00","2024-10-08T08:00","2024-10-08T09:00","2024-10-08T10:00","2024-10-08T11:00","2024-10-08T12:00","2024-10-08T13:00","2024-10-08T14:00","2024-10-08T15:00","2024-10-08T16:00","2024-10-08T17:00","2024-10-08T18:00","2024-10-08T19:00","2024-10-08T20:00","2024-10-08T21:00","2024-10-08T22:00","2024-10-08T23:00","2024-10-09T00:00","2024-10-09T01:00","2024-10-09T02:00","2024-10-09T03:00","2024-10-09T04:00","2024-10-09T05:00","2024-10-09T06:00","2024-10-09T07:00","2024-10-09T08:00","2024-10-09T09:00","2024-10-09T10:00","2024-10-09T11:00","2024-10-09T12:00","2024-10-09T13:00","2024-10-09T14:00","2024-10-09T15:00","2024-10-09T16:00","2024-10-09T17:00","2024-10-09T18:00","2024-10-09T19:00","2024-10-09T20:00","2024-10-09T21:00","2024-10-09T22:00","2024-10-09T23:00","2024-10-10T00:00","2024-10-10T01:00","2024-10-10T02:00","2024-10-10T03:00","2024-10-10T04:00","2024-10-10T05:00","2024-10-10T06:00","2024-10-10T07:00","2024-10-10T08:00","2024-10-10T09:00","2024-10-10T10:00","2024-10-10T11:00","2024-10-10T12:00","2024-10-10T13:00","2024-10-10T14:00","2024-10-10T15:00","2024-10-10T16:00","2024-10-10T17:00","2024-10-10T18:00","2024-10-10T19:00","2024-10-10T20:00","2024-10-10T21:00","2024-10-10T22:00","2024-10-10T23:00","2024-10-11T00:00","2024-10-11T01:00","2024-10-11T02:00","2024-10-11T03:00"],temperature_2m:[36.6,32.8,29.5,28.6,29.2,28.2,27.5,26.6,26.5,26,25,23.5,23.9,24.2,22.9,21,24,28.1,31.4,33.9,32.1,28.9,26.9,25.2,23,21.1,19.6,18.6,17.7,16.8,16.2,15.5,14.9,14.4,14.2,13.7,13.3,12.9,12.5,13.5,15.8,17.7,19.6,21,21.9,22.3,22,20.7,18.9,17.9,17.3,17,16.7,16.2,15.6,15.2,15,15,15.1,14.8,14.8,14.9,14.7,14.8,15.3,16.2,17.9,19.6,20.5,21.6,21,20.7,19.3,18.7,18.4,17.9,17.3,17,17,16.8,16.4,16.2,16,15.8,15.7,15.4,15.4,16.1,16.7,17,18.6,19,19.5,19.4,18.5,17.9,17.5,16.7,16.3,16.1]},daily_units:{time:"iso8601",sunrise:"iso8601",sunset:"iso8601"},daily:{time:["2024-10-07","2024-10-08","2024-10-09","2024-10-10","2024-10-11"],sunrise:["2024-10-07T07:15","2024-10-08T07:16","2024-10-09T07:17","2024-10-10T07:18","2024-10-11T07:19"],sunset:["2024-10-07T19:00","2024-10-08T18:58","2024-10-09T18:57","2024-10-10T18:55","2024-10-11T18:54"]}};function v(e){return Math.ceil(e)}function b({weatherAtLocation:e=g}){let t=Math.max(...e.hourly.temperature_2m.slice(0,24)),s=Math.min(...e.hourly.temperature_2m.slice(0,24)),i=(0,f._)(new Date(e.current.time),{start:new Date(e.daily.sunrise[0]),end:new Date(e.daily.sunset[0])}),[l,n]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>{n(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let d=l?5:6,c=e.hourly.time.findIndex(t=>new Date(t)>=new Date(e.current.time)),o=e.hourly.time.slice(c,c+d),m=e.hourly.temperature_2m.slice(c,c+d);return(0,a.jsxs)("div",{className:p()("flex flex-col gap-4 rounded-2xl p-4 skeleton-bg",{"bg-blue-400":i},{"bg-indigo-900":!i}),children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,a.jsx)("div",{className:p()("size-10 rounded-full skeleton-div",{"bg-yellow-300":i},{"bg-indigo-100":!i})}),(0,a.jsxs)("div",{className:"text-4xl font-medium text-blue-50",children:[v(e.current.temperature_2m),e.current_units.temperature_2m]})]}),(0,a.jsx)("div",{className:"text-blue-50",children:`H:${v(t)}\xb0 L:${v(s)}\xb0`})]}),(0,a.jsx)("div",{className:"flex flex-row justify-between",children:o.map((t,s)=>(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,a.jsx)("div",{className:"text-blue-100 text-xs",children:(0,h.WU)(new Date(t),"ha")}),(0,a.jsx)("div",{className:p()("size-6 rounded-full skeleton-div",{"bg-yellow-300":i},{"bg-indigo-200":!i})}),(0,a.jsxs)("div",{className:"text-blue-50 text-sm",children:[v(m[s]),e.hourly_units.temperature_2m]})]},t))})]})}var j=s(95390),N=s(70968),w=s(15834),y=s(24219),T=s(52472);function D({intent:e={reservationId:"sample-uuid"}}){let{data:t,mutate:s}=(0,w.ZP)(`/api/reservation?id=${e.reservationId}`,y._i),[i,l]=(0,r.useState)(""),d=async t=>{try{let a=await fetch(`/api/reservation?id=${e.reservationId}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({magicWord:t})});if(!a.ok){let e=await a.text();throw Error(e||a.statusText)}let i=await a.json();s(i)}catch(e){e instanceof Error?N.A.error(e.message):N.A.error("An unknown error occurred")}};return t?.hasCompletedPayment?(0,a.jsxs)("div",{className:"bg-emerald-500 p-4 rounded-lg gap-4 flex flex-row justify-between items-center",children:[(0,a.jsx)("div",{className:"dark:text-emerald-950 text-emerald-50 font-medium",children:"Payment Verified"}),(0,a.jsx)("div",{className:"dark:text-emerald-950 text-emerald-50",children:(0,a.jsx)(n.fU,{size:20})})]}):(0,j.X)(new Date,new Date(t?.createdAt))>150?(0,a.jsxs)("div",{className:"bg-red-500 p-4 rounded-lg gap-4 flex flex-row justify-between items-center",children:[(0,a.jsx)("div",{className:"text-background",children:"Payment Gateway Timed Out"}),(0,a.jsx)("div",{className:"text-background",children:(0,a.jsx)(n.sz,{size:20})})]}):(0,a.jsxs)("div",{className:"bg-muted p-4 rounded-lg flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"text font-medium",children:"Use your saved information for this transaction"}),(0,a.jsx)("div",{className:"text-muted-foreground text-sm sm:text-base",children:"Enter the magic word to authorize payment. Hint: It rhymes with bercel."}),(0,a.jsx)(T.I,{type:"text",placeholder:"Enter magic word...",className:"dark:bg-zinc-700 text-base border-none mt-2",onChange:e=>l(e.currentTarget.value),onKeyDown:async e=>{"Enter"===e.key&&(await d(i),l(""))}})]})}var S=s(50777);let A={reservationId:"RES123456",flightNumber:"DL1",seat:"1C",departure:{cityName:"London",airportCode:"LHR",airportName:"Heathrow Airport",timestamp:"2023-11-01T09:00:00Z",terminal:"5",gate:"A10"},arrival:{cityName:"New York City",airportCode:"JFK",airportName:"John F. Kennedy International Airport",timestamp:"2023-11-01T12:00:00Z",terminal:"4",gate:"B22"},passengerName:"John Doe"};function k({boardingPass:e=A}){return(0,a.jsxs)("div",{className:"bg-yellow-200 p-4 rounded-lg flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between items-center relative",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,a.jsx)("div",{className:"text-yellow-800 text-sm sm:text-base",children:e.departure.cityName}),(0,a.jsx)("div",{className:"text-yellow-800 text-2xl sm:text-3xl font-semibold",children:e.departure.airportCode})]}),(0,a.jsx)("div",{className:"absolute w-full flex flex-row justify-center",children:(0,a.jsx)("div",{className:"text-amber-800",children:(0,a.jsx)(S.Z,{})})}),(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,a.jsx)("div",{className:"text-yellow-800 text-sm sm:text-base",children:e.arrival.cityName}),(0,a.jsx)("div",{className:"text-yellow-800 text-2xl sm:text-3xl font-semibold text-right",children:e.arrival.airportCode})]})]}),(0,a.jsx)("div",{className:"h-px grow bg-yellow-600/20"}),(0,a.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,a.jsx)("div",{className:"text-yellow-900 text-sm font-medium sm:text-base",children:"Passenger"}),(0,a.jsx)("div",{className:"text-lg text-yellow-700",children:e.passengerName})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,a.jsx)("div",{className:"text-yellow-900 text-sm font-medium sm:text-base",children:"Gate"}),(0,a.jsx)("div",{className:"text-lg text-yellow-700",children:e.departure.gate})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,a.jsx)("div",{className:"text-yellow-900 text-sm font-medium sm:text-base",children:"Boards"}),(0,a.jsx)("div",{className:"text-lg text-yellow-700",children:(0,h.WU)(new Date(e.departure.timestamp),"h:mma")})]})]})]})}let I={seats:["4C"],flightNumber:"EK413",departure:{cityName:"Sydney",airportCode:"SYD",timestamp:"2023-11-01T06:00:00",gate:"A12",terminal:"1"},arrival:{cityName:"Chennai",airportCode:"MAA",timestamp:"2023-11-01T18:45:00",gate:"B5",terminal:"3"},passengerName:"John Doe",totalPriceInUSD:1200};function z({reservation:e=I}){return(0,a.jsx)("div",{className:"rounded-lg bg-muted p-4",children:(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex flex-col justify-between gap-4",children:[(0,a.jsxs)("div",{className:"text font-medium",children:[(0,a.jsxs)("span",{className:"no-skeleton text-foreground/50",children:["Continue purchasing this reservation from"," "]}),e.departure.cityName," to ",e.arrival.cityName,(0,a.jsx)("span",{className:"no-skeleton text-foreground/50",children:" at "})," ",(0,a.jsxs)("span",{className:"no-skeleton text-emerald-600 font-medium",children:["$",e.totalPriceInUSD," USD",(0,a.jsx)("span",{className:"no-skeleton text-foreground/50 ",children:"?"})]})]}),(0,a.jsxs)("div",{className:"flex flex-row gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"text font-medium sm:text-base text-sm",children:"Seats"}),(0,a.jsx)("div",{className:"text-muted-foreground sm:text-base text-sm",children:e.seats.join(", ")})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"text sm:text-base text-sm font-medium",children:"Flight Number"}),(0,a.jsx)("div",{className:"text sm:text-base text-sm text-muted-foreground",children:e.flightNumber})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"text font-medium sm:text-base text-sm",children:"Date"}),(0,a.jsx)("div",{className:"text text-muted-foreground sm:text-base text-sm",children:(0,h.WU)(new Date(e.arrival.timestamp),"dd LLL yyyy")})]})]})]})})})}var C=s(41198);let U={flightNumber:"BA142",departure:{cityName:"London",airportCode:"LHR",airportName:"London Heathrow Airport",timestamp:"2024-10-08T18:30:00Z",terminal:"5",gate:"A10"},arrival:{cityName:"New York",airportCode:"JFK",airportName:"John F. Kennedy International Airport",timestamp:"2024-10-09T07:30:00Z",terminal:"7",gate:"B22"},totalDistanceInMiles:3450};function F({row:e=U.arrival,type:t="arrival"}){return(0,a.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,a.jsx)("div",{className:"flex flex-row",children:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,a.jsx)("div",{className:"bg-foreground text-background rounded-full size-fit",children:"arrival"===t?(0,a.jsx)("div",{className:"rotate-90",children:(0,a.jsx)(n.P7,{size:16})}):(0,a.jsx)(n.P7,{size:16})}),(0,a.jsx)("div",{className:"text-sm sm:text-base text-muted-foreground",children:e.airportCode}),(0,a.jsx)("div",{children:"\xb7"}),(0,a.jsx)("div",{className:"text-sm sm:text-base truncate max-w-32 sm:max-w-64 text-muted-foreground",children:e.airportName})]}),(0,a.jsx)("div",{className:"text-2xl sm:text-3xl font-medium",children:(0,h.WU)(new Date(e.timestamp),"h:mm a")})]})}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 items-end justify-center mt-auto",children:[(0,a.jsx)("div",{className:"text-sm sm:text-sm bg-amber-400 rounded-md w-fit px-2 text-amber-900",children:e.gate}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Terminal ",e.terminal]})]})]})}function _({flightStatus:e=U}){return(0,a.jsxs)("div",{className:"flex flex-col gap-2 bg-muted rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 text-sm",children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:e.flightNumber}),(0,a.jsxs)("div",{className:"text-lg font-medium",children:[e.departure.cityName," to ",e.arrival.cityName]})]}),(0,a.jsx)("div",{className:"h-px grow bg-muted-foreground/20"}),(0,a.jsx)(F,{row:e.arrival,type:"departure"}),(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground ",children:[(0,C.A)(new Date(e.arrival.timestamp),new Date(e.departure.timestamp))," ","hours"]}),(0,a.jsx)("div",{children:"\xb7"}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.totalDistanceInMiles," mi"]}),(0,a.jsx)("div",{className:"h-px grow bg-muted-foreground/20 ml-2"})]}),(0,a.jsx)(F,{row:e.departure,type:"arrival"})]})}let P={flights:[{id:"result_1",departure:{cityName:"San Francisco",airportCode:"SFO",timestamp:"2024-05-19T18:00:00Z"},arrival:{cityName:"Rome",airportCode:"FCO",timestamp:"2024-05-20T14:30:00Z"},airlines:["United Airlines","Lufthansa"],priceInUSD:1200.5,numberOfStops:1},{id:"result_2",departure:{cityName:"San Francisco",airportCode:"SFO",timestamp:"2024-05-19T17:30:00Z"},arrival:{cityName:"Rome",airportCode:"FCO",timestamp:"2024-05-20T15:00:00Z"},airlines:["British Airways"],priceInUSD:1350,numberOfStops:0},{id:"result_3",departure:{cityName:"San Francisco",airportCode:"SFO",timestamp:"2024-05-19T19:15:00Z"},arrival:{cityName:"Rome",airportCode:"FCO",timestamp:"2024-05-20T16:45:00Z"},airlines:["Delta Air Lines","Air France"],priceInUSD:1150.75,numberOfStops:1},{id:"result_4",departure:{cityName:"San Francisco",airportCode:"SFO",timestamp:"2024-05-19T16:30:00Z"},arrival:{cityName:"Rome",airportCode:"FCO",timestamp:"2024-05-20T13:50:00Z"},airlines:["American Airlines","Iberia"],totalDurationInMinutes:740,priceInUSD:1250.25,numberOfStops:1}]};function E({chatId:e,results:t=P}){let{append:s}=(0,i.RJ)({id:e,body:{id:e},maxSteps:5});return(0,a.jsx)("div",{className:"rounded-lg bg-muted px-4 py-1.5 flex flex-col",children:t.flights.map(e=>(0,a.jsxs)("div",{className:"cursor-pointer flex flex-row border-b dark:border-zinc-700 py-2 last-of-type:border-none group",onClick:()=>{let t=Array.isArray(e.airlines)?e.airlines.join(", "):e.airlines||"selected";s({role:"user",content:`I would like to book the ${t} one!`})},children:[(0,a.jsxs)("div",{className:"flex flex-col w-full gap-0.5 justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-row gap-0.5 text-base sm:text-base font-medium group-hover:underline",children:[(0,a.jsx)("div",{className:"text",children:(0,h.WU)(new Date(e.departure.timestamp),"h:mm a")}),(0,a.jsx)("div",{className:"no-skeleton",children:"–"}),(0,a.jsx)("div",{className:"text",children:(0,h.WU)(new Date(e.arrival.timestamp),"h:mm a")})]}),(0,a.jsx)("div",{className:"text w-fit hidden sm:flex text-sm text-muted-foreground flex-row gap-2",children:(0,a.jsx)("div",{children:e.airlines.join(", ")})}),(0,a.jsxs)("div",{className:"text sm:hidden text-xs sm:text-sm text-muted-foreground flex flex-row gap-2",children:[e.numberOfStops||0," stops"]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-0.5 justify-between",children:[(0,a.jsx)("div",{className:"flex flex-row gap-2",children:(0,a.jsxs)("div",{className:"text-base sm:text-base",children:[(0,C.A)(new Date(e.arrival.timestamp),new Date(e.departure.timestamp))," ","hr"]})}),(0,a.jsxs)("div",{className:"text-xs sm:text-sm text-muted-foreground flex flex-row",children:[(0,a.jsx)("div",{children:e.departure.airportCode}),(0,a.jsx)("div",{children:"–"}),(0,a.jsx)("div",{children:e.arrival.airportCode})]})]}),(0,a.jsxs)("div",{className:"flex flex-col w-32 items-end gap-0.5",children:[(0,a.jsx)("div",{className:"flex flex-row gap-2",children:(0,a.jsxs)("div",{className:"text-base sm:text-base text-emerald-600 dark:text-emerald-500",children:["$",e.priceInUSD]})}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground flex flex-row",children:"Round Trip"})]})]},e.id))})}let L={seats:[[{seatNumber:"1A",priceInUSD:150,isAvailable:!1},{seatNumber:"1B",priceInUSD:150,isAvailable:!1},{seatNumber:"1C",priceInUSD:150,isAvailable:!1},{seatNumber:"1D",priceInUSD:150,isAvailable:!1},{seatNumber:"1E",priceInUSD:150,isAvailable:!1},{seatNumber:"1F",priceInUSD:150,isAvailable:!1}],[{seatNumber:"2A",priceInUSD:150,isAvailable:!1},{seatNumber:"2B",priceInUSD:150,isAvailable:!1},{seatNumber:"2C",priceInUSD:150,isAvailable:!1},{seatNumber:"2D",priceInUSD:150,isAvailable:!1},{seatNumber:"2E",priceInUSD:150,isAvailable:!1},{seatNumber:"2F",priceInUSD:150,isAvailable:!1}],[{seatNumber:"3A",priceInUSD:150,isAvailable:!1},{seatNumber:"3B",priceInUSD:150,isAvailable:!1},{seatNumber:"3C",priceInUSD:150,isAvailable:!1},{seatNumber:"3D",priceInUSD:150,isAvailable:!1},{seatNumber:"3E",priceInUSD:150,isAvailable:!1},{seatNumber:"3F",priceInUSD:150,isAvailable:!1}],[{seatNumber:"4A",priceInUSD:150,isAvailable:!1},{seatNumber:"4B",priceInUSD:150,isAvailable:!1},{seatNumber:"4C",priceInUSD:150,isAvailable:!1},{seatNumber:"4D",priceInUSD:150,isAvailable:!1},{seatNumber:"4E",priceInUSD:150,isAvailable:!1},{seatNumber:"4F",priceInUSD:150,isAvailable:!1}],[{seatNumber:"5A",priceInUSD:150,isAvailable:!1},{seatNumber:"5B",priceInUSD:150,isAvailable:!1},{seatNumber:"5C",priceInUSD:150,isAvailable:!1},{seatNumber:"5D",priceInUSD:150,isAvailable:!1},{seatNumber:"5E",priceInUSD:150,isAvailable:!1},{seatNumber:"5F",priceInUSD:150,isAvailable:!1}]]};function O({chatId:e,availability:t=L}){let{append:s}=(0,i.RJ)({id:e,body:{id:e},maxSteps:5});return(0,a.jsxs)("div",{className:"flex flex-col gap-2 bg-muted rounded-lg",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 scale-75",children:[(0,a.jsxs)("div",{className:"flex flex-row w-full justify-between text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)("div",{className:"w-[45px] sm:w-[54px] text-center",children:"A"}),(0,a.jsx)("div",{className:"w-[45px] sm:w-[54px] text-center",children:"B"}),(0,a.jsx)("div",{className:"w-[45px] sm:w-[54px] text-center",children:"C"})]}),(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)("div",{className:"w-[45px] sm:w-[54px] text-center",children:"D"}),(0,a.jsx)("div",{className:"w-[45px] sm:w-[54px] text-center",children:"E"}),(0,a.jsx)("div",{className:"w-[45px] sm:w-[54px] text-center",children:"F"})]})]}),t.seats.map((e,t)=>(0,a.jsx)("div",{className:"flex flex-row gap-4",children:e.map((e,i)=>(0,a.jsxs)(a.Fragment,{children:[3===i?(0,a.jsx)("div",{className:"flex flex-row items-center justify-center w-full text-muted-foreground",children:t+1}):null,(0,a.jsxs)("div",{onClick:()=>{s({role:"user",content:`I'd like to go with seat ${e.seatNumber}`})},className:p()("cursor-pointer group relative size-8 sm:size-10 flex-shrink-0 flex rounded-sm flex-row items-center justify-center",{"bg-blue-500 hover:bg-pink-500":e.isAvailable,"bg-gray-500 cursor-not-allowed":!e.isAvailable}),children:[(0,a.jsxs)("div",{className:"text-xs text-white",children:["$",e.priceInUSD]}),(0,a.jsx)("div",{className:p()("absolute -top-1 h-2 w-full scale-125 rounded-sm",{"bg-blue-600 group-hover:bg-pink-600":e.isAvailable,"bg-zinc-600 cursor-not-allowed":!e.isAvailable})})]},e.seatNumber)]}))},`row-${t}`))]}),(0,a.jsxs)("div",{className:"flex flex-row gap-4 justify-center pb-6",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,a.jsx)("div",{className:"size-4 bg-blue-500 rounded-sm"}),(0,a.jsx)("div",{className:"text text-muted-foreground font-medium text-sm",children:"Available"})]}),(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,a.jsx)("div",{className:"size-4 bg-gray-500 rounded-sm"}),(0,a.jsx)("div",{className:"text text-muted-foreground font-medium text-sm",children:"Unavailable"})]})]})]})}function R({result:{hasCompletedPayment:e}}){return(0,a.jsx)("div",{children:e?"Your payment transaction has been verified!":"Unable to verify your payment, please try again!"})}let B=({chatId:e,role:t,content:s,toolInvocations:i,attachments:r})=>(0,a.jsxs)(l.E.div,{className:"flex flex-row gap-4 px-4 w-full md:w-[500px] md:px-0 first-of-type:pt-20",initial:{y:5,opacity:0},animate:{y:0,opacity:1},children:[(0,a.jsx)("div",{className:"size-[24px] border rounded-sm p-1 flex flex-col justify-center items-center shrink-0 text-zinc-500",children:"assistant"===t?(0,a.jsx)(n.Z8,{}):(0,a.jsx)(n.tB,{})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[s&&"string"==typeof s&&(0,a.jsx)("div",{className:"text-zinc-800 dark:text-zinc-300 flex flex-col gap-4",children:(0,a.jsx)(m,{children:s})}),i&&(0,a.jsx)("div",{className:"flex flex-col gap-4",children:i.map(t=>{let{toolName:s,toolCallId:i,state:r}=t;if("result"!==r)return(0,a.jsx)("div",{className:"skeleton",children:"getWeather"===s?(0,a.jsx)(b,{}):"displayFlightStatus"===s?(0,a.jsx)(_,{}):"searchFlights"===s?(0,a.jsx)(E,{chatId:e}):"selectSeats"===s?(0,a.jsx)(O,{chatId:e}):"createReservation"===s?(0,a.jsx)(z,{}):"authorizePayment"===s?(0,a.jsx)(D,{}):"displayBoardingPass"===s?(0,a.jsx)(k,{}):null},i);{let{result:r}=t;return(0,a.jsx)("div",{children:"getWeather"===s?(0,a.jsx)(b,{weatherAtLocation:r}):"displayFlightStatus"===s?(0,a.jsx)(_,{flightStatus:r}):"searchFlights"===s?(0,a.jsx)(E,{chatId:e,results:r}):"selectSeats"===s?(0,a.jsx)(O,{chatId:e,availability:r}):"createReservation"===s?Object.keys(r).includes("error")?null:(0,a.jsx)(z,{reservation:r}):"authorizePayment"===s?(0,a.jsx)(D,{intent:r}):"displayBoardingPass"===s?(0,a.jsx)(k,{boardingPass:r}):"verifyPayment"===s?(0,a.jsx)(R,{result:r}):(0,a.jsx)("div",{children:JSON.stringify(r,null,2)})},i)}})}),r&&(0,a.jsx)("div",{className:"flex flex-row gap-2",children:r.map(e=>(0,a.jsx)(x,{attachment:e},e.url))})]})]}),Z=function(){let[e,t]=(0,r.useState)({width:void 0,height:void 0});return(0,r.useEffect)(()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e};var $=s(56598);let M=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("textarea",{className:(0,y.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));M.displayName="Textarea";let W=[{title:"Help me book a flight",label:"from San Francisco to London",action:"Help me book a flight from San Francisco to London"},{title:"What is the status",label:"of flight BA142 flying tmrw?",action:"What is the status of flight BA142 flying tmrw?"}];function H({input:e,setInput:t,isLoading:s,stop:i,attachments:d,setAttachments:c,messages:o,append:m,handleSubmit:u}){let p=(0,r.useRef)(null),{width:f}=Z();(0,r.useEffect)(()=>{p.current&&h()},[]);let h=()=>{p.current&&(p.current.style.height="auto",p.current.style.height=`${p.current.scrollHeight+0}px`)},g=(0,r.useRef)(null),[v,b]=(0,r.useState)([]),j=(0,r.useCallback)(()=>{u(void 0,{experimental_attachments:d}),c([]),f&&f>768&&p.current?.focus()},[d,u,c,f]),w=["image/png","image/jpeg","image/gif","application/pdf","text/plain","text/markdown","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],y=e=>e.split(".").pop()?.toLowerCase()||"",T=e=>{if(e.type&&w.includes(e.type))return!0;if(!e.type){let t={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",pdf:"application/pdf",txt:"text/plain",md:"text/markdown",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}[y(e.name)];return!!t&&w.includes(t)}return!1},D=async e=>{if(!T(e)){N.A.error("Invalid file type. Please upload images (PNG, JPEG, GIF), PDFs, text files, or Office documents.");return}if(e.size>10485760){N.A.error("File too large. Please upload files smaller than 10MB.");return}let t=new FormData;t.append("file",e);try{let e=await fetch("/api/files/upload",{method:"POST",body:t});if(e.ok){let{url:t,pathname:s,contentType:a}=await e.json();return{url:t,name:s,contentType:a}}{let{error:t}=await e.json();N.A.error(t)}}catch(e){N.A.error("Failed to upload file, please try again!")}},S=(0,r.useCallback)(async e=>{let t=Array.from(e.target.files||[]);b(t.map(e=>e.name));try{let e=t.map(e=>D(e)),s=(await Promise.all(e)).filter(e=>void 0!==e);c(e=>[...e,...s])}catch(e){console.error("Error uploading files!",e)}finally{b([])}},[c]);return(0,a.jsxs)("div",{className:"relative w-full flex flex-col gap-4",children:[0===o.length&&0===d.length&&0===v.length&&(0,a.jsx)("div",{className:"grid sm:grid-cols-2 gap-4 w-full md:px-0 mx-auto md:max-w-[500px]",children:W.map((e,t)=>(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{delay:.05*t},className:t>1?"hidden sm:block":"block",children:(0,a.jsxs)("button",{onClick:async()=>{m({role:"user",content:e.action})},className:"border-none bg-muted/50 w-full text-left border border-zinc-200 dark:border-zinc-800 text-zinc-800 dark:text-zinc-300 rounded-lg p-3 text-sm hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium",children:e.title}),(0,a.jsx)("span",{className:"text-zinc-500 dark:text-zinc-400",children:e.label})]})},t))}),(0,a.jsx)("input",{type:"file",className:"fixed -top-4 -left-4 size-0.5 opacity-0 pointer-events-none",ref:g,multiple:!0,onChange:S,tabIndex:-1}),(d.length>0||v.length>0)&&(0,a.jsxs)("div",{className:"flex flex-row gap-2 overflow-x-scroll",children:[d.map(e=>(0,a.jsx)(x,{attachment:e},e.url)),v.map(e=>(0,a.jsx)(x,{attachment:{url:"",name:e,contentType:""},isUploading:!0},e))]}),(0,a.jsx)(M,{ref:p,placeholder:"Send a message...",value:e,onChange:e=>{t(e.target.value),h()},className:"min-h-[24px] overflow-hidden resize-none rounded-lg text-base bg-muted border-none",rows:3,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),s?N.A.error("Please wait for the model to finish its response!"):j())}}),s?(0,a.jsx)($.z,{className:"rounded-full p-1.5 h-fit absolute bottom-2 right-2 m-0.5 text-white",onClick:e=>{e.preventDefault(),i()},children:(0,a.jsx)(n.wN,{size:14})}):(0,a.jsx)($.z,{className:"rounded-full p-1.5 h-fit absolute bottom-2 right-2 m-0.5 text-white",onClick:e=>{e.preventDefault(),j()},disabled:0===e.length||v.length>0,children:(0,a.jsx)(n.Hf,{size:14})}),(0,a.jsx)($.z,{className:"rounded-full p-1.5 h-fit absolute bottom-2 right-10 m-0.5 dark:border-zinc-700",onClick:e=>{e.preventDefault(),g.current?.click()},variant:"outline",disabled:s,children:(0,a.jsx)(n.og,{size:14})})]})}let J=()=>(0,a.jsx)(l.E.div,{className:"max-w-[500px] mt-20 mx-4 md:mx-0",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{delay:.5},children:(0,a.jsxs)("div",{className:"border-none bg-muted/50 rounded-2xl p-6 flex flex-col gap-4 text-zinc-500 text-sm dark:text-zinc-400 dark:border-zinc-700",children:[(0,a.jsxs)("p",{className:"flex flex-row justify-center gap-4 items-center text-zinc-900 dark:text-zinc-50",children:[(0,a.jsx)(n.Kn,{}),(0,a.jsx)("span",{children:"+"}),(0,a.jsx)(n.P$,{})]}),(0,a.jsxs)("p",{children:["This is an open source Chatbot template powered by the Google Gemini model built with Next.js and the AI SDK by Vercel. It uses the"," ",(0,a.jsx)("code",{className:"rounded-sm bg-muted-foreground/15 px-1.5 py-0.5",children:"streamText"})," ","function in the server and the"," ",(0,a.jsx)("code",{className:"rounded-sm bg-muted-foreground/15 px-1.5 py-0.5",children:"useChat"})," ","hook on the client to create a seamless chat experience."]}),(0,a.jsxs)("p",{children:[" ","You can learn more about the AI SDK by visiting the"," ",(0,a.jsx)(d.default,{className:"text-blue-500 dark:text-blue-400",href:"https://sdk.vercel.ai/docs",target:"_blank",children:"Docs"}),"."]})]})},"overview");function K({id:e,initialMessages:t}){let{messages:s,handleSubmit:l,input:n,setInput:d,append:c,isLoading:o,stop:m}=(0,i.RJ)({id:e,body:{id:e},initialMessages:t,maxSteps:10,onFinish:()=>{window.history.replaceState({},"",`/chat/${e}`)}}),[x,u]=function(){let e=(0,r.useRef)(null),t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let s=e.current,a=t.current;if(s&&a){let e=new MutationObserver(()=>{a.scrollIntoView({behavior:"instant",block:"end"})});return e.observe(s,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>e.disconnect()}},[]),[e,t]}(),[p,f]=(0,r.useState)([]);return(0,a.jsx)("div",{className:"flex flex-row justify-center pb-4 md:pb-8 h-dvh bg-background",children:(0,a.jsxs)("div",{className:"flex flex-col justify-between items-center gap-4",children:[(0,a.jsxs)("div",{ref:x,className:"flex flex-col gap-4 h-full w-dvw items-center overflow-y-scroll",children:[0===s.length&&(0,a.jsx)(J,{}),s.map(t=>(0,a.jsx)(B,{chatId:e,role:t.role,content:t.content,attachments:t.experimental_attachments,toolInvocations:t.toolInvocations},t.id)),(0,a.jsx)("div",{ref:u,className:"shrink-0 min-w-[24px] min-h-[24px]"})]}),(0,a.jsx)("form",{className:"flex flex-row gap-2 relative items-end w-full md:max-w-[500px] max-w-[calc(100dvw-32px) px-4 md:px-0",children:(0,a.jsx)(H,{input:n,setInput:d,handleSubmit:l,isLoading:o,stop:m,attachments:p,setAttachments:f,messages:s,append:c})})]})})}},52472:(e,t,s)=>{"use strict";s.d(t,{I:()=>l});var a=s(20149),i=s(63606),r=s(24219);let l=i.forwardRef(({className:e,type:t,...s},i)=>(0,a.jsx)("input",{type:t,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...s}));l.displayName="Input"},68587:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{e:()=>e});var i=s(3571);let e=(await (0,i.createProxy)(String.raw`/Users/duy/Documents/build/rag/components/custom/chat.tsx`)).Chat;a()}catch(e){a(e)}},1)},57481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(78099);let i=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},9178:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(78099);let i=e=>[{type:"image/png",width:2400,height:1256,url:(0,a.fillMetadataSegment)("/(chat)",e.params,"opengraph-image.png")+"?8190afebf6a79ae8"}]},11189:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(78099);let i=e=>[{type:"image/png",width:2400,height:1256,url:(0,a.fillMetadataSegment)("/(chat)",e.params,"twitter-image.png")+"?8190afebf6a79ae8"}]}};